<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>[Triton ìš´ì˜í˜• ì„œë¹™ í”Œë«í¼ (GitOps Â· ê²€ì¦ Â· Alerting) - Alerting ìš´ì˜ í‘œì¤€ ë§¤ë‰´ì–¼] | ğŸ”ï¸ MLOps Journey</title>
<meta name=keywords content><meta name=description content="Dev/Prod ë¶„ë¦¬ + Triton Serving Alerts
(kube-prometheus-stack Â· PrometheusRule Â· Alertmanager Â· ArgoCD Â· SealedSecret)

ğŸ§  ì‹œë‚˜ë¦¬ì˜¤ ì„¤ëª…

ObservabilityëŠ” ëŒ€ì‹œë³´ë“œê°€ ì•„ë‹ˆë¼, ì‚¬ê³ ë¥¼ ë§‰ëŠ” ìš´ì˜ ì •ì±…ì…ë‹ˆë‹¤.
ì´ ë¬¸ì„œëŠ” dev/prod ì•ŒëŸ¿ì„ ì™„ì „íˆ ë¶„ë¦¬í•˜ê³ ,
ë¼ë²¨ ì‹¤ìˆ˜ë¡œ ì¸í•œ êµì°¨ ì „ì†¡ê¹Œì§€ êµ¬ì¡°ì ìœ¼ë¡œ ì°¨ë‹¨í•˜ë©°,
Triton ì„œë¹™ í’ˆì§ˆì„ ëª¨ë¸ ì‹¤í–‰ ê´€ì ì—ì„œ ê°ì§€í•˜ë„ë¡ ì„¤ê³„ëœ
GitOps ê¸°ë°˜ Alerting ìš´ì˜ í‘œì¤€ì…ë‹ˆë‹¤.
ì•ŒëŸ¿ì€ ë°œìƒì´ ì•„ë‹ˆë¼ 30ì´ˆ ì•ˆì— íŒë‹¨ê³¼ ì¡°ì¹˜ë¡œ ì´ì–´ì ¸ì•¼ í•˜ë©°,
ì´ë¥¼ ìœ„í•´ Alertmanager ë¼ìš°íŒ…ê³¼ Grafana ëŒ€ì‹œë³´ë“œë¥¼
í•˜ë‚˜ì˜ ìš´ì˜ íŒë‹¨ ë£¨í”„ë¡œ ê³ ì •í•©ë‹ˆë‹¤."><meta name=author content><link rel=canonical href=https://keonhoban.github.io/mlops-journey/posts/triton/03/><link crossorigin=anonymous href=/mlops-journey/assets/css/stylesheet.f49d66caae9ea0fd43f21f29e71a8d3e284517ed770f2aa86fa012953ad3c9ef.css integrity="sha256-9J1myq6eoP1D8h8p5xqNPihFF+13Dyqob6ASlTrTye8=" rel="preload stylesheet" as=style><link rel=icon href=https://keonhoban.github.io/mlops-journey/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://keonhoban.github.io/mlops-journey/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://keonhoban.github.io/mlops-journey/favicon-32x32.png><link rel=apple-touch-icon href=https://keonhoban.github.io/mlops-journey/apple-touch-icon.png><link rel=mask-icon href=https://keonhoban.github.io/mlops-journey/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://keonhoban.github.io/mlops-journey/posts/triton/03/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://keonhoban.github.io/mlops-journey/posts/triton/03/"><meta property="og:site_name" content="ğŸ”ï¸  MLOps Journey"><meta property="og:title" content="[Triton ìš´ì˜í˜• ì„œë¹™ í”Œë«í¼ (GitOps Â· ê²€ì¦ Â· Alerting) - Alerting ìš´ì˜ í‘œì¤€ ë§¤ë‰´ì–¼]"><meta property="og:description" content="Dev/Prod ë¶„ë¦¬ + Triton Serving Alerts (kube-prometheus-stack Â· PrometheusRule Â· Alertmanager Â· ArgoCD Â· SealedSecret)
ğŸ§  ì‹œë‚˜ë¦¬ì˜¤ ì„¤ëª… ObservabilityëŠ” ëŒ€ì‹œë³´ë“œê°€ ì•„ë‹ˆë¼, ì‚¬ê³ ë¥¼ ë§‰ëŠ” ìš´ì˜ ì •ì±…ì…ë‹ˆë‹¤.
ì´ ë¬¸ì„œëŠ” dev/prod ì•ŒëŸ¿ì„ ì™„ì „íˆ ë¶„ë¦¬í•˜ê³ , ë¼ë²¨ ì‹¤ìˆ˜ë¡œ ì¸í•œ êµì°¨ ì „ì†¡ê¹Œì§€ êµ¬ì¡°ì ìœ¼ë¡œ ì°¨ë‹¨í•˜ë©°, Triton ì„œë¹™ í’ˆì§ˆì„ ëª¨ë¸ ì‹¤í–‰ ê´€ì ì—ì„œ ê°ì§€í•˜ë„ë¡ ì„¤ê³„ëœ GitOps ê¸°ë°˜ Alerting ìš´ì˜ í‘œì¤€ì…ë‹ˆë‹¤.
ì•ŒëŸ¿ì€ ë°œìƒì´ ì•„ë‹ˆë¼ 30ì´ˆ ì•ˆì— íŒë‹¨ê³¼ ì¡°ì¹˜ë¡œ ì´ì–´ì ¸ì•¼ í•˜ë©°, ì´ë¥¼ ìœ„í•´ Alertmanager ë¼ìš°íŒ…ê³¼ Grafana ëŒ€ì‹œë³´ë“œë¥¼ í•˜ë‚˜ì˜ ìš´ì˜ íŒë‹¨ ë£¨í”„ë¡œ ê³ ì •í•©ë‹ˆë‹¤."><meta property="og:locale" content="ko"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2026-01-02T13:05:22+09:00"><meta property="article:modified_time" content="2026-01-02T13:05:22+09:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="[Triton ìš´ì˜í˜• ì„œë¹™ í”Œë«í¼ (GitOps Â· ê²€ì¦ Â· Alerting) - Alerting ìš´ì˜ í‘œì¤€ ë§¤ë‰´ì–¼]"><meta name=twitter:description content="Dev/Prod ë¶„ë¦¬ + Triton Serving Alerts
(kube-prometheus-stack Â· PrometheusRule Â· Alertmanager Â· ArgoCD Â· SealedSecret)

ğŸ§  ì‹œë‚˜ë¦¬ì˜¤ ì„¤ëª…

ObservabilityëŠ” ëŒ€ì‹œë³´ë“œê°€ ì•„ë‹ˆë¼, ì‚¬ê³ ë¥¼ ë§‰ëŠ” ìš´ì˜ ì •ì±…ì…ë‹ˆë‹¤.
ì´ ë¬¸ì„œëŠ” dev/prod ì•ŒëŸ¿ì„ ì™„ì „íˆ ë¶„ë¦¬í•˜ê³ ,
ë¼ë²¨ ì‹¤ìˆ˜ë¡œ ì¸í•œ êµì°¨ ì „ì†¡ê¹Œì§€ êµ¬ì¡°ì ìœ¼ë¡œ ì°¨ë‹¨í•˜ë©°,
Triton ì„œë¹™ í’ˆì§ˆì„ ëª¨ë¸ ì‹¤í–‰ ê´€ì ì—ì„œ ê°ì§€í•˜ë„ë¡ ì„¤ê³„ëœ
GitOps ê¸°ë°˜ Alerting ìš´ì˜ í‘œì¤€ì…ë‹ˆë‹¤.
ì•ŒëŸ¿ì€ ë°œìƒì´ ì•„ë‹ˆë¼ 30ì´ˆ ì•ˆì— íŒë‹¨ê³¼ ì¡°ì¹˜ë¡œ ì´ì–´ì ¸ì•¼ í•˜ë©°,
ì´ë¥¼ ìœ„í•´ Alertmanager ë¼ìš°íŒ…ê³¼ Grafana ëŒ€ì‹œë³´ë“œë¥¼
í•˜ë‚˜ì˜ ìš´ì˜ íŒë‹¨ ë£¨í”„ë¡œ ê³ ì •í•©ë‹ˆë‹¤."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://keonhoban.github.io/mlops-journey/posts/"},{"@type":"ListItem","position":2,"name":"[Triton ìš´ì˜í˜• ì„œë¹™ í”Œë«í¼ (GitOps Â· ê²€ì¦ Â· Alerting) - Alerting ìš´ì˜ í‘œì¤€ ë§¤ë‰´ì–¼]","item":"https://keonhoban.github.io/mlops-journey/posts/triton/03/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"[Triton ìš´ì˜í˜• ì„œë¹™ í”Œë«í¼ (GitOps Â· ê²€ì¦ Â· Alerting) - Alerting ìš´ì˜ í‘œì¤€ ë§¤ë‰´ì–¼]","name":"[Triton ìš´ì˜í˜• ì„œë¹™ í”Œë«í¼ (GitOps Â· ê²€ì¦ Â· Alerting) - Alerting ìš´ì˜ í‘œì¤€ ë§¤ë‰´ì–¼]","description":"Dev/Prod ë¶„ë¦¬ + Triton Serving Alerts (kube-prometheus-stack Â· PrometheusRule Â· Alertmanager Â· ArgoCD Â· SealedSecret)\nğŸ§  ì‹œë‚˜ë¦¬ì˜¤ ì„¤ëª… ObservabilityëŠ” ëŒ€ì‹œë³´ë“œê°€ ì•„ë‹ˆë¼, ì‚¬ê³ ë¥¼ ë§‰ëŠ” ìš´ì˜ ì •ì±…ì…ë‹ˆë‹¤.\nì´ ë¬¸ì„œëŠ” dev/prod ì•ŒëŸ¿ì„ ì™„ì „íˆ ë¶„ë¦¬í•˜ê³ , ë¼ë²¨ ì‹¤ìˆ˜ë¡œ ì¸í•œ êµì°¨ ì „ì†¡ê¹Œì§€ êµ¬ì¡°ì ìœ¼ë¡œ ì°¨ë‹¨í•˜ë©°, Triton ì„œë¹™ í’ˆì§ˆì„ ëª¨ë¸ ì‹¤í–‰ ê´€ì ì—ì„œ ê°ì§€í•˜ë„ë¡ ì„¤ê³„ëœ GitOps ê¸°ë°˜ Alerting ìš´ì˜ í‘œì¤€ì…ë‹ˆë‹¤.\nì•ŒëŸ¿ì€ ë°œìƒì´ ì•„ë‹ˆë¼ 30ì´ˆ ì•ˆì— íŒë‹¨ê³¼ ì¡°ì¹˜ë¡œ ì´ì–´ì ¸ì•¼ í•˜ë©°, ì´ë¥¼ ìœ„í•´ Alertmanager ë¼ìš°íŒ…ê³¼ Grafana ëŒ€ì‹œë³´ë“œë¥¼ í•˜ë‚˜ì˜ ìš´ì˜ íŒë‹¨ ë£¨í”„ë¡œ ê³ ì •í•©ë‹ˆë‹¤.\n","keywords":[],"articleBody":"Dev/Prod ë¶„ë¦¬ + Triton Serving Alerts (kube-prometheus-stack Â· PrometheusRule Â· Alertmanager Â· ArgoCD Â· SealedSecret)\nğŸ§  ì‹œë‚˜ë¦¬ì˜¤ ì„¤ëª… ObservabilityëŠ” ëŒ€ì‹œë³´ë“œê°€ ì•„ë‹ˆë¼, ì‚¬ê³ ë¥¼ ë§‰ëŠ” ìš´ì˜ ì •ì±…ì…ë‹ˆë‹¤.\nì´ ë¬¸ì„œëŠ” dev/prod ì•ŒëŸ¿ì„ ì™„ì „íˆ ë¶„ë¦¬í•˜ê³ , ë¼ë²¨ ì‹¤ìˆ˜ë¡œ ì¸í•œ êµì°¨ ì „ì†¡ê¹Œì§€ êµ¬ì¡°ì ìœ¼ë¡œ ì°¨ë‹¨í•˜ë©°, Triton ì„œë¹™ í’ˆì§ˆì„ ëª¨ë¸ ì‹¤í–‰ ê´€ì ì—ì„œ ê°ì§€í•˜ë„ë¡ ì„¤ê³„ëœ GitOps ê¸°ë°˜ Alerting ìš´ì˜ í‘œì¤€ì…ë‹ˆë‹¤.\nì•ŒëŸ¿ì€ ë°œìƒì´ ì•„ë‹ˆë¼ 30ì´ˆ ì•ˆì— íŒë‹¨ê³¼ ì¡°ì¹˜ë¡œ ì´ì–´ì ¸ì•¼ í•˜ë©°, ì´ë¥¼ ìœ„í•´ Alertmanager ë¼ìš°íŒ…ê³¼ Grafana ëŒ€ì‹œë³´ë“œë¥¼ í•˜ë‚˜ì˜ ìš´ì˜ íŒë‹¨ ë£¨í”„ë¡œ ê³ ì •í•©ë‹ˆë‹¤.\nğŸ¯ í•µì‹¬ ìš”ì•½ PrometheusRule: â€œì–¸ì œ ì´ìƒì¸ê°€â€ ì •ì˜ Alertmanager: â€œì–´ë””ë¡œ ë³´ë‚¼ì§€/ì°¨ë‹¨í• ì§€â€ ìµœì¢… í†µì œ Slack: ë‹¨ìˆœ ìˆ˜ì‹ ì ê¸°ë³¸ receiverëŠ” ë°˜ë“œì‹œ \"null\" Slack ì „ì†¡ì€ namespace ì •ê·œì‹ matchë¡œë§Œ í—ˆìš© Triton ì•ŒëŸ¿ì€ p95 ëŒ€ì‹  mean latency ê¸°ë°˜ìœ¼ë¡œ ì‹œì‘ Grafana: ì•ŒëŸ¿ ì´í›„ â€œì›ì¸ í™•ì¸/íŒë‹¨â€ í‘œì¤€ (avg latency + queue + pending) ì•ŒëŸ¿-ëŒ€ì‹œë³´ë“œëŠ” í•œ ì„¸íŠ¸ë¡œ ìš´ì˜ (Detect â†’ Diagnose â†’ Act) 1ï¸âƒ£ ì „ì²´ ì•„í‚¤í…ì²˜ [Workload (Triton/FastAPI/...)] â†“ metrics [Prometheus (dev/prod)] â†“ PrometheusRule: \"ì–¸ì œ ì´ìƒì¸ê°€\" [Alertmanager (dev/prod)] â†“ Routing Policy: \"ì–´ë””ë¡œ ë³´ë‚¼ì§€/ì°¨ë‹¨í• ì§€\" [Slack (#dev / #prod)] â†’ [Grafana Dashboard: Diagnose (30s)] í•µì‹¬ ì›ì¹™ Alertmanagerê°€ ìµœì¢… í†µì œ ì§€ì  PrometheusRuleì€ â€œì•ŒëŸ¿ ë°œìƒâ€ë§Œ ë‹´ë‹¹ â€œê¸°ë³¸ ì „ì†¡ ê¸ˆì§€(Null default)â€ê°€ ì•ˆì „í•œ ìš´ì˜ì˜ ì¶œë°œì  ì•ŒëŸ¿ì€ ê°ì§€, GrafanaëŠ” ì›ì¸ í™•ì¸(ì§„ë‹¨) í‘œì¤€ 2ï¸âƒ£ ìš´ì˜ ì •ì±… (Policy) í•­ëª© ì •ì±… Default receiver \"null\" Slack ì „ì†¡ routes + matchersë¡œë§Œ í—ˆìš© êµì°¨(devâ†”prod) ë¬´ì¡°ê±´ ì°¨ë‹¨ ì˜ˆì™¸ ë¬¸ì„œ/ì½”ë“œë¡œ ëª…ì‹œì ìœ¼ë¡œ ì¶”ê°€í•œ ê²ƒë§Œ í—ˆìš© Dashboard ì•ŒëŸ¿ ë°œìƒ ì‹œ Grafanaë¡œ ì¦‰ì‹œ ì›ì¸ í™•ì¸ (30ì´ˆ ë£¨í‹´) Part A. Alertmanager Dev/Prod ë¶„ë¦¬ \u0026 ì² ë²½ ë¼ìš°íŒ… A-1) DEV Alertmanager ìµœì¢… ì„¤ì • ğŸ“„ /tmp/alertmanager-dev.yaml\nglobal: resolve_timeout: 5m route: receiver: \"null\" group_by: [\"alertname\",\"namespace\",\"service\",\"severity\"] group_wait: 30s group_interval: 5m repeat_interval: 12h routes: - receiver: \"slack-dev\" matchers: - namespace=~\".*-dev|monitoring-dev|kube-system\" receivers: - name: \"slack-dev\" slack_configs: - api_url: send_resolved: true title: \"ğŸš¨ [{{ .Status | toUpper }}][DEV] {{ .CommonLabels.alertname }}\" text: \u003e *Namespace:* {{ or .CommonLabels.namespace \"N/A\" }} *Service:* {{ or .CommonLabels.service \"N/A\" }} *Severity:* {{ or .CommonLabels.severity \"none\" }} *Summary:* {{ or .CommonAnnotations.summary \"No summary\" }} *Description:* {{ or .CommonAnnotations.description \"No description\" }} *StartsAt:* {{ (index .Alerts 0).StartsAt }} - name: \"null\" A-2) PROD Alertmanager ìµœì¢… ì„¤ì • ğŸ“„ /tmp/alertmanager-prod.yaml\nglobal: resolve_timeout: 5m route: receiver: \"null\" group_by: [\"alertname\",\"namespace\",\"service\",\"severity\"] group_wait: 30s group_interval: 5m repeat_interval: 12h routes: - receiver: \"slack-prod\" matchers: - namespace=~\".*-prod|monitoring-prod|kube-system\" receivers: - name: \"slack-prod\" slack_configs: - api_url: send_resolved: true title: \"ğŸš¨ [{{ .Status | toUpper }}][PROD] {{ .CommonLabels.alertname }}\" text: \u003e *Namespace:* {{ or .CommonLabels.namespace \"N/A\" }} *Service:* {{ or .CommonLabels.service \"N/A\" }} *Severity:* {{ or .CommonLabels.severity \"none\" }} *Summary:* {{ or .CommonAnnotations.summary \"No summary\" }} *Description:* {{ or .CommonAnnotations.description \"No description\" }} *StartsAt:* {{ (index .Alerts 0).StartsAt }} - name: \"null\" A-3) SealedSecret ìƒì„± (GitOps í•„ìˆ˜) DEV kubectl -n monitoring-dev create secret generic alertmanager-config-dev \\ --from-file=alertmanager.yaml=/tmp/alertmanager-dev.yaml \\ --dry-run=client -o yaml \\ | kubeseal \\ --controller-namespace kube-system \\ --controller-name sealed-secrets \\ --namespace monitoring-dev \\ --name alertmanager-config-dev \\ --format yaml \\ \u003e envs/dev/sealed-secrets/monitoring/alertmanager-config-dev.yaml PROD kubectl -n monitoring-prod create secret generic alertmanager-config-prod \\ --from-file=alertmanager.yaml=/tmp/alertmanager-prod.yaml \\ --dry-run=client -o yaml \\ | kubeseal \\ --controller-namespace kube-system \\ --controller-name sealed-secrets \\ --namespace monitoring-prod \\ --name alertmanager-config-prod \\ --format yaml \\ \u003e envs/prod/sealed-secrets/monitoring/alertmanager-config-prod.yaml A-4) ë°°í¬ \u0026 ë°˜ì˜ ì ˆì°¨ git add envs/**/sealed-secrets/monitoring/alertmanager-config-*.yaml git commit -m\"fix(alertmanager): route by namespace + null default\" git push argocd appsync monitoring-dev argocd appsync monitoring-prod kubectl -n monitoring-dev rollout restart sts/alertmanager-monitoring-dev-kube-promet-alertmanager kubectl -n monitoring-prod rollout restart sts/alertmanager-monitoring-prod-kube-prome-alertmanager A-5) ìµœì¢… ê²€ì¦ (ìš´ì˜ í‘œì¤€) ì„¤ì • ë°˜ì˜ í™•ì¸ curl -sk https://alert-dev.local/api/v2/status | jq -r'.config.original' curl -sk https://alert-prod.local/api/v2/status | jq -r'.config.original' Cross namespace ì°¨ë‹¨ í™•ì¸ curl -sk https://alert-dev.local/api/v2/alerts/groups \\ | jq'.[] | select(.labels.namespace==\"airflow-prod\") | .receiver.name' ê¸°ëŒ€ê°’: \"null\"\nA-6) ìš´ì˜ ì£¼ì˜ì‚¬í•­ ê¸°ë³¸ receiverë¥¼ slack-*ë¡œ ë‘ëŠ” êµ¬ì„± ê¸ˆì§€ ê¸°ë³¸ì€ â€œnullâ€ â†’ í—ˆìš©ëœ ê²ƒë§Œ Slackìœ¼ë¡œ ë³´ëƒ„ Slack ì „ì†¡ì€ routes + matchersë¡œë§Œ í—ˆìš© ê¸°ë³¸ì€ â€œnullâ€ â†’ ì¡°ê±´ ë§ìœ¼ë©´ Slackìœ¼ë¡œ ë³´ëƒ„ í…œí”Œë¦¿ì€ default ëŒ€ì‹  or ì‚¬ìš© ê¶Œì¥ orëŠ” â€œë¹„ì—ˆìœ¼ë©´ ëŒ€ì²´ê°’â€ì„ ì£¼ëŠ” ë°©ì‹ (í•­ìƒ í•´ì„ ê°€ëŠ¥) defaultëŠ” ì‚¬ìš© ê°€ëŠ¥í•œ í™˜ê²½/ë²„ì „ì— ë”°ë¼ ë™ì‘ì´ ë‹¤ë¥¼ ìˆ˜ ìˆìŒ Alertmanagerê°€ ì°¸ì¡°í•˜ëŠ” Secretì„ í•­ìƒ í™•ì¸ kubectl -n monitoring-dev get alertmanager -o jsonpath='{.items[0].spec.configSecret}';echo kubectl -n monitoring-prod get alertmanager -o jsonpath='{.items[0].spec.configSecret}';echo Part B. Triton Serving Alert êµ¬ì¶• \u0026 ê²€ì¦ B-1) ëª©ì  Pod up/downì´ ì•„ë‹ˆë¼ ëª¨ë¸ ì‹¤í–‰ ê´€ì ì˜ í’ˆì§ˆ ì´ìƒ ê°ì§€ dev/prod ë¶„ë¦¬ êµ¬ì¡° ìœ„ì—ì„œ namespace ë¼ë²¨ ë¼ìš°íŒ…ìœ¼ë¡œ ìë™ ì—°ë™ B-2) Triton ë©”íŠ¸ë¦­ íŠ¹ì„± ë©”íŠ¸ë¦­ íƒ€ì… ì˜ë¯¸ nv_inference_request_success counter ëª¨ë¸ ì‹¤í–‰ ì„±ê³µ ëˆ„ì  nv_inference_request_failure counter ëª¨ë¸ ì‹¤í–‰ ì‹¤íŒ¨ ëˆ„ì  nv_inference_count counter inference ì´ ìš”ì²­ ìˆ˜ nv_inference_request_duration_us sum ì²˜ë¦¬ ì‹œê°„ í•© ì£¼ì˜\nTritonì˜ ê¸°ë³¸ Prometheus latency ë©”íŠ¸ë¦­ì€ sum/count í˜•íƒœì´ë¯€ë¡œ,\nhistogram ê¸°ë°˜ p95ë¥¼ ì „ì œë¡œ í•˜ê¸°ë³´ë‹¤ëŠ” mean latency ê¸°ë°˜ìœ¼ë¡œ ì§„í–‰ í–ˆìŠµë‹ˆë‹¤.\n(ê³µì‹ ë¬¸ì„œ: https://docs.nvidia.com/deeplearning/triton-inference-server/user-guide/docs/user_guide/metrics.html)\nB-3) PrometheusRule (DEV ì˜ˆì‹œ) ğŸ“„ envs/dev/monitoring/rules/triton-alerts.yaml\napiVersion: monitoring.coreos.com/v1 kind: PrometheusRule metadata: name: triton-alerts namespace: monitoring-dev labels: release: monitoring-dev spec: groups: - name: triton.rules rules: - alert: TritonHighErrorRate expr: | ( sum(rate(nv_inference_request_failure{job=\"triton\"}[5m])) / clamp_min( sum(rate(nv_inference_request_success{job=\"triton\"}[5m])) + sum(rate(nv_inference_request_failure{job=\"triton\"}[5m])), 1 ) ) \u003e 0.02 for: 2m labels: severity: warning namespace: triton-dev service: triton annotations: summary: \"[DEV] Triton error rate high\" description: \"Triton model execution error rate \u003e 2% (5m). value={{ $value }}\" - alert: TritonMeanLatencyHigh expr: | ( sum(rate(nv_inference_request_duration_us{job=\"triton\"}[5m])) / clamp_min(sum(rate(nv_inference_count{job=\"triton\"}[5m])), 1) ) / 1e6 \u003e 0.000001 for: 10s labels: severity: warning namespace: triton-dev service: triton annotations: summary: \"[DEV] Triton mean latency high\" description: \"Triton mean inference latency high. value={{ $value }}\" B-4) ë¼ìš°íŒ… ì „ì œ ì¡°ê±´ (ê°€ì¥ í”í•œ í•¨ì •) â€œAlertmanager matcherì— namespaceë¥¼ í—ˆìš©í–ˆëŠ”ë° Slackì´ ì•ˆ ì˜¨ë‹¤?â€\nmatcherëŠ” ì•ŒëŸ¿ì´ firingì¼ ë•Œë§Œ ì ìš©ë©ë‹ˆë‹¤. ì¦‰, Prometheusì— ë¨¼ì € firing ì•ŒëŸ¿ì´ ìˆì–´ì•¼ Alertmanagerê°€ ë¼ìš°íŒ…ì„ íŒë‹¨í•©ë‹ˆë‹¤. í™•ì¸:\ncurl -sk https://prometheus-dev.local/api/v1/alerts \\ | jq'.data.alerts[] | select(.labels.alertname|test(\"Triton\"))' B-5) í…ŒìŠ¤íŠ¸ ì ˆì°¨ (ìš´ì˜ í‘œì¤€) 1) í´ëŸ¬ìŠ¤í„° ë‚´ë¶€ì—ì„œ inference ë°œìƒ kubectl -n triton-dev run loadgen --rm -i --restart=Never \\ --image=curlimages/curl:8.6.0 -- \\ sh -lc ' for i in $(seq 1 20); do curl -sS http://triton.triton-dev.svc.cluster.local:8000/v2/models/best_model/infer \\ -H \"Content-Type: application/json\" \\ -d \"{\\\"inputs\\\":[{\\\"name\\\":\\\"input\\\",\\\"shape\\\":[1,4],\\\"datatype\\\":\\\"FP32\\\",\\\"data\\\":[1,2,3,4]}]}\" \\ \u003e/dev/null || true done echo done ' 2) Prometheusì—ì„œ firing í™•ì¸ curl -sk https://prometheus-dev.local/api/v1/alerts \\ | jq'.data.alerts[] | select(.labels.alertname==\"TritonMeanLatencyHigh\")' 3) Alertmanager receiver í™•ì¸ curl -sk https://alert-dev.local/api/v2/alerts/groups \\ | jq'.[] | select(.labels.alertname==\"TritonMeanLatencyHigh\") | .receiver.name' ê¸°ëŒ€ê°’: \"slack-dev\"\nB-6) HighErrorRate í…ŒìŠ¤íŠ¸ê°€ ì–´ë ¤ìš´ ì´ìœ  nv_inference_request_failureëŠ” ëª¨ë¸ ì‹¤í–‰ ë‹¨ê³„ì— ë“¤ì–´ê°„ ìš”ì²­ ì¤‘ ì‹¤íŒ¨ë§Œ ì¹´ìš´íŠ¸í•©ë‹ˆë‹¤.\në”°ë¼ì„œ HTTP ì‹¤íŒ¨ì—¬ë„ failureê°€ ì•ˆ ì˜¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nì‹¤íŒ¨ ìœ í˜• failure ì¦ê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ëª¨ë¸ í˜¸ì¶œ âŒ JSON íŒŒì‹± ì˜¤ë¥˜ âŒ input/output ìŠ¤í™ ì˜¤ë¥˜ âŒ shape mismatch âŒ HTTP 4xx/5xx âŒ ê²°ë¡ \nHighErrorRateëŠ” â€œí…ŒìŠ¤íŠ¸ìš©â€ì´ ì•„ë‹ˆë¼ ìš´ì˜ ê°ì‹œìš©ìœ¼ë¡œ ìœ ì§€í•©ë‹ˆë‹¤. ë§Œì•½, HTTP ì‹¤íŒ¨ìœ¨ì´ í•„ìš”í•˜ë©´ Tritonì´ ì•„ë‹ˆë¼ Gateway ê³„ì¸µ(Nginx/Envoy/Ingress) ë©”íŠ¸ë¦­ìœ¼ë¡œ ë³„ë„ ì•ŒëŸ¿ì„ ë‘¬ì•¼ í•©ë‹ˆë‹¤. B-7) ìš´ì˜ ê¶Œì¥ê°’ ì•ŒëŸ¿ í…ŒìŠ¤íŠ¸ ìš´ì˜ Mean latency \u003e 0.000001s \u003e 0.05 ~ 0.1s Error rate í…ŒìŠ¤íŠ¸ ë¹„ê¶Œì¥ \u003e 2% for 10s 2~5m Part C. Grafana (Triton Serving) â€” ì•ŒëŒ ì´í›„ â€˜íŒë‹¨ í‘œì¤€â€™ C-1) ëª©ì  ì•ŒëŒì€ â€œì´ìƒâ€ì„ ì•Œë ¤ì£¼ì§€ë§Œ, ìš´ì˜ì—ì„œ ì¤‘ìš”í•œ ê±´ ì¦‰ì‹œ ì›ì¸ í™•ì¸ì…ë‹ˆë‹¤.\nTritonì€ ê¸°ë³¸ latency ë©”íŠ¸ë¦­ì´ histogramì´ ì•„ë‹ˆë¼ sum/count ê¸°ë°˜ì´ë¯€ë¡œ,\në³¸ ì‹œë¦¬ì¦ˆì—ì„œëŠ” p95 ëŒ€ì‹  avg latency(ms)ë¥¼ í‘œì¤€ìœ¼ë¡œ ì‚¼ê³ ,\nëŒ€ì‹  avg latency + queue time + pending requests ê°™ì€ í•µì‹¬ ì§€í‘œë¡œ ì›ì¸ í™•ì¸ì„ ê°€ëŠ¥í•˜ê²Œ í–ˆìŠµë‹ˆë‹¤.\nC-2) Dashboard ì„¤ê³„ ì›ì¹™ Triton ê¸°ë³¸ metricsë§Œìœ¼ë¡œ 100% ë™ì‘ â€œNo dataâ€ íŒ¨ë„ì´ ë‚˜ì˜¤ì§€ ì•Šë„ë¡ rate + avg(ms) ê¸°ë°˜ìœ¼ë¡œ ì„¤ê³„ ìš´ì˜ìê°€ ë°”ë¡œ íŒë‹¨ ê°€ëŠ¥í•œ ì‹ í˜¸ë§Œ ë‚¨ê¹€ RPS(success/failure) Failure rate(%) Pod Up Latency avg(ms) Avg Queue Time(ms) Pending requests C-3) Dashboard Import (JSON) Grafana â†’ Dashboard â†’ Import â†’ JSON ë¶™ì—¬ë„£ê¸°\nUID: triton-serving-model-kpis-v2 Title: Triton Serving - Model KPIs (v2, avg-latency) Variables: job / instance / model / version íŠ¹íˆ model / version ë³€ìˆ˜ëŠ”\nMLflow â†’ Triton ë²„ì „ ë””ë ‰í„°ë¦¬(version ë¼ë²¨) íë¦„ê³¼ ì—°ê²°ë˜ì–´\nëª¨ë¸ ë²„ì „ë³„ ì„±ëŠ¥ ë¹„êµ, ë¡¤ë°± íŒë‹¨ì— ë°”ë¡œ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.\nC-4) â€œNo data íŒ¨ë„â€ ë°©ì§€ìš© ìµœì†Œ í…ŒìŠ¤íŠ¸ ì§§ì€ ìˆœê°„ ë¶€í•˜ì—ì„œëŠ” Statì´ 0ìœ¼ë¡œ ë–¨ì–´ì§ˆ ìˆ˜ ìˆìœ¼ë¯€ë¡œ\n1~2ë¶„ ìˆ˜ì¤€ì˜ ì§§ì€ ì§€ì† ë¶€í•˜ë¡œ íŒ¨ë„ì„ ì±„ì›ë‹ˆë‹¤.\nkubectl -n triton-dev run loadgen --rm -i --restart=Never \\ --image=curlimages/curl:8.6.0 -- \\ sh -lc ' end=$((SECONDS+90)) while [ $SECONDS -lt $end ]; do curl -sS http://triton.triton-dev.svc.cluster.local:8000/v2/models/best_model/infer \\ -H \"Content-Type: application/json\" \\ -d \"{\\\"inputs\\\":[{\\\"name\\\":\\\"input\\\",\\\"shape\\\":[1,4],\\\"datatype\\\":\\\"FP32\\\",\\\"data\\\":[[5.1,3.5,1.4,0.2]]}]}\" \\ \u003e/dev/null || true done echo done ' Grafana Time rangeëŠ” Last 5 minutesë¡œ ë‘ë©´ í™•ì¸ì´ ê°€ì¥ ë¹ ë¦…ë‹ˆë‹¤.\nC-5) ìš´ì˜ì—ì„œì˜ ì‚¬ìš©ë²•(ì•ŒëŒ ëœ¬ ë’¤ 30ì´ˆ ë£¨í‹´) Pod Upìœ¼ë¡œ â€œí”Œë«í¼ ì¥ì•  vs ëª¨ë¸/ì„±ëŠ¥ ì´ìŠˆâ€ 1ì°¨ ë¶„ê¸° Failure rate / Failure RPSë¡œ â€œì‹¤í–‰ ì‹¤íŒ¨â€ ì—¬ë¶€ í™•ì¸ *Latency Avg(ms)**ê°€ íŠ€ë©´ Avg Queue Timeìœ¼ë¡œ â€œëŒ€ê¸°ì—´ ë³‘ëª© ì—¬ë¶€â€ë¥¼ ë¨¼ì € í™•ì¸í•˜ê³ , Pending requestsì™€ í•¨ê»˜ â€œë°€ë¦¼(í) vs ë‹¨ìˆœ ì§€ì—°â€ì„ 1ì°¨ ë¶„ê¸° Pending requestsê°€ ì¦ê°€í•˜ë©´ HPA/ë™ì‹œì„±/ë¦¬ì†ŒìŠ¤ ë³‘ëª© ëŒ€ì‘ìœ¼ë¡œ ì—°ê²° ğŸ§© íŒ â€œì„œë¹„ìŠ¤ ì•ŒëŸ¿ì€ namespace ë¼ë²¨ í•„ìˆ˜â€ë¥¼ íŒ€ ë£°ë¡œ ê³ ì •í•˜ë©´ dev/prod ì‚¬ê³ ê°€ ê±°ì˜ ì‚¬ë¼ì§‘ë‹ˆë‹¤. Triton failureëŠ” â€œëª¨ë¸ ì‹¤í–‰ ì‹¤íŒ¨â€ë§Œ ì¡ìŠµë‹ˆë‹¤. HTTP ì‹¤íŒ¨ìœ¨ì€ gateway ì•ŒëŸ¿ìœ¼ë¡œ ë¶„ë¦¬í•´ì•¼ í•©ë‹ˆë‹¤. Triton latencyëŠ” p95 ëŒ€ì‹  avg latency + queue time + pending ì¡°í•©ìœ¼ë¡œ íŒë‹¨í•œë‹¤. ğŸ ì •ë¦¬ PrometheusRuleì€ ì •ì±…ì„ ì •ì˜í•˜ê³ , AlertmanagerëŠ” ì „íŒŒë¥¼ ì œì–´í•˜ë©°, GrafanaëŠ” íŒë‹¨ì„ í‘œì¤€í™”í•©ë‹ˆë‹¤.\nTritonì€ avg-latencyë¡œ ê°ì§€í•˜ê³ , queue/pendingìœ¼ë¡œ ë³‘ëª© ì—¬ë¶€ë¥¼ 1ì°¨ ë¶„ê¸°í•˜ë©°, error-rateëŠ” ìš´ì˜ ê°ì‹œë¡œë§Œ ìœ ì§€í•©ë‹ˆë‹¤.\n","wordCount":"1346","inLanguage":"en","datePublished":"2026-01-02T13:05:22+09:00","dateModified":"2026-01-02T13:05:22+09:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://keonhoban.github.io/mlops-journey/posts/triton/03/"},"publisher":{"@type":"Organization","name":"ğŸ”ï¸  MLOps Journey","logo":{"@type":"ImageObject","url":"https://keonhoban.github.io/mlops-journey/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://keonhoban.github.io/mlops-journey/ accesskey=h title="ğŸ”ï¸  MLOps Journey (Alt + H)">ğŸ”ï¸ MLOps Journey</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://keonhoban.github.io/mlops-journey/ title="ğŸ  Home"><span>ğŸ  Home</span></a></li><li><a href=https://keonhoban.github.io/mlops-journey/projects/ title="ğŸ“‚ Projects"><span>ğŸ“‚ Projects</span></a></li><li><a href=https://keonhoban.github.io/mlops-journey/posts/ title="ğŸ“ Blog"><span>ğŸ“ Blog</span></a></li><li><a href=https://keonhoban.github.io/mlops-journey/about/ title="ğŸ§— About"><span>ğŸ§— About</span></a></li><li><a href=https://keonhoban.github.io/mlops-journey/categories/ title="ğŸ“– Categories"><span>ğŸ“– Categories</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://keonhoban.github.io/mlops-journey/>Home</a>&nbsp;Â»&nbsp;<a href=https://keonhoban.github.io/mlops-journey/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">[Triton ìš´ì˜í˜• ì„œë¹™ í”Œë«í¼ (GitOps Â· ê²€ì¦ Â· Alerting) - Alerting ìš´ì˜ í‘œì¤€ ë§¤ë‰´ì–¼]</h1><div class=post-meta><span title='2026-01-02 13:05:22 +0900 +0900'>January 2, 2026</span>&nbsp;Â·&nbsp;7 min</div></header><div class=post-content><h3 id=devprod-ë¶„ë¦¬--triton-serving-alerts>Dev/Prod ë¶„ë¦¬ + Triton Serving Alerts<a hidden class=anchor aria-hidden=true href=#devprod-ë¶„ë¦¬--triton-serving-alerts>#</a></h3><p><em>(kube-prometheus-stack Â· PrometheusRule Â· Alertmanager Â· ArgoCD Â· SealedSecret)</em></p><hr><h2 id=-ì‹œë‚˜ë¦¬ì˜¤-ì„¤ëª…>ğŸ§  ì‹œë‚˜ë¦¬ì˜¤ ì„¤ëª…<a hidden class=anchor aria-hidden=true href=#-ì‹œë‚˜ë¦¬ì˜¤-ì„¤ëª…>#</a></h2><blockquote><p>ObservabilityëŠ” ëŒ€ì‹œë³´ë“œê°€ ì•„ë‹ˆë¼, ì‚¬ê³ ë¥¼ ë§‰ëŠ” ìš´ì˜ ì •ì±…ì…ë‹ˆë‹¤.</p><p>ì´ ë¬¸ì„œëŠ” dev/prod ì•ŒëŸ¿ì„ ì™„ì „íˆ ë¶„ë¦¬í•˜ê³ ,
ë¼ë²¨ ì‹¤ìˆ˜ë¡œ ì¸í•œ êµì°¨ ì „ì†¡ê¹Œì§€ êµ¬ì¡°ì ìœ¼ë¡œ ì°¨ë‹¨í•˜ë©°,
Triton ì„œë¹™ í’ˆì§ˆì„ ëª¨ë¸ ì‹¤í–‰ ê´€ì ì—ì„œ ê°ì§€í•˜ë„ë¡ ì„¤ê³„ëœ
GitOps ê¸°ë°˜ Alerting ìš´ì˜ í‘œì¤€ì…ë‹ˆë‹¤.</p><p>ì•ŒëŸ¿ì€ ë°œìƒì´ ì•„ë‹ˆë¼ 30ì´ˆ ì•ˆì— íŒë‹¨ê³¼ ì¡°ì¹˜ë¡œ ì´ì–´ì ¸ì•¼ í•˜ë©°,
ì´ë¥¼ ìœ„í•´ Alertmanager ë¼ìš°íŒ…ê³¼ Grafana ëŒ€ì‹œë³´ë“œë¥¼
í•˜ë‚˜ì˜ ìš´ì˜ íŒë‹¨ ë£¨í”„ë¡œ ê³ ì •í•©ë‹ˆë‹¤.</p></blockquote><hr><h2 id=-í•µì‹¬-ìš”ì•½>ğŸ¯ í•µì‹¬ ìš”ì•½<a hidden class=anchor aria-hidden=true href=#-í•µì‹¬-ìš”ì•½>#</a></h2><ul><li>PrometheusRule: â€œì–¸ì œ ì´ìƒì¸ê°€â€ ì •ì˜</li><li>Alertmanager: â€œì–´ë””ë¡œ ë³´ë‚¼ì§€/ì°¨ë‹¨í• ì§€â€ ìµœì¢… í†µì œ</li><li>Slack: ë‹¨ìˆœ ìˆ˜ì‹ ì</li><li>ê¸°ë³¸ receiverëŠ” ë°˜ë“œì‹œ <code>"null"</code></li><li>Slack ì „ì†¡ì€ <strong>namespace ì •ê·œì‹ match</strong>ë¡œë§Œ í—ˆìš©</li><li>Triton ì•ŒëŸ¿ì€ p95 ëŒ€ì‹  <strong>mean latency ê¸°ë°˜</strong>ìœ¼ë¡œ ì‹œì‘</li><li>Grafana: ì•ŒëŸ¿ ì´í›„ â€œì›ì¸ í™•ì¸/íŒë‹¨â€ í‘œì¤€ (avg latency + queue + pending)</li><li>ì•ŒëŸ¿-ëŒ€ì‹œë³´ë“œëŠ” í•œ ì„¸íŠ¸ë¡œ ìš´ì˜ (Detect â†’ Diagnose â†’ Act)</li></ul><hr><h2 id=1-ì „ì²´-ì•„í‚¤í…ì²˜>1ï¸âƒ£ ì „ì²´ ì•„í‚¤í…ì²˜<a hidden class=anchor aria-hidden=true href=#1-ì „ì²´-ì•„í‚¤í…ì²˜>#</a></h2><pre tabindex=0><code>[Workload (Triton/FastAPI/...)]
        â†“ metrics
[Prometheus (dev/prod)]
        â†“ PrometheusRule: &#34;ì–¸ì œ ì´ìƒì¸ê°€&#34;
[Alertmanager (dev/prod)]
        â†“ Routing Policy: &#34;ì–´ë””ë¡œ ë³´ë‚¼ì§€/ì°¨ë‹¨í• ì§€&#34;
[Slack (#dev / #prod)]  â†’  [Grafana Dashboard: Diagnose (30s)]
</code></pre><h3 id=í•µì‹¬-ì›ì¹™>í•µì‹¬ ì›ì¹™<a hidden class=anchor aria-hidden=true href=#í•µì‹¬-ì›ì¹™>#</a></h3><ul><li>Alertmanagerê°€ ìµœì¢… í†µì œ ì§€ì </li><li>PrometheusRuleì€ â€œì•ŒëŸ¿ ë°œìƒâ€ë§Œ ë‹´ë‹¹</li><li>â€œê¸°ë³¸ ì „ì†¡ ê¸ˆì§€(Null default)â€ê°€ ì•ˆì „í•œ ìš´ì˜ì˜ ì¶œë°œì </li><li>ì•ŒëŸ¿ì€ ê°ì§€, GrafanaëŠ” ì›ì¸ í™•ì¸(ì§„ë‹¨) í‘œì¤€</li></ul><hr><h2 id=2-ìš´ì˜-ì •ì±…-policy>2ï¸âƒ£ ìš´ì˜ ì •ì±… (Policy)<a hidden class=anchor aria-hidden=true href=#2-ìš´ì˜-ì •ì±…-policy>#</a></h2><table><thead><tr><th>í•­ëª©</th><th>ì •ì±…</th></tr></thead><tbody><tr><td>Default receiver</td><td><code>"null"</code></td></tr><tr><td>Slack ì „ì†¡</td><td>routes + matchersë¡œë§Œ í—ˆìš©</td></tr><tr><td>êµì°¨(devâ†”prod)</td><td>ë¬´ì¡°ê±´ ì°¨ë‹¨</td></tr><tr><td>ì˜ˆì™¸</td><td>ë¬¸ì„œ/ì½”ë“œë¡œ ëª…ì‹œì ìœ¼ë¡œ ì¶”ê°€í•œ ê²ƒë§Œ í—ˆìš©</td></tr><tr><td>Dashboard</td><td>ì•ŒëŸ¿ ë°œìƒ ì‹œ Grafanaë¡œ ì¦‰ì‹œ ì›ì¸ í™•ì¸ (30ì´ˆ ë£¨í‹´)</td></tr></tbody></table><hr><h1 id=part-a-alertmanager-devprod-ë¶„ë¦¬--ì² ë²½-ë¼ìš°íŒ…>Part A. Alertmanager Dev/Prod ë¶„ë¦¬ & ì² ë²½ ë¼ìš°íŒ…<a hidden class=anchor aria-hidden=true href=#part-a-alertmanager-devprod-ë¶„ë¦¬--ì² ë²½-ë¼ìš°íŒ…>#</a></h1><h2 id=a-1-dev-alertmanager-ìµœì¢…-ì„¤ì •>A-1) DEV Alertmanager ìµœì¢… ì„¤ì •<a hidden class=anchor aria-hidden=true href=#a-1-dev-alertmanager-ìµœì¢…-ì„¤ì •>#</a></h2><p>ğŸ“„ <code>/tmp/alertmanager-dev.yaml</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>global</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>resolve_timeout</span>: <span style=color:#ae81ff>5m</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>route</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>receiver</span>: <span style=color:#e6db74>&#34;null&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>group_by</span>: [<span style=color:#e6db74>&#34;alertname&#34;</span>,<span style=color:#e6db74>&#34;namespace&#34;</span>,<span style=color:#e6db74>&#34;service&#34;</span>,<span style=color:#e6db74>&#34;severity&#34;</span>]
</span></span><span style=display:flex><span>  <span style=color:#f92672>group_wait</span>: <span style=color:#ae81ff>30s</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>group_interval</span>: <span style=color:#ae81ff>5m</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>repeat_interval</span>: <span style=color:#ae81ff>12h</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>routes</span>:
</span></span><span style=display:flex><span>  - <span style=color:#f92672>receiver</span>: <span style=color:#e6db74>&#34;slack-dev&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>matchers</span>:
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>namespace=~&#34;.*-dev|monitoring-dev|kube-system&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>receivers</span>:
</span></span><span style=display:flex><span>- <span style=color:#f92672>name</span>: <span style=color:#e6db74>&#34;slack-dev&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>slack_configs</span>:
</span></span><span style=display:flex><span>  - <span style=color:#f92672>api_url</span>: <span style=color:#ae81ff>&lt;SECRET&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>send_resolved</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>title</span>: <span style=color:#e6db74>&#34;ğŸš¨ [{{ .Status | toUpper }}][DEV] {{ .CommonLabels.alertname }}&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>text</span>: &gt;<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      *Namespace:* {{ or .CommonLabels.namespace &#34;N/A&#34; }}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      *Service:* {{ or .CommonLabels.service &#34;N/A&#34; }}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      *Severity:* {{ or .CommonLabels.severity &#34;none&#34; }}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      *Summary:* {{ or .CommonAnnotations.summary &#34;No summary&#34; }}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      *Description:* {{ or .CommonAnnotations.description &#34;No description&#34; }}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      *StartsAt:* {{ (index .Alerts 0).StartsAt }}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      &lt;https://prometheus-dev.local/alerts|View in Prometheus&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- <span style=color:#f92672>name</span>: <span style=color:#e6db74>&#34;null&#34;</span>
</span></span></code></pre></div><hr><h2 id=a-2-prod-alertmanager-ìµœì¢…-ì„¤ì •>A-2) PROD Alertmanager ìµœì¢… ì„¤ì •<a hidden class=anchor aria-hidden=true href=#a-2-prod-alertmanager-ìµœì¢…-ì„¤ì •>#</a></h2><p>ğŸ“„ <code>/tmp/alertmanager-prod.yaml</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>global</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>resolve_timeout</span>: <span style=color:#ae81ff>5m</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>route</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>receiver</span>: <span style=color:#e6db74>&#34;null&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>group_by</span>: [<span style=color:#e6db74>&#34;alertname&#34;</span>,<span style=color:#e6db74>&#34;namespace&#34;</span>,<span style=color:#e6db74>&#34;service&#34;</span>,<span style=color:#e6db74>&#34;severity&#34;</span>]
</span></span><span style=display:flex><span>  <span style=color:#f92672>group_wait</span>: <span style=color:#ae81ff>30s</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>group_interval</span>: <span style=color:#ae81ff>5m</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>repeat_interval</span>: <span style=color:#ae81ff>12h</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>routes</span>:
</span></span><span style=display:flex><span>  - <span style=color:#f92672>receiver</span>: <span style=color:#e6db74>&#34;slack-prod&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>matchers</span>:
</span></span><span style=display:flex><span>    - <span style=color:#ae81ff>namespace=~&#34;.*-prod|monitoring-prod|kube-system&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>receivers</span>:
</span></span><span style=display:flex><span>- <span style=color:#f92672>name</span>: <span style=color:#e6db74>&#34;slack-prod&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>slack_configs</span>:
</span></span><span style=display:flex><span>  - <span style=color:#f92672>api_url</span>: <span style=color:#ae81ff>&lt;SECRET&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>send_resolved</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>title</span>: <span style=color:#e6db74>&#34;ğŸš¨ [{{ .Status | toUpper }}][PROD] {{ .CommonLabels.alertname }}&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>text</span>: &gt;<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      *Namespace:* {{ or .CommonLabels.namespace &#34;N/A&#34; }}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      *Service:* {{ or .CommonLabels.service &#34;N/A&#34; }}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      *Severity:* {{ or .CommonLabels.severity &#34;none&#34; }}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      *Summary:* {{ or .CommonAnnotations.summary &#34;No summary&#34; }}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      *Description:* {{ or .CommonAnnotations.description &#34;No description&#34; }}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      *StartsAt:* {{ (index .Alerts 0).StartsAt }}
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      &lt;https://prometheus-prod.local/alerts|View in Prometheus&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>- <span style=color:#f92672>name</span>: <span style=color:#e6db74>&#34;null&#34;</span>
</span></span></code></pre></div><hr><h2 id=a-3-sealedsecret-ìƒì„±-gitops-í•„ìˆ˜>A-3) SealedSecret ìƒì„± (GitOps í•„ìˆ˜)<a hidden class=anchor aria-hidden=true href=#a-3-sealedsecret-ìƒì„±-gitops-í•„ìˆ˜>#</a></h2><h3 id=dev>DEV<a hidden class=anchor aria-hidden=true href=#dev>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl -n monitoring-dev create secret generic alertmanager-config-dev <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --from-file<span style=color:#f92672>=</span>alertmanager.yaml<span style=color:#f92672>=</span>/tmp/alertmanager-dev.yaml <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --dry-run<span style=color:#f92672>=</span>client -o yaml <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>| kubeseal <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --controller-namespace kube-system <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --controller-name sealed-secrets <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --namespace monitoring-dev <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --name alertmanager-config-dev <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --format yaml <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>&gt; envs/dev/sealed-secrets/monitoring/alertmanager-config-dev.yaml
</span></span></code></pre></div><h3 id=prod>PROD<a hidden class=anchor aria-hidden=true href=#prod>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl -n monitoring-prod create secret generic alertmanager-config-prod <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --from-file<span style=color:#f92672>=</span>alertmanager.yaml<span style=color:#f92672>=</span>/tmp/alertmanager-prod.yaml <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --dry-run<span style=color:#f92672>=</span>client -o yaml <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>| kubeseal <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --controller-namespace kube-system <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --controller-name sealed-secrets <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --namespace monitoring-prod <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --name alertmanager-config-prod <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --format yaml <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>&gt; envs/prod/sealed-secrets/monitoring/alertmanager-config-prod.yaml
</span></span></code></pre></div><hr><h2 id=a-4-ë°°í¬--ë°˜ì˜-ì ˆì°¨>A-4) ë°°í¬ & ë°˜ì˜ ì ˆì°¨<a hidden class=anchor aria-hidden=true href=#a-4-ë°°í¬--ë°˜ì˜-ì ˆì°¨>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git add envs/**/sealed-secrets/monitoring/alertmanager-config-*.yaml
</span></span><span style=display:flex><span>git commit -m<span style=color:#e6db74>&#34;fix(alertmanager): route by namespace + null default&#34;</span>
</span></span><span style=display:flex><span>git push
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>argocd appsync monitoring-dev
</span></span><span style=display:flex><span>argocd appsync monitoring-prod
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>kubectl -n monitoring-dev rollout restart sts/alertmanager-monitoring-dev-kube-promet-alertmanager
</span></span><span style=display:flex><span>kubectl -n monitoring-prod rollout restart sts/alertmanager-monitoring-prod-kube-prome-alertmanager
</span></span></code></pre></div><hr><h2 id=a-5-ìµœì¢…-ê²€ì¦-ìš´ì˜-í‘œì¤€>A-5) ìµœì¢… ê²€ì¦ (ìš´ì˜ í‘œì¤€)<a hidden class=anchor aria-hidden=true href=#a-5-ìµœì¢…-ê²€ì¦-ìš´ì˜-í‘œì¤€>#</a></h2><h3 id=ì„¤ì •-ë°˜ì˜-í™•ì¸>ì„¤ì • ë°˜ì˜ í™•ì¸<a hidden class=anchor aria-hidden=true href=#ì„¤ì •-ë°˜ì˜-í™•ì¸>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl -sk https://alert-dev.local/api/v2/status  | jq -r<span style=color:#e6db74>&#39;.config.original&#39;</span>
</span></span><span style=display:flex><span>curl -sk https://alert-prod.local/api/v2/status | jq -r<span style=color:#e6db74>&#39;.config.original&#39;</span>
</span></span></code></pre></div><h3 id=cross-namespace-ì°¨ë‹¨-í™•ì¸>Cross namespace ì°¨ë‹¨ í™•ì¸<a hidden class=anchor aria-hidden=true href=#cross-namespace-ì°¨ë‹¨-í™•ì¸>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl -sk https://alert-dev.local/api/v2/alerts/groups <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>| jq<span style=color:#e6db74>&#39;.[] | select(.labels.namespace==&#34;airflow-prod&#34;) | .receiver.name&#39;</span>
</span></span></code></pre></div><p>ê¸°ëŒ€ê°’: <code>"null"</code></p><hr><h2 id=a-6-ìš´ì˜-ì£¼ì˜ì‚¬í•­>A-6) ìš´ì˜ ì£¼ì˜ì‚¬í•­<a hidden class=anchor aria-hidden=true href=#a-6-ìš´ì˜-ì£¼ì˜ì‚¬í•­>#</a></h2><ul><li>ê¸°ë³¸ receiverë¥¼ <code>slack-*</code>ë¡œ ë‘ëŠ” êµ¬ì„± ê¸ˆì§€<ul><li>ê¸°ë³¸ì€ â€œnullâ€ â†’ í—ˆìš©ëœ ê²ƒë§Œ Slackìœ¼ë¡œ ë³´ëƒ„</li></ul></li><li>Slack ì „ì†¡ì€ <strong>routes + matchersë¡œë§Œ</strong> í—ˆìš©<ul><li>ê¸°ë³¸ì€ â€œnullâ€ â†’ ì¡°ê±´ ë§ìœ¼ë©´ Slackìœ¼ë¡œ ë³´ëƒ„</li></ul></li><li>í…œí”Œë¦¿ì€ <code>default</code> ëŒ€ì‹  <code>or</code> ì‚¬ìš© ê¶Œì¥<ul><li><code>or</code>ëŠ” â€œë¹„ì—ˆìœ¼ë©´ ëŒ€ì²´ê°’â€ì„ ì£¼ëŠ” ë°©ì‹ (í•­ìƒ í•´ì„ ê°€ëŠ¥)</li><li><code>default</code>ëŠ” ì‚¬ìš© ê°€ëŠ¥í•œ í™˜ê²½/ë²„ì „ì— ë”°ë¼ ë™ì‘ì´ ë‹¤ë¥¼ ìˆ˜ ìˆìŒ</li></ul></li><li>Alertmanagerê°€ ì°¸ì¡°í•˜ëŠ” Secretì„ í•­ìƒ í™•ì¸</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl -n monitoring-dev  get alertmanager -o jsonpath<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;{.items[0].spec.configSecret}&#39;</span>;echo
</span></span><span style=display:flex><span>kubectl -n monitoring-prod get alertmanager -o jsonpath<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;{.items[0].spec.configSecret}&#39;</span>;echo
</span></span></code></pre></div><hr><h1 id=part-b-triton-serving-alert-êµ¬ì¶•--ê²€ì¦>Part B. Triton Serving Alert êµ¬ì¶• & ê²€ì¦<a hidden class=anchor aria-hidden=true href=#part-b-triton-serving-alert-êµ¬ì¶•--ê²€ì¦>#</a></h1><h2 id=b-1-ëª©ì >B-1) ëª©ì <a hidden class=anchor aria-hidden=true href=#b-1-ëª©ì >#</a></h2><ul><li>Pod up/downì´ ì•„ë‹ˆë¼ <strong>ëª¨ë¸ ì‹¤í–‰ ê´€ì </strong>ì˜ í’ˆì§ˆ ì´ìƒ ê°ì§€</li><li>dev/prod ë¶„ë¦¬ êµ¬ì¡° ìœ„ì—ì„œ <strong>namespace ë¼ë²¨ ë¼ìš°íŒ…</strong>ìœ¼ë¡œ ìë™ ì—°ë™</li></ul><hr><h2 id=b-2-triton-ë©”íŠ¸ë¦­-íŠ¹ì„±>B-2) Triton ë©”íŠ¸ë¦­ íŠ¹ì„±<a hidden class=anchor aria-hidden=true href=#b-2-triton-ë©”íŠ¸ë¦­-íŠ¹ì„±>#</a></h2><table><thead><tr><th>ë©”íŠ¸ë¦­</th><th>íƒ€ì…</th><th>ì˜ë¯¸</th></tr></thead><tbody><tr><td><code>nv_inference_request_success</code></td><td>counter</td><td>ëª¨ë¸ ì‹¤í–‰ ì„±ê³µ ëˆ„ì </td></tr><tr><td><code>nv_inference_request_failure</code></td><td>counter</td><td>ëª¨ë¸ ì‹¤í–‰ ì‹¤íŒ¨ ëˆ„ì </td></tr><tr><td><code>nv_inference_count</code></td><td>counter</td><td>inference ì´ ìš”ì²­ ìˆ˜</td></tr><tr><td><code>nv_inference_request_duration_us</code></td><td>sum</td><td>ì²˜ë¦¬ ì‹œê°„ í•©</td></tr></tbody></table><p><strong>ì£¼ì˜</strong></p><p>Tritonì˜ ê¸°ë³¸ Prometheus latency ë©”íŠ¸ë¦­ì€ sum/count í˜•íƒœì´ë¯€ë¡œ,</p><p>histogram ê¸°ë°˜ p95ë¥¼ ì „ì œë¡œ í•˜ê¸°ë³´ë‹¤ëŠ” mean latency ê¸°ë°˜ìœ¼ë¡œ ì§„í–‰ í–ˆìŠµë‹ˆë‹¤.</p><p>(ê³µì‹ ë¬¸ì„œ: <a href="https://docs.nvidia.com/deeplearning/triton-inference-server/user-guide/docs/user_guide/metrics.html?utm_source=chatgpt.com">https://docs.nvidia.com/deeplearning/triton-inference-server/user-guide/docs/user_guide/metrics.html</a>)</p><hr><h2 id=b-3-prometheusrule-dev-ì˜ˆì‹œ>B-3) PrometheusRule (DEV ì˜ˆì‹œ)<a hidden class=anchor aria-hidden=true href=#b-3-prometheusrule-dev-ì˜ˆì‹œ>#</a></h2><p>ğŸ“„ <code>envs/dev/monitoring/rules/triton-alerts.yaml</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>monitoring.coreos.com/v1</span>
</span></span><span style=display:flex><span><span style=color:#f92672>kind</span>: <span style=color:#ae81ff>PrometheusRule</span>
</span></span><span style=display:flex><span><span style=color:#f92672>metadata</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>name</span>: <span style=color:#ae81ff>triton-alerts</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>namespace</span>: <span style=color:#ae81ff>monitoring-dev</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>labels</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>release</span>: <span style=color:#ae81ff>monitoring-dev</span>
</span></span><span style=display:flex><span><span style=color:#f92672>spec</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>groups</span>:
</span></span><span style=display:flex><span>  - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>triton.rules</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>rules</span>:
</span></span><span style=display:flex><span>    - <span style=color:#f92672>alert</span>: <span style=color:#ae81ff>TritonHighErrorRate</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>expr</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        (
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          sum(rate(nv_inference_request_failure{job=&#34;triton&#34;}[5m]))
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        /
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          clamp_min(
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            sum(rate(nv_inference_request_success{job=&#34;triton&#34;}[5m]))
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          + sum(rate(nv_inference_request_failure{job=&#34;triton&#34;}[5m])),
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          1
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          )
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        ) &gt; 0.02</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>for</span>: <span style=color:#ae81ff>2m</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>labels</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>severity</span>: <span style=color:#ae81ff>warning</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>namespace</span>: <span style=color:#ae81ff>triton-dev</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>service</span>: <span style=color:#ae81ff>triton</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>annotations</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>summary</span>: <span style=color:#e6db74>&#34;[DEV] Triton error rate high&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>description</span>: <span style=color:#e6db74>&#34;Triton model execution error rate &gt; 2% (5m). value={{ $value }}&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    - <span style=color:#f92672>alert</span>: <span style=color:#ae81ff>TritonMeanLatencyHigh</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>expr</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        (
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          sum(rate(nv_inference_request_duration_us{job=&#34;triton&#34;}[5m]))
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        /
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          clamp_min(sum(rate(nv_inference_count{job=&#34;triton&#34;}[5m])), 1)
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        ) / 1e6 &gt; 0.000001</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>for</span>: <span style=color:#ae81ff>10s</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>labels</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>severity</span>: <span style=color:#ae81ff>warning</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>namespace</span>: <span style=color:#ae81ff>triton-dev</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>service</span>: <span style=color:#ae81ff>triton</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>annotations</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>summary</span>: <span style=color:#e6db74>&#34;[DEV] Triton mean latency high&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>description</span>: <span style=color:#e6db74>&#34;Triton mean inference latency high. value={{ $value }}&#34;</span>
</span></span></code></pre></div><hr><h2 id=b-4-ë¼ìš°íŒ…-ì „ì œ-ì¡°ê±´-ê°€ì¥-í”í•œ-í•¨ì •>B-4) ë¼ìš°íŒ… ì „ì œ ì¡°ê±´ (ê°€ì¥ í”í•œ í•¨ì •)<a hidden class=anchor aria-hidden=true href=#b-4-ë¼ìš°íŒ…-ì „ì œ-ì¡°ê±´-ê°€ì¥-í”í•œ-í•¨ì •>#</a></h2><p>â€œAlertmanager matcherì— namespaceë¥¼ í—ˆìš©í–ˆëŠ”ë° Slackì´ ì•ˆ ì˜¨ë‹¤?â€</p><ul><li>matcherëŠ” <strong>ì•ŒëŸ¿ì´ firingì¼ ë•Œë§Œ</strong> ì ìš©ë©ë‹ˆë‹¤.</li><li>ì¦‰, Prometheusì— ë¨¼ì € firing ì•ŒëŸ¿ì´ ìˆì–´ì•¼ Alertmanagerê°€ ë¼ìš°íŒ…ì„ íŒë‹¨í•©ë‹ˆë‹¤.</li></ul><p>í™•ì¸:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl -sk https://prometheus-dev.local/api/v1/alerts <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>| jq<span style=color:#e6db74>&#39;.data.alerts[] | select(.labels.alertname|test(&#34;Triton&#34;))&#39;</span>
</span></span></code></pre></div><hr><h2 id=b-5-í…ŒìŠ¤íŠ¸-ì ˆì°¨-ìš´ì˜-í‘œì¤€>B-5) í…ŒìŠ¤íŠ¸ ì ˆì°¨ (ìš´ì˜ í‘œì¤€)<a hidden class=anchor aria-hidden=true href=#b-5-í…ŒìŠ¤íŠ¸-ì ˆì°¨-ìš´ì˜-í‘œì¤€>#</a></h2><h3 id=1-í´ëŸ¬ìŠ¤í„°-ë‚´ë¶€ì—ì„œ-inference-ë°œìƒ>1) í´ëŸ¬ìŠ¤í„° ë‚´ë¶€ì—ì„œ inference ë°œìƒ<a hidden class=anchor aria-hidden=true href=#1-í´ëŸ¬ìŠ¤í„°-ë‚´ë¶€ì—ì„œ-inference-ë°œìƒ>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl -n triton-dev run loadgen --rm -i --restart<span style=color:#f92672>=</span>Never <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --image<span style=color:#f92672>=</span>curlimages/curl:8.6.0 -- <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  sh -lc <span style=color:#e6db74>&#39;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  for i in $(seq 1 20); do
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    curl -sS http://triton.triton-dev.svc.cluster.local:8000/v2/models/best_model/infer \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      -H &#34;Content-Type: application/json&#34; \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      -d &#34;{\&#34;inputs\&#34;:[{\&#34;name\&#34;:\&#34;input\&#34;,\&#34;shape\&#34;:[1,4],\&#34;datatype\&#34;:\&#34;FP32\&#34;,\&#34;data\&#34;:[1,2,3,4]}]}&#34; \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      &gt;/dev/null || true
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  done
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  echo done
</span></span></span><span style=display:flex><span><span style=color:#e6db74>&#39;</span>
</span></span></code></pre></div><h3 id=2-prometheusì—ì„œ-firing-í™•ì¸>2) Prometheusì—ì„œ firing í™•ì¸<a hidden class=anchor aria-hidden=true href=#2-prometheusì—ì„œ-firing-í™•ì¸>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl -sk https://prometheus-dev.local/api/v1/alerts <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>| jq<span style=color:#e6db74>&#39;.data.alerts[] | select(.labels.alertname==&#34;TritonMeanLatencyHigh&#34;)&#39;</span>
</span></span></code></pre></div><h3 id=3-alertmanager-receiver-í™•ì¸>3) Alertmanager receiver í™•ì¸<a hidden class=anchor aria-hidden=true href=#3-alertmanager-receiver-í™•ì¸>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>curl -sk https://alert-dev.local/api/v2/alerts/groups <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>| jq<span style=color:#e6db74>&#39;.[] | select(.labels.alertname==&#34;TritonMeanLatencyHigh&#34;) | .receiver.name&#39;</span>
</span></span></code></pre></div><p>ê¸°ëŒ€ê°’: <code>"slack-dev"</code></p><hr><h2 id=b-6-higherrorrate-í…ŒìŠ¤íŠ¸ê°€-ì–´ë ¤ìš´-ì´ìœ >B-6) HighErrorRate í…ŒìŠ¤íŠ¸ê°€ ì–´ë ¤ìš´ ì´ìœ <a hidden class=anchor aria-hidden=true href=#b-6-higherrorrate-í…ŒìŠ¤íŠ¸ê°€-ì–´ë ¤ìš´-ì´ìœ >#</a></h2><p><code>nv_inference_request_failure</code>ëŠ” <strong>ëª¨ë¸ ì‹¤í–‰ ë‹¨ê³„ì— ë“¤ì–´ê°„ ìš”ì²­ ì¤‘ ì‹¤íŒ¨</strong>ë§Œ ì¹´ìš´íŠ¸í•©ë‹ˆë‹¤.</p><p>ë”°ë¼ì„œ HTTP ì‹¤íŒ¨ì—¬ë„ failureê°€ ì•ˆ ì˜¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><table><thead><tr><th>ì‹¤íŒ¨ ìœ í˜•</th><th>failure ì¦ê°€</th></tr></thead><tbody><tr><td>ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ëª¨ë¸ í˜¸ì¶œ</td><td>âŒ</td></tr><tr><td>JSON íŒŒì‹± ì˜¤ë¥˜</td><td>âŒ</td></tr><tr><td>input/output ìŠ¤í™ ì˜¤ë¥˜</td><td>âŒ</td></tr><tr><td>shape mismatch</td><td>âŒ</td></tr><tr><td>HTTP 4xx/5xx</td><td>âŒ</td></tr></tbody></table><p><strong>ê²°ë¡ </strong></p><ul><li>HighErrorRateëŠ” â€œí…ŒìŠ¤íŠ¸ìš©â€ì´ ì•„ë‹ˆë¼ <strong>ìš´ì˜ ê°ì‹œìš©</strong>ìœ¼ë¡œ ìœ ì§€í•©ë‹ˆë‹¤.</li><li>ë§Œì•½, HTTP ì‹¤íŒ¨ìœ¨ì´ í•„ìš”í•˜ë©´ Tritonì´ ì•„ë‹ˆë¼ <strong>Gateway ê³„ì¸µ(Nginx/Envoy/Ingress)</strong> ë©”íŠ¸ë¦­ìœ¼ë¡œ ë³„ë„ ì•ŒëŸ¿ì„ ë‘¬ì•¼ í•©ë‹ˆë‹¤.</li></ul><hr><h2 id=b-7-ìš´ì˜-ê¶Œì¥ê°’>B-7) ìš´ì˜ ê¶Œì¥ê°’<a hidden class=anchor aria-hidden=true href=#b-7-ìš´ì˜-ê¶Œì¥ê°’>#</a></h2><table><thead><tr><th>ì•ŒëŸ¿</th><th>í…ŒìŠ¤íŠ¸</th><th>ìš´ì˜</th></tr></thead><tbody><tr><td>Mean latency</td><td><code>> 0.000001s</code></td><td><code>> 0.05 ~ 0.1s</code></td></tr><tr><td>Error rate</td><td>í…ŒìŠ¤íŠ¸ ë¹„ê¶Œì¥</td><td><code>> 2%</code></td></tr><tr><td>for</td><td><code>10s</code></td><td><code>2~5m</code></td></tr></tbody></table><hr><h1 id=part-c-grafana-triton-serving--ì•ŒëŒ-ì´í›„-íŒë‹¨-í‘œì¤€>Part C. Grafana (Triton Serving) â€” ì•ŒëŒ ì´í›„ â€˜íŒë‹¨ í‘œì¤€â€™<a hidden class=anchor aria-hidden=true href=#part-c-grafana-triton-serving--ì•ŒëŒ-ì´í›„-íŒë‹¨-í‘œì¤€>#</a></h1><h2 id=c-1-ëª©ì >C-1) ëª©ì <a hidden class=anchor aria-hidden=true href=#c-1-ëª©ì >#</a></h2><p>ì•ŒëŒì€ â€œì´ìƒâ€ì„ ì•Œë ¤ì£¼ì§€ë§Œ, ìš´ì˜ì—ì„œ ì¤‘ìš”í•œ ê±´ <strong>ì¦‰ì‹œ ì›ì¸ í™•ì¸</strong>ì…ë‹ˆë‹¤.</p><p>Tritonì€ ê¸°ë³¸ latency ë©”íŠ¸ë¦­ì´ histogramì´ ì•„ë‹ˆë¼ <strong>sum/count ê¸°ë°˜</strong>ì´ë¯€ë¡œ,</p><p>ë³¸ ì‹œë¦¬ì¦ˆì—ì„œëŠ” p95 ëŒ€ì‹  avg latency(ms)ë¥¼ í‘œì¤€ìœ¼ë¡œ ì‚¼ê³ ,</p><p>ëŒ€ì‹  <strong>avg latency + queue time + pending requests</strong> ê°™ì€ í•µì‹¬ ì§€í‘œë¡œ ì›ì¸ í™•ì¸ì„ ê°€ëŠ¥í•˜ê²Œ í–ˆìŠµë‹ˆë‹¤.</p><hr><h2 id=c-2-dashboard-ì„¤ê³„-ì›ì¹™>C-2) Dashboard ì„¤ê³„ ì›ì¹™<a hidden class=anchor aria-hidden=true href=#c-2-dashboard-ì„¤ê³„-ì›ì¹™>#</a></h2><ul><li>Triton ê¸°ë³¸ metricsë§Œìœ¼ë¡œ 100% ë™ì‘</li><li>â€œNo dataâ€ íŒ¨ë„ì´ ë‚˜ì˜¤ì§€ ì•Šë„ë¡ <strong>rate + avg(ms)</strong> ê¸°ë°˜ìœ¼ë¡œ ì„¤ê³„</li><li>ìš´ì˜ìê°€ ë°”ë¡œ íŒë‹¨ ê°€ëŠ¥í•œ ì‹ í˜¸ë§Œ ë‚¨ê¹€<ul><li>RPS(success/failure)</li><li>Failure rate(%)</li><li>Pod Up</li><li>Latency avg(ms)</li><li>Avg Queue Time(ms)</li><li>Pending requests</li></ul></li></ul><hr><h2 id=c-3-dashboard-import-json>C-3) Dashboard Import (JSON)<a hidden class=anchor aria-hidden=true href=#c-3-dashboard-import-json>#</a></h2><p>Grafana â†’ <strong>Dashboard â†’ Import â†’ JSON</strong> ë¶™ì—¬ë„£ê¸°</p><ul><li>UID: <code>triton-serving-model-kpis-v2</code></li><li>Title: <code>Triton Serving - Model KPIs (v2, avg-latency)</code></li><li>Variables:<ul><li><code>job / instance / model / version</code></li></ul></li></ul><blockquote><p>íŠ¹íˆ model / version ë³€ìˆ˜ëŠ”</p><p><strong>MLflow â†’ Triton ë²„ì „ ë””ë ‰í„°ë¦¬(version ë¼ë²¨)</strong> íë¦„ê³¼ ì—°ê²°ë˜ì–´</p><p>ëª¨ë¸ ë²„ì „ë³„ ì„±ëŠ¥ ë¹„êµ, ë¡¤ë°± íŒë‹¨ì— ë°”ë¡œ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.</p></blockquote><hr><h2 id=c-4-no-data-íŒ¨ë„-ë°©ì§€ìš©-ìµœì†Œ-í…ŒìŠ¤íŠ¸>C-4) â€œNo data íŒ¨ë„â€ ë°©ì§€ìš© ìµœì†Œ í…ŒìŠ¤íŠ¸<a hidden class=anchor aria-hidden=true href=#c-4-no-data-íŒ¨ë„-ë°©ì§€ìš©-ìµœì†Œ-í…ŒìŠ¤íŠ¸>#</a></h2><p>ì§§ì€ ìˆœê°„ ë¶€í•˜ì—ì„œëŠ” Statì´ 0ìœ¼ë¡œ ë–¨ì–´ì§ˆ ìˆ˜ ìˆìœ¼ë¯€ë¡œ</p><p>1~2ë¶„ ìˆ˜ì¤€ì˜ ì§§ì€ ì§€ì† ë¶€í•˜ë¡œ íŒ¨ë„ì„ ì±„ì›ë‹ˆë‹¤.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl -n triton-dev run loadgen --rm -i --restart<span style=color:#f92672>=</span>Never <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --image<span style=color:#f92672>=</span>curlimages/curl:8.6.0 -- <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  sh -lc <span style=color:#e6db74>&#39;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  end=$((SECONDS+90))
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  while [ $SECONDS -lt $end ]; do
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    curl -sS http://triton.triton-dev.svc.cluster.local:8000/v2/models/best_model/infer \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      -H &#34;Content-Type: application/json&#34; \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      -d &#34;{\&#34;inputs\&#34;:[{\&#34;name\&#34;:\&#34;input\&#34;,\&#34;shape\&#34;:[1,4],\&#34;datatype\&#34;:\&#34;FP32\&#34;,\&#34;data\&#34;:[[5.1,3.5,1.4,0.2]]}]}&#34; \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      &gt;/dev/null || true
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  done
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  echo done
</span></span></span><span style=display:flex><span><span style=color:#e6db74>&#39;</span>
</span></span></code></pre></div><p>Grafana Time rangeëŠ” <strong>Last 5 minutes</strong>ë¡œ ë‘ë©´ í™•ì¸ì´ ê°€ì¥ ë¹ ë¦…ë‹ˆë‹¤.</p><hr><h2 id=c-5-ìš´ì˜ì—ì„œì˜-ì‚¬ìš©ë²•ì•ŒëŒ-ëœ¬-ë’¤-30ì´ˆ-ë£¨í‹´>C-5) ìš´ì˜ì—ì„œì˜ ì‚¬ìš©ë²•(ì•ŒëŒ ëœ¬ ë’¤ 30ì´ˆ ë£¨í‹´)<a hidden class=anchor aria-hidden=true href=#c-5-ìš´ì˜ì—ì„œì˜-ì‚¬ìš©ë²•ì•ŒëŒ-ëœ¬-ë’¤-30ì´ˆ-ë£¨í‹´>#</a></h2><ol><li><strong>Pod Up</strong>ìœ¼ë¡œ â€œí”Œë«í¼ ì¥ì•  vs ëª¨ë¸/ì„±ëŠ¥ ì´ìŠˆâ€ 1ì°¨ ë¶„ê¸°</li><li><strong>Failure rate / Failure RPS</strong>ë¡œ â€œì‹¤í–‰ ì‹¤íŒ¨â€ ì—¬ë¶€ í™•ì¸</li><li>*Latency Avg(ms)**ê°€ íŠ€ë©´</li><li><strong>Avg Queue Time</strong>ìœ¼ë¡œ â€œëŒ€ê¸°ì—´ ë³‘ëª© ì—¬ë¶€â€ë¥¼ ë¨¼ì € í™•ì¸í•˜ê³ , Pending requestsì™€ í•¨ê»˜ â€œë°€ë¦¼(í) vs ë‹¨ìˆœ ì§€ì—°â€ì„ 1ì°¨ ë¶„ê¸°</li><li><strong>Pending requests</strong>ê°€ ì¦ê°€í•˜ë©´ HPA/ë™ì‹œì„±/ë¦¬ì†ŒìŠ¤ ë³‘ëª© ëŒ€ì‘ìœ¼ë¡œ ì—°ê²°</li></ol><hr><h2 id=-íŒ>ğŸ§© íŒ<a hidden class=anchor aria-hidden=true href=#-íŒ>#</a></h2><ul><li>â€œì„œë¹„ìŠ¤ ì•ŒëŸ¿ì€ namespace ë¼ë²¨ í•„ìˆ˜â€ë¥¼ íŒ€ ë£°ë¡œ ê³ ì •í•˜ë©´ dev/prod ì‚¬ê³ ê°€ ê±°ì˜ ì‚¬ë¼ì§‘ë‹ˆë‹¤.</li><li>Triton failureëŠ” â€œëª¨ë¸ ì‹¤í–‰ ì‹¤íŒ¨â€ë§Œ ì¡ìŠµë‹ˆë‹¤. HTTP ì‹¤íŒ¨ìœ¨ì€ gateway ì•ŒëŸ¿ìœ¼ë¡œ ë¶„ë¦¬í•´ì•¼ í•©ë‹ˆë‹¤.</li><li>Triton latencyëŠ” p95 ëŒ€ì‹  <strong>avg latency + queue time + pending</strong> ì¡°í•©ìœ¼ë¡œ íŒë‹¨í•œë‹¤.</li></ul><hr><h2 id=-ì •ë¦¬>ğŸ ì •ë¦¬<a hidden class=anchor aria-hidden=true href=#-ì •ë¦¬>#</a></h2><blockquote><p>PrometheusRuleì€ ì •ì±…ì„ ì •ì˜í•˜ê³ ,
AlertmanagerëŠ” ì „íŒŒë¥¼ ì œì–´í•˜ë©°,
GrafanaëŠ” íŒë‹¨ì„ í‘œì¤€í™”í•©ë‹ˆë‹¤.</p><p>Tritonì€ avg-latencyë¡œ ê°ì§€í•˜ê³ ,
<strong>queue/pendingìœ¼ë¡œ ë³‘ëª© ì—¬ë¶€ë¥¼ 1ì°¨ ë¶„ê¸°</strong>í•˜ë©°,
error-rateëŠ” ìš´ì˜ ê°ì‹œë¡œë§Œ ìœ ì§€í•©ë‹ˆë‹¤.</p></blockquote></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=next href=https://keonhoban.github.io/mlops-journey/posts/triton/02/><span class=title>Next Â»</span><br><span>[Triton ìš´ì˜í˜• ì„œë¹™ í”Œë«í¼ (GitOps Â· ê²€ì¦ Â· Alerting) - MLflow â†’ Triton ìë™ ë°°í¬ íŒŒì´í”„ë¼ì¸ êµ¬ì¶•]</span></a></nav></footer></article></main><footer class=footer><p style=margin-top:1rem>Â© 2025 Keonho Ban | <a href=https://github.com/keonhoban target=_blank>GitHub</a> | <a href=mailto:keonho0510@naver.com>Email</a></p></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>