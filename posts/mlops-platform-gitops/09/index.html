<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>[MLOps ìš´ì˜ ê³ ë„í™” - 8ë‹¨ê³„: CI/CD ìš´ì˜ ìë™í™” (GitHub ActionsÂ·Helm Lint)] | ğŸ”ï¸ MLOps Journey</title>
<meta name=keywords content><meta name=description content="CI/CD & ìš´ì˜ ìë™í™”: GitHub Actions Â· Helm Lint Â· Canary í…ŒìŠ¤íŠ¸

ğŸ§  ì‹œë‚˜ë¦¬ì˜¤ ì„¤ëª…

â€œìš´ì˜ í™˜ê²½ì—ì„œ ì‚¬ê³ ëŠ” ëŒ€ë¶€ë¶„ ë°°í¬ ì „ì— ì²´í¬ë˜ì§€ ëª»í•œ ë¬¸ì œ,
ìˆ˜ë™ ë°°í¬ì˜ ì‹¤ìˆ˜, ë°°í¬ í›„ ê²€ì¦ ë¶€ì¬ì—ì„œ ì‹œì‘ë©ë‹ˆë‹¤.â€
â€œê·¸ë˜ì„œ ì´ë²ˆ ë‹¨ê³„ì—ì„œëŠ” ì•„ì˜ˆ CI ë‹¨ê³„ì—ì„œ ë¬¸ì œë¥¼ ë§‰ê³ ,
CDì—ì„œëŠ” GitOpsê°€ ì›í•˜ëŠ” ìƒíƒœë¥¼ ìë™ìœ¼ë¡œ ë³´ì¥í•˜ë©°,
ë°°í¬ ì§í›„ FastAPI aliasë¡œ ëª¨ë¸ íŠ¸ë˜í”½ê¹Œì§€ ìë™ ê²€ì¦ë˜ëŠ” êµ¬ì¡°ë¥¼ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.â€
â€œì´ ë‹¨ê³„ê°€ ì™„ì„±ë˜ë©´ í•˜ë‚˜ì˜ ì»¤ë°‹ì´
ê²€ì¦ â†’ ë°°í¬ â†’ ì‹¤í—˜ â†’ ì•Œë¦¼ê¹Œì§€ ìŠ¤ìŠ¤ë¡œ íë¥´ëŠ”"><meta name=author content><link rel=canonical href=https://keonhoban.github.io/mlops-journey/posts/mlops-platform-gitops/09/><link crossorigin=anonymous href=/mlops-journey/assets/css/stylesheet.f49d66caae9ea0fd43f21f29e71a8d3e284517ed770f2aa86fa012953ad3c9ef.css integrity="sha256-9J1myq6eoP1D8h8p5xqNPihFF+13Dyqob6ASlTrTye8=" rel="preload stylesheet" as=style><link rel=icon href=https://keonhoban.github.io/mlops-journey/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://keonhoban.github.io/mlops-journey/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://keonhoban.github.io/mlops-journey/favicon-32x32.png><link rel=apple-touch-icon href=https://keonhoban.github.io/mlops-journey/apple-touch-icon.png><link rel=mask-icon href=https://keonhoban.github.io/mlops-journey/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://keonhoban.github.io/mlops-journey/posts/mlops-platform-gitops/09/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://keonhoban.github.io/mlops-journey/posts/mlops-platform-gitops/09/"><meta property="og:site_name" content="ğŸ”ï¸  MLOps Journey"><meta property="og:title" content="[MLOps ìš´ì˜ ê³ ë„í™” - 8ë‹¨ê³„: CI/CD ìš´ì˜ ìë™í™” (GitHub ActionsÂ·Helm Lint)]"><meta property="og:description" content="CI/CD & ìš´ì˜ ìë™í™”: GitHub Actions Â· Helm Lint Â· Canary í…ŒìŠ¤íŠ¸ ğŸ§  ì‹œë‚˜ë¦¬ì˜¤ ì„¤ëª… â€œìš´ì˜ í™˜ê²½ì—ì„œ ì‚¬ê³ ëŠ” ëŒ€ë¶€ë¶„ ë°°í¬ ì „ì— ì²´í¬ë˜ì§€ ëª»í•œ ë¬¸ì œ,
ìˆ˜ë™ ë°°í¬ì˜ ì‹¤ìˆ˜, ë°°í¬ í›„ ê²€ì¦ ë¶€ì¬ì—ì„œ ì‹œì‘ë©ë‹ˆë‹¤.â€
â€œê·¸ë˜ì„œ ì´ë²ˆ ë‹¨ê³„ì—ì„œëŠ” ì•„ì˜ˆ CI ë‹¨ê³„ì—ì„œ ë¬¸ì œë¥¼ ë§‰ê³ ,
CDì—ì„œëŠ” GitOpsê°€ ì›í•˜ëŠ” ìƒíƒœë¥¼ ìë™ìœ¼ë¡œ ë³´ì¥í•˜ë©°,
ë°°í¬ ì§í›„ FastAPI aliasë¡œ ëª¨ë¸ íŠ¸ë˜í”½ê¹Œì§€ ìë™ ê²€ì¦ë˜ëŠ” êµ¬ì¡°ë¥¼ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.â€
â€œì´ ë‹¨ê³„ê°€ ì™„ì„±ë˜ë©´ í•˜ë‚˜ì˜ ì»¤ë°‹ì´
ê²€ì¦ â†’ ë°°í¬ â†’ ì‹¤í—˜ â†’ ì•Œë¦¼ê¹Œì§€ ìŠ¤ìŠ¤ë¡œ íë¥´ëŠ”"><meta property="og:locale" content="ko"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-09-15T17:10:21+09:00"><meta property="article:modified_time" content="2025-09-15T17:10:21+09:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="[MLOps ìš´ì˜ ê³ ë„í™” - 8ë‹¨ê³„: CI/CD ìš´ì˜ ìë™í™” (GitHub ActionsÂ·Helm Lint)]"><meta name=twitter:description content="CI/CD & ìš´ì˜ ìë™í™”: GitHub Actions Â· Helm Lint Â· Canary í…ŒìŠ¤íŠ¸

ğŸ§  ì‹œë‚˜ë¦¬ì˜¤ ì„¤ëª…

â€œìš´ì˜ í™˜ê²½ì—ì„œ ì‚¬ê³ ëŠ” ëŒ€ë¶€ë¶„ ë°°í¬ ì „ì— ì²´í¬ë˜ì§€ ëª»í•œ ë¬¸ì œ,
ìˆ˜ë™ ë°°í¬ì˜ ì‹¤ìˆ˜, ë°°í¬ í›„ ê²€ì¦ ë¶€ì¬ì—ì„œ ì‹œì‘ë©ë‹ˆë‹¤.â€
â€œê·¸ë˜ì„œ ì´ë²ˆ ë‹¨ê³„ì—ì„œëŠ” ì•„ì˜ˆ CI ë‹¨ê³„ì—ì„œ ë¬¸ì œë¥¼ ë§‰ê³ ,
CDì—ì„œëŠ” GitOpsê°€ ì›í•˜ëŠ” ìƒíƒœë¥¼ ìë™ìœ¼ë¡œ ë³´ì¥í•˜ë©°,
ë°°í¬ ì§í›„ FastAPI aliasë¡œ ëª¨ë¸ íŠ¸ë˜í”½ê¹Œì§€ ìë™ ê²€ì¦ë˜ëŠ” êµ¬ì¡°ë¥¼ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.â€
â€œì´ ë‹¨ê³„ê°€ ì™„ì„±ë˜ë©´ í•˜ë‚˜ì˜ ì»¤ë°‹ì´
ê²€ì¦ â†’ ë°°í¬ â†’ ì‹¤í—˜ â†’ ì•Œë¦¼ê¹Œì§€ ìŠ¤ìŠ¤ë¡œ íë¥´ëŠ”"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://keonhoban.github.io/mlops-journey/posts/"},{"@type":"ListItem","position":2,"name":"[MLOps ìš´ì˜ ê³ ë„í™” - 8ë‹¨ê³„: CI/CD ìš´ì˜ ìë™í™” (GitHub ActionsÂ·Helm Lint)]","item":"https://keonhoban.github.io/mlops-journey/posts/mlops-platform-gitops/09/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"[MLOps ìš´ì˜ ê³ ë„í™” - 8ë‹¨ê³„: CI/CD ìš´ì˜ ìë™í™” (GitHub ActionsÂ·Helm Lint)]","name":"[MLOps ìš´ì˜ ê³ ë„í™” - 8ë‹¨ê³„: CI\/CD ìš´ì˜ ìë™í™” (GitHub ActionsÂ·Helm Lint)]","description":"CI/CD \u0026amp; ìš´ì˜ ìë™í™”: GitHub Actions Â· Helm Lint Â· Canary í…ŒìŠ¤íŠ¸ ğŸ§  ì‹œë‚˜ë¦¬ì˜¤ ì„¤ëª… â€œìš´ì˜ í™˜ê²½ì—ì„œ ì‚¬ê³ ëŠ” ëŒ€ë¶€ë¶„ ë°°í¬ ì „ì— ì²´í¬ë˜ì§€ ëª»í•œ ë¬¸ì œ,\nìˆ˜ë™ ë°°í¬ì˜ ì‹¤ìˆ˜, ë°°í¬ í›„ ê²€ì¦ ë¶€ì¬ì—ì„œ ì‹œì‘ë©ë‹ˆë‹¤.â€\nâ€œê·¸ë˜ì„œ ì´ë²ˆ ë‹¨ê³„ì—ì„œëŠ” ì•„ì˜ˆ CI ë‹¨ê³„ì—ì„œ ë¬¸ì œë¥¼ ë§‰ê³ ,\nCDì—ì„œëŠ” GitOpsê°€ ì›í•˜ëŠ” ìƒíƒœë¥¼ ìë™ìœ¼ë¡œ ë³´ì¥í•˜ë©°,\në°°í¬ ì§í›„ FastAPI aliasë¡œ ëª¨ë¸ íŠ¸ë˜í”½ê¹Œì§€ ìë™ ê²€ì¦ë˜ëŠ” êµ¬ì¡°ë¥¼ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.â€\nâ€œì´ ë‹¨ê³„ê°€ ì™„ì„±ë˜ë©´ í•˜ë‚˜ì˜ ì»¤ë°‹ì´\nê²€ì¦ â†’ ë°°í¬ â†’ ì‹¤í—˜ â†’ ì•Œë¦¼ê¹Œì§€ ìŠ¤ìŠ¤ë¡œ íë¥´ëŠ”\n","keywords":[],"articleBody":"CI/CD \u0026 ìš´ì˜ ìë™í™”: GitHub Actions Â· Helm Lint Â· Canary í…ŒìŠ¤íŠ¸ ğŸ§  ì‹œë‚˜ë¦¬ì˜¤ ì„¤ëª… â€œìš´ì˜ í™˜ê²½ì—ì„œ ì‚¬ê³ ëŠ” ëŒ€ë¶€ë¶„ ë°°í¬ ì „ì— ì²´í¬ë˜ì§€ ëª»í•œ ë¬¸ì œ,\nìˆ˜ë™ ë°°í¬ì˜ ì‹¤ìˆ˜, ë°°í¬ í›„ ê²€ì¦ ë¶€ì¬ì—ì„œ ì‹œì‘ë©ë‹ˆë‹¤.â€\nâ€œê·¸ë˜ì„œ ì´ë²ˆ ë‹¨ê³„ì—ì„œëŠ” ì•„ì˜ˆ CI ë‹¨ê³„ì—ì„œ ë¬¸ì œë¥¼ ë§‰ê³ ,\nCDì—ì„œëŠ” GitOpsê°€ ì›í•˜ëŠ” ìƒíƒœë¥¼ ìë™ìœ¼ë¡œ ë³´ì¥í•˜ë©°,\në°°í¬ ì§í›„ FastAPI aliasë¡œ ëª¨ë¸ íŠ¸ë˜í”½ê¹Œì§€ ìë™ ê²€ì¦ë˜ëŠ” êµ¬ì¡°ë¥¼ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.â€\nâ€œì´ ë‹¨ê³„ê°€ ì™„ì„±ë˜ë©´ í•˜ë‚˜ì˜ ì»¤ë°‹ì´\nê²€ì¦ â†’ ë°°í¬ â†’ ì‹¤í—˜ â†’ ì•Œë¦¼ê¹Œì§€ ìŠ¤ìŠ¤ë¡œ íë¥´ëŠ”\nìš´ì˜í˜• MLOpsì˜ í•µì‹¬ ìë™í™” ë£¨í”„ê°€ ì™„ì„±ë©ë‹ˆë‹¤.â€\nğŸ¯ í•µì‹¬ ìš”ì•½ Helm Lint(strict) + kubeconform + yamllintë¡œ PR ë‹¨ê³„ì—ì„œ ì˜¤ë¥˜/ì˜¤íƒˆì ì°¨ë‹¨ *GitHub Actions â†’ ArgoCD(ApplicationSet)**ë¡œ GitOps ë°°í¬ ìë™í™” A/B Â· Canary Â· Blue-Greenì„ FastAPI alias ê¸°ë°˜ìœ¼ë¡œ ë°°í¬ (ì½”ë“œ ìˆ˜ì • ì—†ì´ ì‹¤í—˜ ì „í™˜) Slack ì—°ë™ìœ¼ë¡œ CI â†’ CD â†’ ì‹¤í—˜ ê²°ê³¼ê¹Œì§€ ì—”ë“œíˆ¬ì—”ë“œ ëª¨ë‹ˆí„°ë§ â€œPR â†’ Merge â†’ Auto Deploy â†’ íŠ¸ë˜í”½ ì‹¤í—˜â€ ì™„ì „ ìë™ ì‚¬ì´í´ ğŸš€ 1ï¸âƒ£ ì „ì²´ êµ¬ì¡° ìš”ì•½ ì˜ë„: â€œLintë¡œ í’ˆì§ˆ ë³´ì¦ â†’ GitOpsë¡œ ìƒíƒœ ë³´ì¦ â†’ FastAPI aliasë¡œ ì‹¤í—˜ ë³´ì¦â€\n2ï¸âƒ£ GitHub Actions â€“ Helm CI (Advanced Validation) ëª©í‘œ: PRì—ì„œ í˜•ì‹Â·ìŠ¤í‚¤ë§ˆÂ·ìŠ¤íƒ€ì¼ ë¬¸ì œë¥¼ ì™„ì „íˆ ê±¸ëŸ¬ë‚´ê¸°\nHelm Lint(strict): ê°’/í…œí”Œë¦¿ ì •í•©ì„± ê²€ì¦ kubeconform: ì¿ ë²„ë„¤í‹°ìŠ¤ ìŠ¤í‚¤ë§ˆ ê²€ì¦(ì£¼ìš” ì½”ì–´ ë¦¬ì†ŒìŠ¤; CRDë¥˜ëŠ” ìŠ¤í‚µ) yamllint: ì„œì‹/ì¸ë´íŠ¸/ë¶ˆí•„ìš” ê³µë°± ê²€ì‚¬ envÃ—chart ë§¤íŠ¸ë¦­ìŠ¤(dev/prod Ã— airflow/fastapi/mlflow) ë³‘ë ¬ ê²€ì¦ ğŸ“ ë ˆí¬ ê¸°ì¤€ charts//{Chart.yaml, templates/, values/{base.yaml,dev.yaml,prod.yaml}} envs/{dev,prod}/... apps/*.yaml (Application / AppProject / ApplicationSet ë“±) âš™ï¸ ì›Œí¬í”Œë¡œ .github/workflows/ci-helm-validate.yaml\nname: Helm CI on: pull_request: paths: - 'charts/**' - 'envs/**' - 'apps/**' - '.github/workflows/ci-helm-validate.yaml' types: [opened, synchronize, reopened, ready_for_review] workflow_dispatch: {} permissions: contents: read concurrency: group: helm-ci-${{ github.ref }} cancel-in-progress: true jobs: validate: name: Lint \u0026 Render \u0026 Validate (${{ matrix.env }}) runs-on: ubuntu-latest strategy: fail-fast: false matrix: env: [dev, prod] chart: [airflow, fastapi, mlflow] env: KUBE_VERSION: \"1.30.0\" SKIP_KINDS: \"Application,ApplicationSet,AppProject,SealedSecret,Certificate,CertificateRequest,Issuer,ClusterIssuer,Order,Challenge\" steps: - name: Checkout uses: actions/checkout@v4 - name: Install Helm (match local) uses: azure/setup-helm@v4 with: version: v3.18.3 - name: Install tools (yamllint, kubeconform) shell: bash run: | set -euo pipefail sudo apt-get update -y sudo apt-get install -y yamllint curl -sSL -o kubeconform.tar.gz https://github.com/yannh/kubeconform/releases/download/v0.6.7/kubeconform-linux-amd64.tar.gz sudo tar -C /usr/local/bin -xzf kubeconform.tar.gz kubeconform kubeconform -v - name: YAML style check (repo-wide) shell: bash run: | set -euo pipefail git ls-files -z '*.yml' '*.yaml' \\ ':!:charts/**/templates/**' \\ ':!:charts/**/charts/**' \\ ':!:envs/**/sealed-secrets/**' \\ ':!:bootstrap/notifications/secret-sealed.yaml' \\ | xargs -0 -r yamllint -s - name: Helm lint (strict) working-directory: charts/${{ matrix.chart }} shell: bash run: | set -euo pipefail if [[ -f values/base.yaml \u0026\u0026 -f values/${{ matrix.env }}.yaml ]]; then helm lint . -f values/base.yaml -f values/${{ matrix.env }}.yaml --strict elif [[ -f values/${{ matrix.env }}.yaml ]]; then helm lint . -f values/${{ matrix.env }}.yaml --strict else helm lint . --strict fi - name: Render manifests with helm template id: render shell: bash run: | set -euo pipefail mkdir -p /tmp/rendered CHART=\"charts/${{ matrix.chart }}\" OUT=\"/tmp/rendered/${{ matrix.chart }}-${{ matrix.env }}.yaml\" NS=\"${{ matrix.chart }}-${{ matrix.env }}\" if [[ -f \"$CHART/values/base.yaml\" \u0026\u0026 -f \"$CHART/values/${{ matrix.env }}.yaml\" ]]; then helm template ${{ matrix.chart }} \"$CHART\" -n \"$NS\" \\ -f \"$CHART/values/base.yaml\" -f \"$CHART/values/${{ matrix.env }}.yaml\" \u003e \"$OUT\" elif [[ -f \"$CHART/values/${{ matrix.env }}.yaml\" ]]; then helm template ${{ matrix.chart }} \"$CHART\" -n \"$NS\" \\ -f \"$CHART/values/${{ matrix.env }}.yaml\" \u003e \"$OUT\" else helm template ${{ matrix.chart }} \"$CHART\" -n \"$NS\" \u003e \"$OUT\" fi echo \"out=$OUT\" \u003e\u003e \"$GITHUB_OUTPUT\" test -s \"$OUT\" - name: kubeconform (core K8s kinds only) shell: bash run: | set -euo pipefail kubeconform \\ -kubernetes-version \"${KUBE_VERSION}\" \\ -ignore-missing-schemas \\ -skip \"${SKIP_KINDS}\" \\ -summary \\ \"${{ steps.render.outputs.out }}\" - name: Validate env raw manifests (envs/${{ matrix.env }}) if: ${{ always() }} shell: bash run: | set -euo pipefail mapfile -t FILES \u003c \u003c(find \"envs/${{ matrix.env }}\" -type f -name '*.yaml' ! -path \"*/sealed-secrets/*\") if (( ${#FILES[@]} )); then echo \"Validating ${#FILES[@]} files under envs/${{ matrix.env }}\" yamllint -s \"${FILES[@]}\" kubeconform -kubernetes-version \"${KUBE_VERSION}\" \\ -ignore-missing-schemas -skip \"${SKIP_KINDS}\" -summary \"${FILES[@]}\" else echo \"No env files found under envs/${{ matrix.env }}\" fi - name: Validate apps/ (Argo CD objects etc.) if: ${{ always() }} shell: bash run: | set -euo pipefail shopt -s nullglob FILES=(apps/*.yaml) if (( ${#FILES[@]} )); then echo \"Validating ${#FILES[@]} files under apps/\" yamllint -s \"${FILES[@]}\" kubeconform -kubernetes-version \"${KUBE_VERSION}\" \\ -ignore-missing-schemas -skip \"${SKIP_KINDS}\" -summary \"${FILES[@]}\" else echo \"No files under apps/\" fi - name: Upload rendered manifests if: ${{ always() }} uses: actions/upload-artifact@v4 with: name: rendered-${{ matrix.chart }}-${{ matrix.env }} path: /tmp/rendered/${{ matrix.chart }}-${{ matrix.env }}.yaml if-no-files-found: warn í•µì‹¬ ë³€ê²½ ì‚¬í•­: kubeconform/yamllintê°€ envs/*ì™€ apps/*ë¥¼ ê²€ì‚¬í•˜ë„ë¡ ë¶„ë¦¬.\ní—¬ë¦„ ì°¨íŠ¸ íŒŒì¼ì€ charts/ ë‚´ë¶€ íŒŒì¼ë¡œ dev/prod ë³‘ë ¬ ê²€ì¦.\n3ï¸âƒ£ GitOps CD â€“ ArgoCD Auto Sync \u0026 SelfHeal apps/appset-env-matrix.yaml(ë˜ëŠ” ë™ë“±í•œ AppSet) ê¸°ë°˜ìœ¼ë¡œ dev/prod Ã— ì•± ìë™ ìƒì„± automated.prune: true + selfHeal: true ìœ ì§€ â†’ ë“œë¦¬í”„íŠ¸ ìë™ ë³µêµ¬ # í•„ìš” ì‹œ ìˆ˜ë™ íŠ¸ë¦¬ê±°/ì ê²€ argocd app sync dev-fastapi --prune --grpc-web argocd app get dev-fastapi argocd app diff dev-fastapi ì—­í•  ë¶„ë¦¬: CIëŠ” â€œë¬¸ì œ ì°¨ë‹¨â€, ArgoCDëŠ” â€œì›í•˜ëŠ” ìƒíƒœ ë³´ì¥â€.\n4ï¸âƒ£ FastAPI ë¼ìš°íŒ…(ê³µí†µ ì‹¤í—˜ ë¡œì§) # app/services/alias_selector.py (ìš”ì§€) if settings.alias_selection_mode == \"ab_test\": return \"A\" if hashed % 100 \u003c 90 else \"B\" elif settings.alias_selection_mode == \"canary\": return \"B\" if hashed % 100 \u003c settings.canary_percent else \"A\" elif settings.alias_selection_mode == \"blue_green\": return settings.default_alias alias ê¸°ë°˜ì´ë¼ ëª¨ë¸ êµì²´ëŠ” MLflow/alias ë³€ê²½ + /reloadë¡œ ì¼ì›í™”\nì‹¤í—˜ ì •ì±…ì€ í™˜ê²½ë³€ìˆ˜ë¡œë§Œ ì œì–´ â†’ ë°°í¬ ì—†ì´ ì¦‰ì‹œ ì „í™˜ ê°€ëŠ¥\n5ï¸âƒ£ A/BÂ·CanaryÂ·Blue-Green í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ /ops/rotate/ ë˜ëŠ” /ops/ì— ë‘ê³  ì“°ë©´ ì¢‹ì•„.\n#!/bin/bash # ab_test.sh â€” A/B/Canary/Blue-Green ë¶„í¬ ê²€ì¦ # ì‚¬ìš©: ./ab_test.sh [N] (ê¸°ë³¸ N=200) set -euo pipefail N=${1:-200} URL=${FASTAPI_URL:-\"https://fastapi.local\"} PAYLOAD='{\"data\": [[5.1, 3.5, 1.4, 0.2]]}' echo \"ğŸ” A/BÂ·CanaryÂ·Blue-Green ë¶„í¬ í™•ì¸ (${N}ê±´)\" : \u003e ab_test_result.log for i in $(seq 1 $N); do id=\"client_$i\" variant=$(curl -sk \"${URL}/predict\" \\ -H \"Content-Type: application/json\" \\ -H \"x-client-id: ${id}\" \\ -d \"${PAYLOAD}\" | jq -r '.variant') echo \"$id â†’ $variant\" | tee -a ab_test_result.log \u003e/dev/null done count_B=$(grep -c \"â†’ B\" ab_test_result.log || true) count_A=$((N - count_B)) ratio=$((count_B * 100 / N)) echo \"ğŸ“Š ê²°ê³¼: A=${count_A}, B=${count_B} (B=${ratio}%)\" ê²€ì¦ í¬ì¸íŠ¸: Canary ë¹„ìœ¨, A/B 90:10, Blue-Green 100% ì „í™˜ì´ ì‹¤ìš”ì²­ ë¶„í¬ë¡œ í™•ì¸ë¼ì•¼ í•©ê²©.\n6ï¸âƒ£ ì‹¤í—˜ ì‹œë‚˜ë¦¬ì˜¤ ë§¤í•‘ í‘œ ìœ í˜• env ë³€ìˆ˜ ê¸°ëŒ€ ê²°ê³¼ A/B ALIAS_SELECTION_MODE=ab_test A/B â‰ˆ 90:10 Canary ALIAS_SELECTION_MODE=canary, CANARY_PERCENT=30 B â‰ˆ 30% Blue-Green ALIAS_SELECTION_MODE=blue_green, DEFAULT_ALIAS=B B = 100% MLflowì˜ alias ì¬ë°”ì¸ë”© + FastAPI /variant/{alias}/reloadë¡œ ì‹¤ë¬¼ ëª¨ë¸ì´ ì „í™˜ë¨.\n7ï¸âƒ£ Slack í†µí•©(ëë‹¨ê¹Œì§€ ê°€ì‹œí™”) êµ¬ê°„ ë©”ì‹œì§€ ì˜ˆì‹œ ë¹„ê³  CI âœ… Helm Lint Passed / âŒ Lint Failed GitHub Actions â†’ Webhook CD ğŸ”„ Sync ì‹œì‘ / âœ… Sync ì™„ë£Œ 7ë‹¨ê³„ì˜ ArgoCD Notifications ì¬ì‚¬ìš© Test ğŸ“Š A/B ë¶„í¬ 48:52 (N=200) ìŠ¤í¬ë¦½íŠ¸/íŒŒì´í”„ë¼ì¸ì—ì„œ ì „ì†¡ Webhookì€ envs/*/sealed-secrets/*ë¡œ í™˜ê²½ë³„ ê´€ë¦¬(dev/prod ì±„ë„ ë¶„ë¦¬).\n8ï¸âƒ£ ì²´í¬ë¦¬ìŠ¤íŠ¸ CI: Helm Lint + kubeconform + yamllint ëª¨ë‘ í†µê³¼ AppSet: values/dev.yaml Â· prod.yaml ì •í™•íˆ ì°¸ì¡° ArgoCD: SelfHeal + Prune í™œì„±í™” FastAPI: /predict ë¶„ë°° ê²°ê³¼ê°€ ì •ì±…ê³¼ ì¼ì¹˜ Slack: CI/CD/Test ì•Œë¦¼ì´ ì ì‹œì— ë„ì°© Canary ë¹„ìœ¨/Blue-Green ì „í™˜ ì‹œ ì‹¤ìœ ì € ë¶„í¬ë„ ì •ìƒ Secret íšŒì „ í›„ Auto Sync ë°˜ì˜ í™•ì¸ ğŸ§© íŒ ì¦ìƒ ì›ì¸ í•´ê²° CI í†µê³¼í–ˆëŠ”ë° ë°°í¬ ì‹¤íŒ¨ CRD ìŠ¤í‚¤ë§ˆ ë¯¸ê²€ì¦ ì˜ì—­ -ignore-missing-schemas ìœ ì§€ ì‹¤ì œ í´ëŸ¬ìŠ¤í„°ì—ì„œ Health ì²´í¬ | | OutOfSync ë°˜ë³µ | ì™¸ë¶€ì—ì„œ ìˆ˜ë™ ìˆ˜ì • | Git ë°˜ì˜ í›„ SelfHealë¡œ ë™ê¸°í™” | | Slack ëˆ„ë½ | Webhook Secret ëˆ„ë½/ì˜¤íƒ€ | SealedSecret í‚¤/ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ì¬í™•ì¸ | | Canary ë¶ˆê· í˜• | í•´ì‹œ ê¸°ì¤€/í—¤ë” ëˆ„ë½ | x-client-id ê³ ì •, ìƒ˜í”Œ ìˆ˜ ì¶©ë¶„íˆ í™•ë³´ | | Blue-Green ë¶ˆì „í™˜ | DEFAULT_ALIAS ë¯¸ì§€ì • | values/envì— ëª…ì‹œ \u0026 /reload í™•ì¸ | âœ… ìš”ì•½ ì˜ì—­ ìë™í™” ìˆ˜ì¤€ ìŠ¤íƒ CI ì •ì  ê²€ì¦/ì°¨ë‹¨ GitHub Actions, Helm, kubeconform, yamllint CD GitOps ë™ê¸°í™” ArgoCD, ApplicationSet ì‹¤í—˜ íŠ¸ë˜í”½ ë¶„ë¦¬ A/B, Canary, Blue-Green(í™˜ê²½ë³€ìˆ˜ ì œì–´) ê´€ì œ ì „êµ¬ê°„ í”¼ë“œë°± Slack Webhook/Notifications ë³µêµ¬ ìë™ ë³µì›/ë¡¤ë°± SelfHeal, ë¡¤ë°± DAG(3ë‹¨ê³„) ğŸ ì •ë¦¬ ì´ì œ íŒŒì´í”„ë¼ì¸ì€ í•˜ë‚˜ì˜ ì»¤ë°‹ìœ¼ë¡œ\nê²€ì¦ â†’ ë°°í¬ â†’ ì‹¤í—˜ â†’ ê´€ì œê¹Œì§€ ììœ¨ ì£¼í–‰í•©ë‹ˆë‹¤.\nëª¨ë¸ êµì²´ëŠ” MLflow aliasë¡œ í†µì¼ë˜ê³ , ëŸ°íƒ€ì„ ë°˜ì˜ì€ /reloadê°€ ì±…ì„ì§‘ë‹ˆë‹¤.\n","wordCount":"1201","inLanguage":"en","datePublished":"2025-09-15T17:10:21+09:00","dateModified":"2025-09-15T17:10:21+09:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://keonhoban.github.io/mlops-journey/posts/mlops-platform-gitops/09/"},"publisher":{"@type":"Organization","name":"ğŸ”ï¸  MLOps Journey","logo":{"@type":"ImageObject","url":"https://keonhoban.github.io/mlops-journey/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://keonhoban.github.io/mlops-journey/ accesskey=h title="ğŸ”ï¸  MLOps Journey (Alt + H)">ğŸ”ï¸ MLOps Journey</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://keonhoban.github.io/mlops-journey/ title="ğŸ  Home"><span>ğŸ  Home</span></a></li><li><a href=https://keonhoban.github.io/mlops-journey/projects/ title="ğŸ“‚ Projects"><span>ğŸ“‚ Projects</span></a></li><li><a href=https://keonhoban.github.io/mlops-journey/posts/ title="ğŸ“ Blog"><span>ğŸ“ Blog</span></a></li><li><a href=https://keonhoban.github.io/mlops-journey/about/ title="ğŸ§— About"><span>ğŸ§— About</span></a></li><li><a href=https://keonhoban.github.io/mlops-journey/categories/ title="ğŸ“– Categories"><span>ğŸ“– Categories</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://keonhoban.github.io/mlops-journey/>Home</a>&nbsp;Â»&nbsp;<a href=https://keonhoban.github.io/mlops-journey/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">[MLOps ìš´ì˜ ê³ ë„í™” - 8ë‹¨ê³„: CI/CD ìš´ì˜ ìë™í™” (GitHub ActionsÂ·Helm Lint)]</h1><div class=post-meta><span title='2025-09-15 17:10:21 +0900 +0900'>September 15, 2025</span>&nbsp;Â·&nbsp;6 min</div></header><div class=post-content><h2 id=cicd--ìš´ì˜-ìë™í™”-github-actions--helm-lint--canary-í…ŒìŠ¤íŠ¸>CI/CD & ìš´ì˜ ìë™í™”: GitHub Actions Â· Helm Lint Â· Canary í…ŒìŠ¤íŠ¸<a hidden class=anchor aria-hidden=true href=#cicd--ìš´ì˜-ìë™í™”-github-actions--helm-lint--canary-í…ŒìŠ¤íŠ¸>#</a></h2><hr><h2 id=-ì‹œë‚˜ë¦¬ì˜¤-ì„¤ëª…>ğŸ§  ì‹œë‚˜ë¦¬ì˜¤ ì„¤ëª…<a hidden class=anchor aria-hidden=true href=#-ì‹œë‚˜ë¦¬ì˜¤-ì„¤ëª…>#</a></h2><blockquote><p>â€œìš´ì˜ í™˜ê²½ì—ì„œ ì‚¬ê³ ëŠ” ëŒ€ë¶€ë¶„ <strong>ë°°í¬ ì „ì— ì²´í¬ë˜ì§€ ëª»í•œ ë¬¸ì œ</strong>,</p><p><strong>ìˆ˜ë™ ë°°í¬ì˜ ì‹¤ìˆ˜</strong>, <strong>ë°°í¬ í›„ ê²€ì¦ ë¶€ì¬</strong>ì—ì„œ ì‹œì‘ë©ë‹ˆë‹¤.â€</p><p>â€œê·¸ë˜ì„œ ì´ë²ˆ ë‹¨ê³„ì—ì„œëŠ” ì•„ì˜ˆ CI ë‹¨ê³„ì—ì„œ ë¬¸ì œë¥¼ ë§‰ê³ ,</p><p>CDì—ì„œëŠ” GitOpsê°€ ì›í•˜ëŠ” ìƒíƒœë¥¼ ìë™ìœ¼ë¡œ ë³´ì¥í•˜ë©°,</p><p>ë°°í¬ ì§í›„ FastAPI aliasë¡œ <strong>ëª¨ë¸ íŠ¸ë˜í”½ê¹Œì§€ ìë™ ê²€ì¦ë˜ëŠ” êµ¬ì¡°</strong>ë¥¼ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.â€</p><p>â€œì´ ë‹¨ê³„ê°€ ì™„ì„±ë˜ë©´ í•˜ë‚˜ì˜ ì»¤ë°‹ì´</p><p><strong>ê²€ì¦ â†’ ë°°í¬ â†’ ì‹¤í—˜ â†’ ì•Œë¦¼</strong>ê¹Œì§€ ìŠ¤ìŠ¤ë¡œ íë¥´ëŠ”</p><p>ìš´ì˜í˜• MLOpsì˜ í•µì‹¬ ìë™í™” ë£¨í”„ê°€ ì™„ì„±ë©ë‹ˆë‹¤.â€</p></blockquote><hr><h2 id=-í•µì‹¬-ìš”ì•½>ğŸ¯ í•µì‹¬ ìš”ì•½<a hidden class=anchor aria-hidden=true href=#-í•µì‹¬-ìš”ì•½>#</a></h2><ul><li><strong>Helm Lint(strict) + kubeconform + yamllint</strong>ë¡œ PR ë‹¨ê³„ì—ì„œ ì˜¤ë¥˜/ì˜¤íƒˆì ì°¨ë‹¨</li><li>*GitHub Actions â†’ ArgoCD(ApplicationSet)**ë¡œ <strong>GitOps ë°°í¬ ìë™í™”</strong></li><li><strong>A/B Â· Canary Â· Blue-Green</strong>ì„ <strong>FastAPI alias</strong> ê¸°ë°˜ìœ¼ë¡œ <strong>ë°°í¬</strong> (ì½”ë“œ ìˆ˜ì • ì—†ì´ ì‹¤í—˜ ì „í™˜)</li><li><strong>Slack ì—°ë™</strong>ìœ¼ë¡œ CI â†’ CD â†’ ì‹¤í—˜ ê²°ê³¼ê¹Œì§€ <strong>ì—”ë“œíˆ¬ì—”ë“œ ëª¨ë‹ˆí„°ë§</strong></li><li><strong>â€œPR â†’ Merge â†’ Auto Deploy â†’ íŠ¸ë˜í”½ ì‹¤í—˜â€</strong> ì™„ì „ ìë™ ì‚¬ì´í´ ğŸš€</li></ul><hr><h2 id=1-ì „ì²´-êµ¬ì¡°-ìš”ì•½>1ï¸âƒ£ ì „ì²´ êµ¬ì¡° ìš”ì•½<a hidden class=anchor aria-hidden=true href=#1-ì „ì²´-êµ¬ì¡°-ìš”ì•½>#</a></h2><p><img alt=mermaid-08.png loading=lazy src=/mlops-journey/images/mermaid-08.png></p><blockquote><p>ì˜ë„: â€œLintë¡œ í’ˆì§ˆ ë³´ì¦ â†’ GitOpsë¡œ ìƒíƒœ ë³´ì¦ â†’ FastAPI aliasë¡œ ì‹¤í—˜ ë³´ì¦â€</p></blockquote><hr><h2 id=2-github-actions--helm-ci-advanced-validation>2ï¸âƒ£ GitHub Actions â€“ Helm CI (Advanced Validation)<a hidden class=anchor aria-hidden=true href=#2-github-actions--helm-ci-advanced-validation>#</a></h2><p><strong>ëª©í‘œ</strong>: PRì—ì„œ <strong>í˜•ì‹Â·ìŠ¤í‚¤ë§ˆÂ·ìŠ¤íƒ€ì¼</strong> ë¬¸ì œë¥¼ ì™„ì „íˆ ê±¸ëŸ¬ë‚´ê¸°</p><ul><li><strong>Helm Lint(strict)</strong>: ê°’/í…œí”Œë¦¿ ì •í•©ì„± ê²€ì¦</li><li><strong>kubeconform</strong>: ì¿ ë²„ë„¤í‹°ìŠ¤ ìŠ¤í‚¤ë§ˆ ê²€ì¦(ì£¼ìš” ì½”ì–´ ë¦¬ì†ŒìŠ¤; CRDë¥˜ëŠ” ìŠ¤í‚µ)</li><li><strong>yamllint</strong>: ì„œì‹/ì¸ë´íŠ¸/ë¶ˆí•„ìš” ê³µë°± ê²€ì‚¬</li><li><strong>envÃ—chart ë§¤íŠ¸ë¦­ìŠ¤</strong>(dev/prod Ã— airflow/fastapi/mlflow) <strong>ë³‘ë ¬ ê²€ì¦</strong></li></ul><h3 id=-ë ˆí¬-ê¸°ì¤€>ğŸ“ ë ˆí¬ ê¸°ì¤€<a hidden class=anchor aria-hidden=true href=#-ë ˆí¬-ê¸°ì¤€>#</a></h3><pre tabindex=0><code>charts/&lt;chart&gt;/{Chart.yaml, templates/, values/{base.yaml,dev.yaml,prod.yaml}}
envs/{dev,prod}/...
apps/*.yaml  (Application / AppProject / ApplicationSet ë“±)
</code></pre><h3 id=-ì›Œí¬í”Œë¡œ>âš™ï¸ ì›Œí¬í”Œë¡œ<a hidden class=anchor aria-hidden=true href=#-ì›Œí¬í”Œë¡œ>#</a></h3><p><code>.github/workflows/ci-helm-validate.yaml</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>name</span>: <span style=color:#ae81ff>Helm CI</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>on</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>pull_request</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>paths</span>:
</span></span><span style=display:flex><span>      - <span style=color:#e6db74>&#39;charts/**&#39;</span>
</span></span><span style=display:flex><span>      - <span style=color:#e6db74>&#39;envs/**&#39;</span>
</span></span><span style=display:flex><span>      - <span style=color:#e6db74>&#39;apps/**&#39;</span>
</span></span><span style=display:flex><span>      - <span style=color:#e6db74>&#39;.github/workflows/ci-helm-validate.yaml&#39;</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>types</span>: [<span style=color:#ae81ff>opened, synchronize, reopened, ready_for_review]</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>workflow_dispatch</span>: {}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>permissions</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>contents</span>: <span style=color:#ae81ff>read</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>concurrency</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>group</span>: <span style=color:#ae81ff>helm-ci-${{ github.ref }}</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>cancel-in-progress</span>: <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>jobs</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>validate</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Lint &amp; Render &amp; Validate (${{ matrix.env }})</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>runs-on</span>: <span style=color:#ae81ff>ubuntu-latest</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>strategy</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>fail-fast</span>: <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>matrix</span>:
</span></span><span style=display:flex><span>        <span style=color:#f92672>env</span>: [<span style=color:#ae81ff>dev, prod]</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>chart</span>: [<span style=color:#ae81ff>airflow, fastapi, mlflow]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>env</span>:
</span></span><span style=display:flex><span>      <span style=color:#f92672>KUBE_VERSION</span>: <span style=color:#e6db74>&#34;1.30.0&#34;</span>
</span></span><span style=display:flex><span>      <span style=color:#f92672>SKIP_KINDS</span>: <span style=color:#e6db74>&#34;Application,ApplicationSet,AppProject,SealedSecret,Certificate,CertificateRequest,Issuer,ClusterIssuer,Order,Challenge&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>steps</span>:
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Checkout</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>actions/checkout@v4</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Install Helm (match local)</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>azure/setup-helm@v4</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>with</span>:
</span></span><span style=display:flex><span>          <span style=color:#f92672>version</span>: <span style=color:#ae81ff>v3.18.3</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Install tools (yamllint, kubeconform)</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>shell</span>: <span style=color:#ae81ff>bash</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>run</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          set -euo pipefail
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          sudo apt-get update -y
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          sudo apt-get install -y yamllint
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          curl -sSL -o kubeconform.tar.gz https://github.com/yannh/kubeconform/releases/download/v0.6.7/kubeconform-linux-amd64.tar.gz
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          sudo tar -C /usr/local/bin -xzf kubeconform.tar.gz kubeconform
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          kubeconform -v</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>YAML style check (repo-wide)</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>shell</span>: <span style=color:#ae81ff>bash</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>run</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          set -euo pipefail
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          git ls-files -z &#39;*.yml&#39; &#39;*.yaml&#39; \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#39;:!:charts/**/templates/**&#39; \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#39;:!:charts/**/charts/**&#39; \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#39;:!:envs/**/sealed-secrets/**&#39; \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#39;:!:bootstrap/notifications/secret-sealed.yaml&#39; \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          | xargs -0 -r yamllint -s</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Helm lint (strict)</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>working-directory</span>: <span style=color:#ae81ff>charts/${{ matrix.chart }}</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>shell</span>: <span style=color:#ae81ff>bash</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>run</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          set -euo pipefail
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          if [[ -f values/base.yaml &amp;&amp; -f values/${{ matrix.env }}.yaml ]]; then
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            helm lint . -f values/base.yaml -f values/${{ matrix.env }}.yaml --strict
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          elif [[ -f values/${{ matrix.env }}.yaml ]]; then
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            helm lint . -f values/${{ matrix.env }}.yaml --strict
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          else
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            helm lint . --strict
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          fi</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Render manifests with helm template</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>id</span>: <span style=color:#ae81ff>render</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>shell</span>: <span style=color:#ae81ff>bash</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>run</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          set -euo pipefail
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          mkdir -p /tmp/rendered
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          CHART=&#34;charts/${{ matrix.chart }}&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          OUT=&#34;/tmp/rendered/${{ matrix.chart }}-${{ matrix.env }}.yaml&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          NS=&#34;${{ matrix.chart }}-${{ matrix.env }}&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          if [[ -f &#34;$CHART/values/base.yaml&#34; &amp;&amp; -f &#34;$CHART/values/${{ matrix.env }}.yaml&#34; ]]; then
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            helm template ${{ matrix.chart }} &#34;$CHART&#34; -n &#34;$NS&#34; \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>              -f &#34;$CHART/values/base.yaml&#34; -f &#34;$CHART/values/${{ matrix.env }}.yaml&#34; &gt; &#34;$OUT&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          elif [[ -f &#34;$CHART/values/${{ matrix.env }}.yaml&#34; ]]; then
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            helm template ${{ matrix.chart }} &#34;$CHART&#34; -n &#34;$NS&#34; \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>              -f &#34;$CHART/values/${{ matrix.env }}.yaml&#34; &gt; &#34;$OUT&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          else
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            helm template ${{ matrix.chart }} &#34;$CHART&#34; -n &#34;$NS&#34; &gt; &#34;$OUT&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          fi
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          echo &#34;out=$OUT&#34; &gt;&gt; &#34;$GITHUB_OUTPUT&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          test -s &#34;$OUT&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>kubeconform (core K8s kinds only)</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>shell</span>: <span style=color:#ae81ff>bash</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>run</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          set -euo pipefail
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          kubeconform \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            -kubernetes-version &#34;${KUBE_VERSION}&#34; \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            -ignore-missing-schemas \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            -skip &#34;${SKIP_KINDS}&#34; \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            -summary \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            &#34;${{ steps.render.outputs.out }}&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Validate env raw manifests (envs/${{ matrix.env }})</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>if</span>: <span style=color:#ae81ff>${{ always() }}</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>shell</span>: <span style=color:#ae81ff>bash</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>run</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          set -euo pipefail
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          mapfile -t FILES &lt; &lt;(find &#34;envs/${{ matrix.env }}&#34; -type f -name &#39;*.yaml&#39; ! -path &#34;*/sealed-secrets/*&#34;)
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          if (( ${#FILES[@]} )); then
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            echo &#34;Validating ${#FILES[@]} files under envs/${{ matrix.env }}&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            yamllint -s &#34;${FILES[@]}&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            kubeconform -kubernetes-version &#34;${KUBE_VERSION}&#34; \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>              -ignore-missing-schemas -skip &#34;${SKIP_KINDS}&#34; -summary &#34;${FILES[@]}&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          else
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            echo &#34;No env files found under envs/${{ matrix.env }}&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          fi</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Validate apps/ (Argo CD objects etc.)</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>if</span>: <span style=color:#ae81ff>${{ always() }}</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>shell</span>: <span style=color:#ae81ff>bash</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>run</span>: |<span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          set -euo pipefail
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          shopt -s nullglob
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          FILES=(apps/*.yaml)
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          if (( ${#FILES[@]} )); then
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            echo &#34;Validating ${#FILES[@]} files under apps/&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            yamllint -s &#34;${FILES[@]}&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            kubeconform -kubernetes-version &#34;${KUBE_VERSION}&#34; \
</span></span></span><span style=display:flex><span><span style=color:#e6db74>              -ignore-missing-schemas -skip &#34;${SKIP_KINDS}&#34; -summary &#34;${FILES[@]}&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          else
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            echo &#34;No files under apps/&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          fi</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>      - <span style=color:#f92672>name</span>: <span style=color:#ae81ff>Upload rendered manifests</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>if</span>: <span style=color:#ae81ff>${{ always() }}</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>uses</span>: <span style=color:#ae81ff>actions/upload-artifact@v4</span>
</span></span><span style=display:flex><span>        <span style=color:#f92672>with</span>:
</span></span><span style=display:flex><span>          <span style=color:#f92672>name</span>: <span style=color:#ae81ff>rendered-${{ matrix.chart }}-${{ matrix.env }}</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>path</span>: <span style=color:#ae81ff>/tmp/rendered/${{ matrix.chart }}-${{ matrix.env }}.yaml</span>
</span></span><span style=display:flex><span>          <span style=color:#f92672>if-no-files-found</span>: <span style=color:#ae81ff>warn</span>
</span></span></code></pre></div><blockquote><p>í•µì‹¬ ë³€ê²½ ì‚¬í•­: kubeconform/yamllintê°€ envs/*ì™€ apps/*ë¥¼ ê²€ì‚¬í•˜ë„ë¡ ë¶„ë¦¬.</p><p>í—¬ë¦„ ì°¨íŠ¸ íŒŒì¼ì€ <code>charts/</code> ë‚´ë¶€ íŒŒì¼ë¡œ <strong>dev/prod ë³‘ë ¬</strong> ê²€ì¦.</p></blockquote><hr><h2 id=3-gitops-cd--argocd-auto-sync--selfheal>3ï¸âƒ£ GitOps CD â€“ ArgoCD Auto Sync & SelfHeal<a hidden class=anchor aria-hidden=true href=#3-gitops-cd--argocd-auto-sync--selfheal>#</a></h2><ul><li><code>apps/appset-env-matrix.yaml</code>(ë˜ëŠ” ë™ë“±í•œ AppSet) ê¸°ë°˜ìœ¼ë¡œ <strong>dev/prod Ã— ì•±</strong> ìë™ ìƒì„±</li><li><code>automated.prune: true</code> + <code>selfHeal: true</code> ìœ ì§€ â†’ <strong>ë“œë¦¬í”„íŠ¸ ìë™ ë³µêµ¬</strong></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># í•„ìš” ì‹œ ìˆ˜ë™ íŠ¸ë¦¬ê±°/ì ê²€</span>
</span></span><span style=display:flex><span>argocd app sync dev-fastapi --prune --grpc-web
</span></span><span style=display:flex><span>argocd app get  dev-fastapi
</span></span><span style=display:flex><span>argocd app diff dev-fastapi
</span></span></code></pre></div><blockquote><p>ì—­í•  ë¶„ë¦¬: CIëŠ” â€œë¬¸ì œ ì°¨ë‹¨â€, ArgoCDëŠ” â€œì›í•˜ëŠ” ìƒíƒœ ë³´ì¥â€.</p></blockquote><hr><h2 id=4-fastapi-ë¼ìš°íŒ…ê³µí†µ-ì‹¤í—˜-ë¡œì§>4ï¸âƒ£ FastAPI ë¼ìš°íŒ…(ê³µí†µ ì‹¤í—˜ ë¡œì§)<a hidden class=anchor aria-hidden=true href=#4-fastapi-ë¼ìš°íŒ…ê³µí†µ-ì‹¤í—˜-ë¡œì§>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># app/services/alias_selector.py (ìš”ì§€)</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> settings<span style=color:#f92672>.</span>alias_selection_mode <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;ab_test&#34;</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;A&#34;</span> <span style=color:#66d9ef>if</span> hashed <span style=color:#f92672>%</span> <span style=color:#ae81ff>100</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>90</span> <span style=color:#66d9ef>else</span> <span style=color:#e6db74>&#34;B&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>elif</span> settings<span style=color:#f92672>.</span>alias_selection_mode <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;canary&#34;</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;B&#34;</span> <span style=color:#66d9ef>if</span> hashed <span style=color:#f92672>%</span> <span style=color:#ae81ff>100</span> <span style=color:#f92672>&lt;</span> settings<span style=color:#f92672>.</span>canary_percent <span style=color:#66d9ef>else</span> <span style=color:#e6db74>&#34;A&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>elif</span> settings<span style=color:#f92672>.</span>alias_selection_mode <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;blue_green&#34;</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> settings<span style=color:#f92672>.</span>default_alias
</span></span></code></pre></div><blockquote><p>alias ê¸°ë°˜ì´ë¼ ëª¨ë¸ êµì²´ëŠ” MLflow/alias ë³€ê²½ + /reloadë¡œ ì¼ì›í™”</p><p>ì‹¤í—˜ ì •ì±…ì€ <strong>í™˜ê²½ë³€ìˆ˜</strong>ë¡œë§Œ ì œì–´ â†’ ë°°í¬ ì—†ì´ ì¦‰ì‹œ ì „í™˜ ê°€ëŠ¥</p></blockquote><hr><h2 id=5-abcanaryblue-green-í…ŒìŠ¤íŠ¸-ìŠ¤í¬ë¦½íŠ¸>5ï¸âƒ£ A/BÂ·CanaryÂ·Blue-Green í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸<a hidden class=anchor aria-hidden=true href=#5-abcanaryblue-green-í…ŒìŠ¤íŠ¸-ìŠ¤í¬ë¦½íŠ¸>#</a></h2><p><code>/ops/rotate/</code> ë˜ëŠ” <code>/ops/</code>ì— ë‘ê³  ì“°ë©´ ì¢‹ì•„.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e>#!/bin/bash
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#75715e># ab_test.sh â€” A/B/Canary/Blue-Green ë¶„í¬ ê²€ì¦</span>
</span></span><span style=display:flex><span><span style=color:#75715e># ì‚¬ìš©: ./ab_test.sh [N]  (ê¸°ë³¸ N=200)</span>
</span></span><span style=display:flex><span>set -euo pipefail
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>N<span style=color:#f92672>=</span><span style=color:#e6db74>${</span>1<span style=color:#66d9ef>:-</span>200<span style=color:#e6db74>}</span>
</span></span><span style=display:flex><span>URL<span style=color:#f92672>=</span><span style=color:#e6db74>${</span>FASTAPI_URL<span style=color:#66d9ef>:-</span><span style=color:#e6db74>&#34;https://fastapi.local&#34;</span><span style=color:#e6db74>}</span>
</span></span><span style=display:flex><span>PAYLOAD<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;{&#34;data&#34;: [[5.1, 3.5, 1.4, 0.2]]}&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#34;ğŸ” A/BÂ·CanaryÂ·Blue-Green ë¶„í¬ í™•ì¸ (</span><span style=color:#e6db74>${</span>N<span style=color:#e6db74>}</span><span style=color:#e6db74>ê±´)&#34;</span>
</span></span><span style=display:flex><span>: &gt; ab_test_result.log
</span></span><span style=display:flex><span><span style=color:#66d9ef>for</span> i in <span style=color:#66d9ef>$(</span>seq <span style=color:#ae81ff>1</span> $N<span style=color:#66d9ef>)</span>; <span style=color:#66d9ef>do</span>
</span></span><span style=display:flex><span>  id<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;client_</span>$i<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>  variant<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>curl -sk <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>URL<span style=color:#e6db74>}</span><span style=color:#e6db74>/predict&#34;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    -H <span style=color:#e6db74>&#34;Content-Type: application/json&#34;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    -H <span style=color:#e6db74>&#34;x-client-id: </span><span style=color:#e6db74>${</span>id<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>    -d <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>PAYLOAD<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span> | jq -r <span style=color:#e6db74>&#39;.variant&#39;</span><span style=color:#66d9ef>)</span>
</span></span><span style=display:flex><span>  echo <span style=color:#e6db74>&#34;</span>$id<span style=color:#e6db74> â†’ </span>$variant<span style=color:#e6db74>&#34;</span> | tee -a ab_test_result.log &gt;/dev/null
</span></span><span style=display:flex><span><span style=color:#66d9ef>done</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>count_B<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>grep -c <span style=color:#e6db74>&#34;â†’ B&#34;</span> ab_test_result.log <span style=color:#f92672>||</span> true<span style=color:#66d9ef>)</span>
</span></span><span style=display:flex><span>count_A<span style=color:#f92672>=</span><span style=color:#66d9ef>$((</span>N <span style=color:#f92672>-</span> count_B<span style=color:#66d9ef>))</span>
</span></span><span style=display:flex><span>ratio<span style=color:#f92672>=</span><span style=color:#66d9ef>$((</span>count_B <span style=color:#f92672>*</span> <span style=color:#ae81ff>100</span> <span style=color:#f92672>/</span> N<span style=color:#66d9ef>))</span>
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#34;ğŸ“Š ê²°ê³¼: A=</span><span style=color:#e6db74>${</span>count_A<span style=color:#e6db74>}</span><span style=color:#e6db74>, B=</span><span style=color:#e6db74>${</span>count_B<span style=color:#e6db74>}</span><span style=color:#e6db74> (B=</span><span style=color:#e6db74>${</span>ratio<span style=color:#e6db74>}</span><span style=color:#e6db74>%)&#34;</span>
</span></span></code></pre></div><blockquote><p>ê²€ì¦ í¬ì¸íŠ¸: Canary ë¹„ìœ¨, A/B 90:10, Blue-Green 100% ì „í™˜ì´ ì‹¤ìš”ì²­ ë¶„í¬ë¡œ í™•ì¸ë¼ì•¼ í•©ê²©.</p></blockquote><hr><h2 id=6-ì‹¤í—˜-ì‹œë‚˜ë¦¬ì˜¤-ë§¤í•‘-í‘œ>6ï¸âƒ£ ì‹¤í—˜ ì‹œë‚˜ë¦¬ì˜¤ ë§¤í•‘ í‘œ<a hidden class=anchor aria-hidden=true href=#6-ì‹¤í—˜-ì‹œë‚˜ë¦¬ì˜¤-ë§¤í•‘-í‘œ>#</a></h2><table><thead><tr><th>ìœ í˜•</th><th>env ë³€ìˆ˜</th><th>ê¸°ëŒ€ ê²°ê³¼</th></tr></thead><tbody><tr><td><strong>A/B</strong></td><td><code>ALIAS_SELECTION_MODE=ab_test</code></td><td>A/B â‰ˆ 90:10</td></tr><tr><td><strong>Canary</strong></td><td><code>ALIAS_SELECTION_MODE=canary</code>, <code>CANARY_PERCENT=30</code></td><td>B â‰ˆ 30%</td></tr><tr><td><strong>Blue-Green</strong></td><td><code>ALIAS_SELECTION_MODE=blue_green</code>, <code>DEFAULT_ALIAS=B</code></td><td>B = 100%</td></tr></tbody></table><blockquote><p>MLflowì˜ alias ì¬ë°”ì¸ë”© + FastAPI /variant/{alias}/reloadë¡œ ì‹¤ë¬¼ ëª¨ë¸ì´ ì „í™˜ë¨.</p></blockquote><hr><h2 id=7-slack-í†µí•©ëë‹¨ê¹Œì§€-ê°€ì‹œí™”>7ï¸âƒ£ Slack í†µí•©(ëë‹¨ê¹Œì§€ ê°€ì‹œí™”)<a hidden class=anchor aria-hidden=true href=#7-slack-í†µí•©ëë‹¨ê¹Œì§€-ê°€ì‹œí™”>#</a></h2><table><thead><tr><th>êµ¬ê°„</th><th>ë©”ì‹œì§€ ì˜ˆì‹œ</th><th>ë¹„ê³ </th></tr></thead><tbody><tr><td><strong>CI</strong></td><td>âœ… Helm Lint Passed / âŒ Lint Failed</td><td>GitHub Actions â†’ Webhook</td></tr><tr><td><strong>CD</strong></td><td>ğŸ”„ Sync ì‹œì‘ / âœ… Sync ì™„ë£Œ</td><td>7ë‹¨ê³„ì˜ <em>ArgoCD Notifications</em> ì¬ì‚¬ìš©</td></tr><tr><td><strong>Test</strong></td><td>ğŸ“Š A/B ë¶„í¬ 48:52 (N=200)</td><td>ìŠ¤í¬ë¦½íŠ¸/íŒŒì´í”„ë¼ì¸ì—ì„œ ì „ì†¡</td></tr></tbody></table><blockquote><p>Webhookì€ envs/*/sealed-secrets/*ë¡œ í™˜ê²½ë³„ ê´€ë¦¬(dev/prod ì±„ë„ ë¶„ë¦¬).</p></blockquote><hr><h2 id=8-ì²´í¬ë¦¬ìŠ¤íŠ¸>8ï¸âƒ£ ì²´í¬ë¦¬ìŠ¤íŠ¸<a hidden class=anchor aria-hidden=true href=#8-ì²´í¬ë¦¬ìŠ¤íŠ¸>#</a></h2><ul><li><input disabled type=checkbox> CI: <strong>Helm Lint + kubeconform + yamllint</strong> ëª¨ë‘ í†µê³¼</li><li><input disabled type=checkbox> AppSet: <strong>values/dev.yaml Â· prod.yaml</strong> ì •í™•íˆ ì°¸ì¡°</li><li><input disabled type=checkbox> ArgoCD: <strong>SelfHeal + Prune</strong> í™œì„±í™”</li><li><input disabled type=checkbox> FastAPI: <code>/predict</code> ë¶„ë°° ê²°ê³¼ê°€ <strong>ì •ì±…ê³¼ ì¼ì¹˜</strong></li><li><input disabled type=checkbox> Slack: CI/CD/Test ì•Œë¦¼ì´ <strong>ì ì‹œì— ë„ì°©</strong></li><li><input disabled type=checkbox> Canary ë¹„ìœ¨/Blue-Green ì „í™˜ ì‹œ <strong>ì‹¤ìœ ì € ë¶„í¬</strong>ë„ ì •ìƒ</li><li><input disabled type=checkbox> Secret íšŒì „ í›„ <strong>Auto Sync ë°˜ì˜</strong> í™•ì¸</li></ul><hr><h2 id=-íŒ>ğŸ§© íŒ<a hidden class=anchor aria-hidden=true href=#-íŒ>#</a></h2><table><thead><tr><th>ì¦ìƒ</th><th>ì›ì¸</th><th>í•´ê²°</th></tr></thead><tbody><tr><td>CI í†µê³¼í–ˆëŠ”ë° ë°°í¬ ì‹¤íŒ¨</td><td>CRD ìŠ¤í‚¤ë§ˆ ë¯¸ê²€ì¦ ì˜ì—­</td><td><code>-ignore-missing-schemas</code> ìœ ì§€</td></tr></tbody></table><ul><li>ì‹¤ì œ í´ëŸ¬ìŠ¤í„°ì—ì„œ Health ì²´í¬ |
| OutOfSync ë°˜ë³µ | ì™¸ë¶€ì—ì„œ ìˆ˜ë™ ìˆ˜ì • | Git ë°˜ì˜ í›„ <strong>SelfHeal</strong>ë¡œ ë™ê¸°í™” |
| Slack ëˆ„ë½ | Webhook Secret ëˆ„ë½/ì˜¤íƒ€ | SealedSecret í‚¤/ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ì¬í™•ì¸ |
| Canary ë¶ˆê· í˜• | í•´ì‹œ ê¸°ì¤€/í—¤ë” ëˆ„ë½ | <code>x-client-id</code> ê³ ì •, ìƒ˜í”Œ ìˆ˜ ì¶©ë¶„íˆ í™•ë³´ |
| Blue-Green ë¶ˆì „í™˜ | DEFAULT_ALIAS ë¯¸ì§€ì • | values/envì— ëª…ì‹œ & <code>/reload</code> í™•ì¸ |</li></ul><hr><h2 id=-ìš”ì•½>âœ… ìš”ì•½<a hidden class=anchor aria-hidden=true href=#-ìš”ì•½>#</a></h2><table><thead><tr><th>ì˜ì—­</th><th>ìë™í™” ìˆ˜ì¤€</th><th>ìŠ¤íƒ</th></tr></thead><tbody><tr><td><strong>CI</strong></td><td>ì •ì  ê²€ì¦/ì°¨ë‹¨</td><td>GitHub Actions, Helm, kubeconform, yamllint</td></tr><tr><td><strong>CD</strong></td><td>GitOps ë™ê¸°í™”</td><td>ArgoCD, ApplicationSet</td></tr><tr><td><strong>ì‹¤í—˜</strong></td><td>íŠ¸ë˜í”½ ë¶„ë¦¬</td><td>A/B, Canary, Blue-Green(í™˜ê²½ë³€ìˆ˜ ì œì–´)</td></tr><tr><td><strong>ê´€ì œ</strong></td><td>ì „êµ¬ê°„ í”¼ë“œë°±</td><td>Slack Webhook/Notifications</td></tr><tr><td><strong>ë³µêµ¬</strong></td><td>ìë™ ë³µì›/ë¡¤ë°±</td><td>SelfHeal, ë¡¤ë°± DAG(3ë‹¨ê³„)</td></tr></tbody></table><hr><h2 id=-ì •ë¦¬>ğŸ ì •ë¦¬<a hidden class=anchor aria-hidden=true href=#-ì •ë¦¬>#</a></h2><blockquote><p>ì´ì œ íŒŒì´í”„ë¼ì¸ì€ í•˜ë‚˜ì˜ ì»¤ë°‹ìœ¼ë¡œ</p><p><strong>ê²€ì¦ â†’ ë°°í¬ â†’ ì‹¤í—˜ â†’ ê´€ì œ</strong>ê¹Œì§€ ììœ¨ ì£¼í–‰í•©ë‹ˆë‹¤.</p><p>ëª¨ë¸ êµì²´ëŠ” <strong>MLflow alias</strong>ë¡œ í†µì¼ë˜ê³ , ëŸ°íƒ€ì„ ë°˜ì˜ì€ <strong>/reload</strong>ê°€ ì±…ì„ì§‘ë‹ˆë‹¤.</p></blockquote></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=prev href=https://keonhoban.github.io/mlops-journey/posts/mlops-platform-gitops/10/><span class=title>Â« Prev</span><br><span>[MLOps ìš´ì˜ ê³ ë„í™” - 9ë‹¨ê³„: ì‹œí¬ë¦¿ ê´€ë¦¬ & í‚¤ íšŒì „ ìë™í™” (AWSÂ·SealedSecret)]</span>
</a><a class=next href=https://keonhoban.github.io/mlops-journey/posts/mlops-platform-gitops/08/><span class=title>Next Â»</span><br><span>[MLOps ìš´ì˜ ê³ ë„í™” - 7ë‹¨ê³„: Argo CD Notifications ìë™í™” (Slack ì—°ë™)]</span></a></nav></footer></article></main><footer class=footer><p style=margin-top:1rem>Â© 2025 Keonho Ban | <a href=https://github.com/keonhoban target=_blank>GitHub</a> | <a href=mailto:keonho0510@naver.com>Email</a></p></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>