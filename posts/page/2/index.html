<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Posts | 🏔️ MLOps Journey</title>
<meta name=keywords content><meta name=description content="Posts - 🏔️  MLOps Journey"><meta name=author content><link rel=canonical href=https://keonhoban.github.io/mlops-journey/posts/><link crossorigin=anonymous href=/mlops-journey/assets/css/stylesheet.f49d66caae9ea0fd43f21f29e71a8d3e284517ed770f2aa86fa012953ad3c9ef.css integrity="sha256-9J1myq6eoP1D8h8p5xqNPihFF+13Dyqob6ASlTrTye8=" rel="preload stylesheet" as=style><link rel=icon href=https://keonhoban.github.io/mlops-journey/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://keonhoban.github.io/mlops-journey/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://keonhoban.github.io/mlops-journey/favicon-32x32.png><link rel=apple-touch-icon href=https://keonhoban.github.io/mlops-journey/apple-touch-icon.png><link rel=mask-icon href=https://keonhoban.github.io/mlops-journey/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://keonhoban.github.io/mlops-journey/posts/index.xml><link rel=alternate hreflang=en href=https://keonhoban.github.io/mlops-journey/posts/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://keonhoban.github.io/mlops-journey/posts/"><meta property="og:site_name" content="🏔️  MLOps Journey"><meta property="og:title" content="Posts"><meta property="og:locale" content="ko"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="Posts"><meta name=twitter:description content><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://keonhoban.github.io/mlops-journey/posts/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://keonhoban.github.io/mlops-journey/ accesskey=h title="🏔️  MLOps Journey (Alt + H)">🏔️ MLOps Journey</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://keonhoban.github.io/mlops-journey/ title="🏠 Home"><span>🏠 Home</span></a></li><li><a href=https://keonhoban.github.io/mlops-journey/projects/ title="📂 Projects"><span>📂 Projects</span></a></li><li><a href=https://keonhoban.github.io/mlops-journey/posts/ title="📝 Blog"><span class=active>📝 Blog</span></a></li><li><a href=https://keonhoban.github.io/mlops-journey/about/ title="🧗 About"><span>🧗 About</span></a></li><li><a href=https://keonhoban.github.io/mlops-journey/categories/ title="📖 Categories"><span>📖 Categories</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://keonhoban.github.io/mlops-journey/>Home</a></div><h1>Posts</h1></header><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>[MLOps 플랫폼 Observability & Data Pipeline - 3단계 : Prometheus/KSM/Kubelet 완전 분리 구조]</h2></header><div class=entry-content><p>Prometheus/KSM/Kubelet 완전 분리 구조 🧠 시나리오 설명 “dev와 prod는 분리돼 있어야 하는데,
정작 관측 데이터에서는 서로 섞여 보이는 문제가 계속 생겼습니다.”
“Prometheus/KSM/Kubelet의 라벨과 셀렉터가 조금만 어긋나도
dev에서 prod 메트릭을 읽는 심각한 혼선이 발생하기 때문에,
이번 단계에서는 관측 스택을 라벨 기반으로 완전히 절단하는 데 집중했습니다.”
“그리고 TSDB는 로컬 디스크로 옮겨 속도·안정성을 끌어올리고,
NFS는 나머지 관측 도구 전용으로 재정비하여
이후 Loki·Alertmanager 통합 기반의 Observability 전체 구조를 안정적으로 받칠 수 있도록 만들었습니다.”
🎯 핵심 요약 문제 prometheus-dev.local에서 airflow-prod, fastapi-prod 메트릭이 섞여서 나옴 kube-state-metrics / kubelet(cAdvisor) / ServiceMonitor 라벨이 꼬여 dev↔prod 교차 수집 NFS 기반 Prometheus TSDB로 worker2 종료 지연 + I/O 부담 체감 목표 dev/prod 메트릭 수집 완전 분리 Prometheus TSDB를 local-path로 전환(속도·안정성 개선) NFS는 관측 도구(Grafana/Alertmanager/로그 등)에만 사용 결론 라벨/selector/metricRelabelings 정리만 해도 dev/prod가 깨끗이 분리됨
...</p></div><footer class=entry-footer><span title='2025-10-22 17:10:21 +0900 +0900'>October 22, 2025</span>&nbsp;·&nbsp;6 min</footer><a class=entry-link aria-label="post link to [MLOps 플랫폼 Observability & Data Pipeline - 3단계 : Prometheus/KSM/Kubelet 완전 분리 구조]" href=https://keonhoban.github.io/mlops-journey/posts/mlops-platform-observability/03/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>[MLOps 플랫폼 Observability & Data Pipeline - 2단계 : Alertmanager Slack & 트러블슈팅]</h2></header><div class=entry-content><p>Alertmanager Slack & 트러블슈팅 🧠 시나리오 설명 “모델이 잘 학습되고 잘 배포되는 것보다
문제가 생겼을 때 즉시 감지되는 것이 더 중요할 때가 많습니다.”
“그래서 이번 단계에서는 dev/prod 각각에서 알람이
정확한 Slack 채널로, 깨짐 없이 흐르는 관측 파이프라인을 먼저 완성했습니다.”
“이 기반이 갖춰져야 이후 FastAPI 지연, 핫스왑 실패, DAG 에러 같은
운영형 MLOps 이벤트를 실시간으로 감지할 수 있기 때문입니다.”
🎯 핵심 요약 목표
Prometheus → Alertmanager → Slack 경로를
dev/prod 완전히 분리된 상태로,
...</p></div><footer class=entry-footer><span title='2025-10-18 17:10:21 +0900 +0900'>October 18, 2025</span>&nbsp;·&nbsp;7 min</footer><a class=entry-link aria-label="post link to [MLOps 플랫폼 Observability & Data Pipeline - 2단계 : Alertmanager Slack & 트러블슈팅]" href=https://keonhoban.github.io/mlops-journey/posts/mlops-platform-observability/02/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>[MLOps 플랫폼 Observability & Data Pipeline - 1단계 : kube-prometheus-stack + GitOps 구축]</h2></header><div class=entry-content><p>kube-prometheus-stack + GitOps 구축 🧠 시나리오 설명 “모니터링은 한 번 세팅해두고 끝나는 게 아니라,
클러스터를 갈아엎어도 같은 모습으로 다시 살아나야 하는 인프라입니다.”
“그래서 이번 단계에서는 kube-prometheus-stack을 dev/prod로 완전히 분리하고,
모든 구성을 YAML + GitOps로 고정해서
Observability 스택을 재현할 수 있는 뼈대를 먼저 만들었습니다.”
🎯 핵심 요약 목표
monitoring-dev / monitoring-prod Observability 스택을 YAML + GitOps만으로 그대로 재현할 수 있는 상태 만들기 구성 요소
kube-prometheus-stack 65.5.0 (Prometheus + Alertmanager + Grafana) nfs-monitoring StorageClass (NFS 기반 동적 프로비저닝) nginx-ingress 기반 HTTPS Ingress ArgoCD Application 2개 (monitoring-dev, monitoring-prod) 보안/운영 포인트
...</p></div><footer class=entry-footer><span title='2025-10-14 17:10:21 +0900 +0900'>October 14, 2025</span>&nbsp;·&nbsp;6 min</footer><a class=entry-link aria-label="post link to [MLOps 플랫폼 Observability & Data Pipeline - 1단계 : kube-prometheus-stack + GitOps 구축]" href=https://keonhoban.github.io/mlops-journey/posts/mlops-platform-observability/01/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>[MLOps 운영 고도화 - 9단계: 시크릿 관리 & 키 회전 자동화 (AWS·SealedSecret)]</h2></header><div class=entry-content><p>시크릿 관리 및 키 회전 자동화: AWS Credentials · SealedSecret Re-Seal 🧠 시나리오 설명 “MLOps에서는 모델보다 먼저, ‘비밀’이 먼저 무너집니다.”
“특히 AWS 키처럼 주기적으로 교체해야 하는 값은 자동화가 필요하지만,
JWT·Slack Webhook처럼 교체 시 영향이 큰 값은 운영자가 직접 결정해야 합니다.”
“그래서 9단계에서는
‘자동화할 것과 사람이 확인해야 할 것을 구분한 SecretOps 체계’를 확립하는 것이 목적이었습니다.”
“AWS 키 회전·SealedSecret 재암호화·GitOps 반영까지는
필요한 작업들을 스크립트로 묶어 반복을 최소화했고,
운영자가 ‘언제 실행할지’만 결정하면 되도록 정리했습니다.”
...</p></div><footer class=entry-footer><span title='2025-09-25 17:10:21 +0900 +0900'>September 25, 2025</span>&nbsp;·&nbsp;3 min</footer><a class=entry-link aria-label="post link to [MLOps 운영 고도화 - 9단계: 시크릿 관리 & 키 회전 자동화 (AWS·SealedSecret)]" href=https://keonhoban.github.io/mlops-journey/posts/mlops-platform-gitops/10/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>[MLOps 운영 고도화 - 8단계: CI/CD 운영 자동화 (GitHub Actions·Helm Lint)]</h2></header><div class=entry-content><p>CI/CD & 운영 자동화: GitHub Actions · Helm Lint · Canary 테스트 🧠 시나리오 설명 “운영 환경에서 사고는 대부분 배포 전에 체크되지 못한 문제,
수동 배포의 실수, 배포 후 검증 부재에서 시작됩니다.”
“그래서 이번 단계에서는 아예 CI 단계에서 문제를 막고,
CD에서는 GitOps가 원하는 상태를 자동으로 보장하며,
배포 직후 FastAPI alias로 모델 트래픽까지 자동 검증되는 구조를 만들었습니다.”
“이 단계가 완성되면 하나의 커밋이
검증 → 배포 → 실험 → 알림까지 스스로 흐르는
...</p></div><footer class=entry-footer><span title='2025-09-15 17:10:21 +0900 +0900'>September 15, 2025</span>&nbsp;·&nbsp;6 min</footer><a class=entry-link aria-label="post link to [MLOps 운영 고도화 - 8단계: CI/CD 운영 자동화 (GitHub Actions·Helm Lint)]" href=https://keonhoban.github.io/mlops-journey/posts/mlops-platform-gitops/09/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>[MLOps 운영 고도화 - 7단계: Argo CD Notifications 자동화 (Slack 연동)]</h2></header><div class=entry-content><p>Argo CD Notifications – GitOps 모니터링 자동화 (Slack Webhook & SealedSecret) 🧠 시나리오 설명 “GitOps는 자동으로 잘 돌아가도,
지금 무슨 일이 일어나는지 모르면 운영자는 항상 불안합니다.”
“그래서 이번 단계에서는 Argo CD의 Sync/Health 변화를
즉시 Slack으로 받아보는 GitOps 모니터링 루프를 만들었습니다.
커밋 이후 어떤 일이 일어나는지 ‘실시간으로 보이게’ 만드는 단계입니다.”
🎯 핵심 요약 Argo CD Notifications Controller로 Sync/Health 이벤트를 Slack에 실시간 전송 Webhook URL → SealedSecret → 환경변수 참조로 안전 관리(레포 커밋 OK) 템플릿/트리거/구독을 ConfigMap 한 곳에서 선언적으로 관리 Git 커밋 → Argo Sync → Slack 알림의 자동 루프 완성 1️⃣ 전체 흐름 요약 ...</p></div><footer class=entry-footer><span title='2025-09-05 17:10:21 +0900 +0900'>September 5, 2025</span>&nbsp;·&nbsp;3 min</footer><a class=entry-link aria-label="post link to [MLOps 운영 고도화 - 7단계: Argo CD Notifications 자동화 (Slack 연동)]" href=https://keonhoban.github.io/mlops-journey/posts/mlops-platform-gitops/08/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>[MLOps 운영 고도화 - 6단계: GitOps 고도화 (Argo CD·MetalLB·ApplicationSet)]</h2></header><div class=entry-content><p>FastAPI 앱 전면 개편: A/B · Canary · Blue-Green 서빙 베이스 🧠 시나리오 설명 “운영 환경에서 모델은 언제든 교체될 수 있고,
그 순간이 서비스 품질이 가장 크게 흔들리는 위험 구간입니다.”
“그래서 이번 단계에서는 이후 모든 자동화(학습·등록·핫스왑·롤백)의 기반이 되는
A/B · Canary · Blue-Green 전략을 모두 처리할 수 있는 FastAPI 서빙 구조부터 잡았습니다.”
“이 뼈대가 완성돼야 Airflow, MLflow, ArgoCD와 연결된
**진짜 ‘운영형 MLOps 파이프라인’**을 만들 수 있기 때문입니다.”
🎯 핵심 요약 전환 기준 = MLflow Alias(@A/@B)
...</p></div><footer class=entry-footer><span title='2025-08-27 17:10:21 +0900 +0900'>August 27, 2025</span>&nbsp;·&nbsp;5 min</footer><a class=entry-link aria-label="post link to [MLOps 운영 고도화 - 6단계: GitOps 고도화 (Argo CD·MetalLB·ApplicationSet)]" href=https://keonhoban.github.io/mlops-journey/posts/mlops-platform-gitops/07/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>[MLOps 운영 고도화 - 5단계: Airflow 안정화 & FastAPI HTTPS 보안]</h2></header><div class=entry-content><p>Airflow 안정화 & FastAPI HTTPS 보안 적용 (cert-manager 어노테이션 반영 완료) 🧠 시나리오 설명 “모델을 등록하는 것보다 더 중요한 건
언제 Reload가 실행되느냐입니다. 여기가 운영 안정성을 나누는 지점이니까요.”
“그래서 이번 단계에서는 Airflow 흐름을 한 번 더 단단히 조이고,
FastAPI 쪽은 HTTPS·화이트리스트까지 적용해
‘안전하게 자동화된다’는 확신을 주는 구조를 만들었습니다.”
🎯 핵심 요약 Airflow: PythonSensor(mode="reschedule")로 READY 감시, TriggerRule.ALL_SUCCESS로 성공 체인에서만 /reload 데이터/상태 꼬임 방지: Variable 검증 유틸 + XCom 키 표준 FastAPI: Ingress TLS(HTTPS) + IP 화이트리스트 강화 cert-manager + ClusterIssuer(self-signed) 자동 발급/갱신: 템플릿에 어노테이션 자동 주입 반영 완료 5-1️⃣ Airflow 안정화: Sensor 리팩토링 & XCom/Variable 표준 1) DAG 구조 ...</p></div><footer class=entry-footer><span title='2025-08-18 17:11:21 +0900 +0900'>August 18, 2025</span>&nbsp;·&nbsp;5 min</footer><a class=entry-link aria-label="post link to [MLOps 운영 고도화 - 5단계: Airflow 안정화 & FastAPI HTTPS 보안]" href=https://keonhoban.github.io/mlops-journey/posts/mlops-platform-gitops/06/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>[MLOps 운영 고도화 - 4단계: FastAPI 로그 안정화 (NFS + PV/PVC + Loguru)]</h2></header><div class=entry-content><p>FastAPI 앱 전면 개편: A/B · Canary · Blue-Green 서빙 베이스 🧠 시나리오 설명 “운영 환경에서 모델은 언제든 교체될 수 있고,
그 순간이 서비스 품질이 가장 크게 흔들리는 위험 구간입니다.”
“그래서 이번 단계에서는 이후 모든 자동화(학습·등록·핫스왑·롤백)의 기반이 되는
A/B · Canary · Blue-Green 전략을 모두 처리할 수 있는 FastAPI 서빙 구조부터 잡았습니다.”
“이 뼈대가 완성돼야 Airflow, MLflow, ArgoCD와 연결된
**진짜 ‘운영형 MLOps 파이프라인’**을 만들 수 있기 때문입니다.”
🎯 핵심 요약 전환 기준 = MLflow Alias(@A/@B)
...</p></div><footer class=entry-footer><span title='2025-08-08 17:10:21 +0900 +0900'>August 8, 2025</span>&nbsp;·&nbsp;5 min</footer><a class=entry-link aria-label="post link to [MLOps 운영 고도화 - 4단계: FastAPI 로그 안정화 (NFS + PV/PVC + Loguru)]" href=https://keonhoban.github.io/mlops-journey/posts/mlops-platform-gitops/05/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>[MLOps 운영 고도화 - 3단계: 모델 롤백 자동화 (등록 실패 대비 복구)]</h2></header><div class=entry-content><p>모델 롤백 자동화: 등록 실패 대비 복구 루프 완성 🧠 시나리오 설명 “모델 배포는 성공했을 때보다, 실패했을 때의 회복 속도가 운영 품질을 결정합니다.”
“그래서 3단계에서는 등록이 실패하는 즉시,
이전 안정 버전으로 돌아가 FastAPI에 자동 반영되는 완전한 롤백 루프를 구축했습니다.”
“이 구조가 있어야 장애 상황에서도 서비스가 끊기지 않고 바로 복구될 수 있습니다.”
🎯 핵심 요약 등록 실패 → 즉시 롤백: 시도 직전 before_version(alias가 가리키던 버전)으로 복귀 READY 검증 → alias 재할당 → FastAPI /reload 까지 자동 수행(실서비스 반영 보장) 수동 롤백 전용 DAG 제공(운영자가 대상 버전 명시) Slack/로그 추적(성공/실패/복구 구분), 실패는 re-raise로 원인 명확화 1️⃣ 플로우 한 장 요약 ...</p></div><footer class=entry-footer><span title='2025-08-01 12:15:21 +0900 +0900'>August 1, 2025</span>&nbsp;·&nbsp;4 min</footer><a class=entry-link aria-label="post link to [MLOps 운영 고도화 - 3단계: 모델 롤백 자동화 (등록 실패 대비 복구)]" href=https://keonhoban.github.io/mlops-journey/posts/mlops-platform-gitops/04/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://keonhoban.github.io/mlops-journey/posts/>«&nbsp;Prev&nbsp;
</a><a class=next href=https://keonhoban.github.io/mlops-journey/posts/page/3/>Next&nbsp;&nbsp;»</a></nav></footer></main><footer class=footer><p style=margin-top:1rem>© 2025 Keonho Ban | <a href=https://github.com/keonhoban target=_blank>GitHub</a> | <a href=mailto:keonho0510@naver.com>Email</a></p></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>