+++
date = '2025-04-06T21:26:55+09:00'
draft = false
title = 'linux-01'
categories = 'Linux'
+++
# ✅ 1장. 셸이란?

---

## 🧠 결정적 지식 요약

| 개념 | 핵심 내용 |
| --- | --- |
| **커널** | OS의 핵심: 하드웨어 제어, 프로세스/파일/네트워크 관리 담당. 셸을 통해 간접 제어 |
| **셸** | 커널과 사용자 사이의 인터페이스. 명령어를 해석하여 커널 호출. bash, zsh 등 다양한 종류 |
| **프롬프트** | 셸이 입력을 기다리는 상태 표시. 사용자 구분 (`$`, `#`) 가능 |
| **셸 스크립트** | 반복 작업 자동화. 조건문/반복문/함수 등 프로그래밍 가능 |
| **로그인/비로그인 셸** | 로그인 시 환경 설정(`/etc/profile`), 서브 셸은 `.bashrc` |
| **터미널** | 입출력 UI 제공 인터페이스. 셸은 그 안에서 명령어 처리 |
| **셸 ≠ 터미널** | 터미널은 인터페이스, 셸은 해석기. 기능 분리됨 |

---

## 🔄 핵심 도식화 / 구조도 포맷

```
[User 입력]
    ↓
[터미널 (입출력 인터페이스)]
    ↓
[셸 (명령어 해석기)]
    ↓
[커널 (시스템 자원 제어)]
    ↓
[하드웨어: CPU, 메모리, I/O 등]
```

```
[셸 종류 예시]
bash | zsh | sh | fish
 ↓      ↓      ↓
문법/기능 차이 → 스크립트 이식성 주의
```

```
[셸 초기화 파일 흐름도]
로그인 셸: /etc/profile → ~/.bash_profile
비로그인 셸: ~/.bashrc
```

---

## 🔧 실무 연결 예시

| 상황 | 셸 활용 예시 |
| --- | --- |
| **로그 정리 자동화** | 모델 서버 로그를 특정 디렉토리로 이동, 압축 |
| **에러 핸들링** | 셸 스크립트에 `set -euo pipefail` 적용해 실패 즉시 종료 |
| **모델 배포** | 셸에서 `curl` + `jq` 조합으로 MLflow REST API 호출 |
| **환경별 설정 관리** | `.bashrc`/`.bash_profile`에서 PATH, 프롬프트 다르게 설정 |

---

## ✅ 실전 체크리스트

- `#!/usr/bin/env bash` → 이식성 확보
- `set -euo pipefail` → 안정성 강화
- 실행 권한은 `chmod +x` 또는 `chmod 700`
- 원격 서버/컨테이너 환경 → `.bashrc` 실행 여부 확인
- `$SHELL`, `ps -p $$` → 현재 셸 상태 점검

---

## ⚠️ 오해 주의 포인트

- **터미널과 셸은 다르다**: 터미널은 UI, 셸은 명령 해석기
- `set -e`는 파이프라인 전체가 아닌 *첫 실패 명령어만 종료* → `pipefail`과 병행 필수
- 비로그인 셸에서는 `.bashrc`만 실행되며, `.bash_profile`은 무시됨
