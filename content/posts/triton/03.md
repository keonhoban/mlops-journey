+++
date = '2026-01-02T13:05:22+09:00'
draft = false
title = '[Triton ìš´ì˜í˜• ì„œë¹™ í”Œë«í¼ (GitOps Â· ê²€ì¦ Â· Alerting) - Alerting ìš´ì˜ í‘œì¤€ ë§¤ë‰´ì–¼]'
categories = ['Triton', 'GitOps(ArgoCD)', 'Helm', 'Kubernetes', 'AlertManager', 'Prometheus', 'Grafana', 'Monitoring Stack']
+++

### Dev/Prod ë¶„ë¦¬ + Triton Serving Alerts

*(kube-prometheus-stack Â· PrometheusRule Â· Alertmanager Â· ArgoCD Â· SealedSecret)*

---

## ğŸ§  ì‹œë‚˜ë¦¬ì˜¤ ì„¤ëª…

> ObservabilityëŠ” ëŒ€ì‹œë³´ë“œê°€ ì•„ë‹ˆë¼, ì‚¬ê³ ë¥¼ ë§‰ëŠ” ìš´ì˜ ì •ì±…ì…ë‹ˆë‹¤.
>
> ì´ ë¬¸ì„œëŠ” dev/prod ì•ŒëŸ¿ì„ ì™„ì „íˆ ë¶„ë¦¬í•˜ê³ ,
> ë¼ë²¨ ì‹¤ìˆ˜ë¡œ ì¸í•œ êµì°¨ ì „ì†¡ê¹Œì§€ êµ¬ì¡°ì ìœ¼ë¡œ ì°¨ë‹¨í•˜ë©°,
> Triton ì„œë¹™ í’ˆì§ˆì„ ëª¨ë¸ ì‹¤í–‰ ê´€ì ì—ì„œ ê°ì§€í•˜ë„ë¡ ì„¤ê³„ëœ
> GitOps ê¸°ë°˜ Alerting ìš´ì˜ í‘œì¤€ì…ë‹ˆë‹¤.
> 
> ì•ŒëŸ¿ì´í›„ ë¹ ë¥´ê²Œ íŒë‹¨ì´ ê°€ëŠ¥í•˜ë„ë¡,
> Alertmanager ë¼ìš°íŒ…ê³¼ Grafana ëŒ€ì‹œë³´ë“œë¥¼
> í•˜ë‚˜ì˜ íë¦„ìœ¼ë¡œ ë¬¶ì—ˆìŠµë‹ˆë‹¤.

---

## ğŸ¯ í•µì‹¬ ìš”ì•½

- PrometheusRule: â€œì–¸ì œ ì´ìƒì¸ê°€â€ ì •ì˜
- Alertmanager: â€œì–´ë””ë¡œ ë³´ë‚¼ì§€/ì°¨ë‹¨í• ì§€â€ ìµœì¢… í†µì œ
- Slack: ë‹¨ìˆœ ìˆ˜ì‹ ì
- ê¸°ë³¸ receiverëŠ” ë°˜ë“œì‹œ `"null"`
- Slack ì „ì†¡ì€ **namespace ì •ê·œì‹ match**ë¡œë§Œ í—ˆìš©
- Triton ì•ŒëŸ¿ì€ p95 ëŒ€ì‹  **mean latency ê¸°ë°˜**ìœ¼ë¡œ ì‹œì‘
- Grafana: ì•ŒëŸ¿ ì´í›„ â€œì›ì¸ í™•ì¸/íŒë‹¨â€ í‘œì¤€ (avg latency + queue + pending)
- ì•ŒëŸ¿-ëŒ€ì‹œë³´ë“œëŠ” í•œ ì„¸íŠ¸ë¡œ ìš´ì˜ (Detect â†’ Diagnose â†’ Act)

---

## 1ï¸âƒ£ ì „ì²´ ì•„í‚¤í…ì²˜

```
[Workload (Triton/FastAPI/...)]
        â†“ metrics
[Prometheus (dev/prod)]
        â†“ PrometheusRule: "ì–¸ì œ ì´ìƒì¸ê°€"
[Alertmanager (dev/prod)]
        â†“ Routing Policy: "ì–´ë””ë¡œ ë³´ë‚¼ì§€/ì°¨ë‹¨í• ì§€"
[Slack (#dev / #prod)]  â†’  [Grafana Dashboard: Diagnose (30s)]

```

### í•µì‹¬ ì›ì¹™

- Alertmanagerê°€ ìµœì¢… í†µì œ ì§€ì 
- PrometheusRuleì€ â€œì•ŒëŸ¿ ë°œìƒâ€ë§Œ ë‹´ë‹¹
- â€œê¸°ë³¸ ì „ì†¡ ê¸ˆì§€(Null default)â€ê°€ ì•ˆì „í•œ ìš´ì˜ì˜ ì¶œë°œì 
- ì•ŒëŸ¿ì€ ê°ì§€, GrafanaëŠ” ì›ì¸ í™•ì¸(ì§„ë‹¨) í‘œì¤€

---

## 2ï¸âƒ£ ìš´ì˜ ì •ì±… (Policy)

| í•­ëª© | ì •ì±… |
| --- | --- |
| Default receiver | `"null"` |
| Slack ì „ì†¡ | routes + matchersë¡œë§Œ í—ˆìš© |
| êµì°¨(devâ†”prod) | ë¬´ì¡°ê±´ ì°¨ë‹¨ |
| ì˜ˆì™¸ | ë¬¸ì„œ/ì½”ë“œë¡œ ëª…ì‹œì ìœ¼ë¡œ ì¶”ê°€í•œ ê²ƒë§Œ í—ˆìš© |
| Dashboard | ì•ŒëŸ¿ ë°œìƒ ì‹œ Grafanaë¡œ ì¦‰ì‹œ ì›ì¸ í™•ì¸ (30ì´ˆ ë£¨í‹´) |

---

# Part A. Alertmanager Dev/Prod ë¶„ë¦¬ & ì² ë²½ ë¼ìš°íŒ…

## A-1) DEV Alertmanager ìµœì¢… ì„¤ì •

ğŸ“„ `/tmp/alertmanager-dev.yaml`

```yaml
global:
  resolve_timeout: 5m

route:
  receiver: "null"
  group_by: ["alertname","namespace","service","severity"]
  group_wait: 30s
  group_interval: 5m
  repeat_interval: 12h
  routes:
  - receiver: "slack-dev"
    matchers:
    - namespace=~".*-dev|monitoring-dev|kube-system"

receivers:
- name: "slack-dev"
  slack_configs:
  - api_url: <SECRET>
    send_resolved: true
    title: "ğŸš¨ [{{ .Status | toUpper }}][DEV] {{ .CommonLabels.alertname }}"
    text: >
      *Namespace:* {{ or .CommonLabels.namespace "N/A" }}
      *Service:* {{ or .CommonLabels.service "N/A" }}
      *Severity:* {{ or .CommonLabels.severity "none" }}
      *Summary:* {{ or .CommonAnnotations.summary "No summary" }}
      *Description:* {{ or .CommonAnnotations.description "No description" }}
      *StartsAt:* {{ (index .Alerts 0).StartsAt }}
      <https://prometheus-dev.local/alerts|View in Prometheus>

- name: "null"

```

---

## A-2) PROD Alertmanager ìµœì¢… ì„¤ì •

ğŸ“„ `/tmp/alertmanager-prod.yaml`

```yaml
global:
  resolve_timeout: 5m

route:
  receiver: "null"
  group_by: ["alertname","namespace","service","severity"]
  group_wait: 30s
  group_interval: 5m
  repeat_interval: 12h
  routes:
  - receiver: "slack-prod"
    matchers:
    - namespace=~".*-prod|monitoring-prod|kube-system"

receivers:
- name: "slack-prod"
  slack_configs:
  - api_url: <SECRET>
    send_resolved: true
    title: "ğŸš¨ [{{ .Status | toUpper }}][PROD] {{ .CommonLabels.alertname }}"
    text: >
      *Namespace:* {{ or .CommonLabels.namespace "N/A" }}
      *Service:* {{ or .CommonLabels.service "N/A" }}
      *Severity:* {{ or .CommonLabels.severity "none" }}
      *Summary:* {{ or .CommonAnnotations.summary "No summary" }}
      *Description:* {{ or .CommonAnnotations.description "No description" }}
      *StartsAt:* {{ (index .Alerts 0).StartsAt }}
      <https://prometheus-prod.local/alerts|View in Prometheus>

- name: "null"

```

---

## A-3) SealedSecret ìƒì„± (GitOps í•„ìˆ˜)

### DEV

```bash
kubectl -n monitoring-dev create secret generic alertmanager-config-dev \
  --from-file=alertmanager.yaml=/tmp/alertmanager-dev.yaml \
  --dry-run=client -o yaml \
| kubeseal \
  --controller-namespace kube-system \
  --controller-name sealed-secrets \
  --namespace monitoring-dev \
  --name alertmanager-config-dev \
  --format yaml \
> envs/dev/sealed-secrets/monitoring/alertmanager-config-dev.yaml

```

### PROD

```bash
kubectl -n monitoring-prod create secret generic alertmanager-config-prod \
  --from-file=alertmanager.yaml=/tmp/alertmanager-prod.yaml \
  --dry-run=client -o yaml \
| kubeseal \
  --controller-namespace kube-system \
  --controller-name sealed-secrets \
  --namespace monitoring-prod \
  --name alertmanager-config-prod \
  --format yaml \
> envs/prod/sealed-secrets/monitoring/alertmanager-config-prod.yaml

```

---

## A-4) ë°°í¬ & ë°˜ì˜ ì ˆì°¨

```bash
git add envs/**/sealed-secrets/monitoring/alertmanager-config-*.yaml
git commit -m"fix(alertmanager): route by namespace + null default"
git push

argocd appsync monitoring-dev
argocd appsync monitoring-prod

kubectl -n monitoring-dev rollout restart sts/alertmanager-monitoring-dev-kube-promet-alertmanager
kubectl -n monitoring-prod rollout restart sts/alertmanager-monitoring-prod-kube-prome-alertmanager

```

---

## A-5) ìµœì¢… ê²€ì¦ (ìš´ì˜ í‘œì¤€)

### ì„¤ì • ë°˜ì˜ í™•ì¸

```bash
curl -sk https://alert-dev.local/api/v2/status  | jq -r'.config.original'
curl -sk https://alert-prod.local/api/v2/status | jq -r'.config.original'

```

### Cross namespace ì°¨ë‹¨ í™•ì¸

```bash
curl -sk https://alert-dev.local/api/v2/alerts/groups \
| jq'.[] | select(.labels.namespace=="airflow-prod") | .receiver.name'

```

ê¸°ëŒ€ê°’: `"null"`

---

## A-6) ìš´ì˜ ì£¼ì˜ì‚¬í•­

- ê¸°ë³¸ receiverë¥¼ `slack-*`ë¡œ ë‘ëŠ” êµ¬ì„± ê¸ˆì§€
    - ê¸°ë³¸ì€  â€œnullâ€ â†’ í—ˆìš©ëœ ê²ƒë§Œ Slackìœ¼ë¡œ ë³´ëƒ„
- Slack ì „ì†¡ì€ **routes + matchersë¡œë§Œ** í—ˆìš©
    - ê¸°ë³¸ì€  â€œnullâ€ â†’ ì¡°ê±´ ë§ìœ¼ë©´ Slackìœ¼ë¡œ ë³´ëƒ„
- í…œí”Œë¦¿ì€ `default` ëŒ€ì‹  `or` ì‚¬ìš© ê¶Œì¥
    - `or`ëŠ” â€œë¹„ì—ˆìœ¼ë©´ ëŒ€ì²´ê°’â€ì„ ì£¼ëŠ” ë°©ì‹ (í•­ìƒ í•´ì„ ê°€ëŠ¥)
    - `default`ëŠ” ì‚¬ìš© ê°€ëŠ¥í•œ í™˜ê²½/ë²„ì „ì— ë”°ë¼ ë™ì‘ì´ ë‹¤ë¥¼ ìˆ˜ ìˆìŒ
- Alertmanagerê°€ ì°¸ì¡°í•˜ëŠ” Secretì„ í•­ìƒ í™•ì¸

```bash
kubectl -n monitoring-dev  get alertmanager -o jsonpath='{.items[0].spec.configSecret}';echo
kubectl -n monitoring-prod get alertmanager -o jsonpath='{.items[0].spec.configSecret}';echo

```

---

# Part B. Triton Serving Alert êµ¬ì¶• & ê²€ì¦

## B-1) ëª©ì 

- Pod up/downì´ ì•„ë‹ˆë¼ **ëª¨ë¸ ì‹¤í–‰ ê´€ì **ì˜ í’ˆì§ˆ ì´ìƒ ê°ì§€
- dev/prod ë¶„ë¦¬ êµ¬ì¡° ìœ„ì—ì„œ **namespace ë¼ë²¨ ë¼ìš°íŒ…**ìœ¼ë¡œ ìë™ ì—°ë™

---

## B-2) Triton ë©”íŠ¸ë¦­ íŠ¹ì„±

| ë©”íŠ¸ë¦­ | íƒ€ì… | ì˜ë¯¸ |
| --- | --- | --- |
| `nv_inference_request_success` | counter | ëª¨ë¸ ì‹¤í–‰ ì„±ê³µ ëˆ„ì  |
| `nv_inference_request_failure` | counter | ëª¨ë¸ ì‹¤í–‰ ì‹¤íŒ¨ ëˆ„ì  |
| `nv_inference_count` | counter | inference ì´ ìš”ì²­ ìˆ˜ |
| `nv_inference_request_duration_us` | sum | ì²˜ë¦¬ ì‹œê°„ í•© |

**ì£¼ì˜**

Tritonì˜ ê¸°ë³¸ Prometheus latency ë©”íŠ¸ë¦­ì€ sum/count í˜•íƒœì´ë¯€ë¡œ, 

histogram ê¸°ë°˜ p95ë¥¼ ì „ì œë¡œ í•˜ê¸°ë³´ë‹¤ëŠ” mean latency ê¸°ë°˜ìœ¼ë¡œ ì§„í–‰ í–ˆìŠµë‹ˆë‹¤.

(ê³µì‹ ë¬¸ì„œ: [https://docs.nvidia.com/deeplearning/triton-inference-server/user-guide/docs/user_guide/metrics.html](https://docs.nvidia.com/deeplearning/triton-inference-server/user-guide/docs/user_guide/metrics.html?utm_source=chatgpt.com))

---

## B-3) PrometheusRule (DEV ì˜ˆì‹œ)

ğŸ“„ `envs/dev/monitoring/rules/triton-alerts.yaml`

```yaml
apiVersion: monitoring.coreos.com/v1
kind: PrometheusRule
metadata:
  name: triton-alerts
  namespace: monitoring-dev
  labels:
    release: monitoring-dev
spec:
  groups:
  - name: triton.rules
    rules:
    - alert: TritonHighErrorRate
      expr: |
        (
          sum(rate(nv_inference_request_failure{job="triton"}[5m]))
        /
          clamp_min(
            sum(rate(nv_inference_request_success{job="triton"}[5m]))
          + sum(rate(nv_inference_request_failure{job="triton"}[5m])),
          1
          )
        ) > 0.02
      for: 2m
      labels:
        severity: warning
        namespace: triton-dev
        service: triton
      annotations:
        summary: "[DEV] Triton error rate high"
        description: "Triton model execution error rate > 2% (5m). value={{ $value }}"

    - alert: TritonMeanLatencyHigh
      expr: |
        (
          sum(rate(nv_inference_request_duration_us{job="triton"}[5m]))
        /
          clamp_min(sum(rate(nv_inference_count{job="triton"}[5m])), 1)
        ) / 1e6 > 0.000001
      for: 10s
      labels:
        severity: warning
        namespace: triton-dev
        service: triton
      annotations:
        summary: "[DEV] Triton mean latency high"
        description: "Triton mean inference latency high. value={{ $value }}"

```

---

## B-4) ë¼ìš°íŒ… ì „ì œ ì¡°ê±´ (ê°€ì¥ í”í•œ í•¨ì •)

â€œAlertmanager matcherì— namespaceë¥¼ í—ˆìš©í–ˆëŠ”ë° Slackì´ ì•ˆ ì˜¨ë‹¤?â€

- matcherëŠ” **ì•ŒëŸ¿ì´ firingì¼ ë•Œë§Œ** ì ìš©ë©ë‹ˆë‹¤.
- ì¦‰, Prometheusì— ë¨¼ì € firing ì•ŒëŸ¿ì´ ìˆì–´ì•¼ Alertmanagerê°€ ë¼ìš°íŒ…ì„ íŒë‹¨í•©ë‹ˆë‹¤.

í™•ì¸:

```bash
curl -sk https://prometheus-dev.local/api/v1/alerts \
| jq'.data.alerts[] | select(.labels.alertname|test("Triton"))'

```

---

## B-5) í…ŒìŠ¤íŠ¸ ì ˆì°¨ (ìš´ì˜ í‘œì¤€)

### 1) í´ëŸ¬ìŠ¤í„° ë‚´ë¶€ì—ì„œ inference ë°œìƒ

```bash
kubectl -n triton-dev run loadgen --rm -i --restart=Never \
  --image=curlimages/curl:8.6.0 -- \
  sh -lc '
  for i in $(seq 1 20); do
    curl -sS http://triton.triton-dev.svc.cluster.local:8000/v2/models/best_model/infer \
      -H "Content-Type: application/json" \
      -d "{\"inputs\":[{\"name\":\"input\",\"shape\":[1,4],\"datatype\":\"FP32\",\"data\":[1,2,3,4]}]}" \
      >/dev/null || true
  done
  echo done
'

```

### 2) Prometheusì—ì„œ firing í™•ì¸

```bash
curl -sk https://prometheus-dev.local/api/v1/alerts \
| jq'.data.alerts[] | select(.labels.alertname=="TritonMeanLatencyHigh")'

```

### 3) Alertmanager receiver í™•ì¸

```bash
curl -sk https://alert-dev.local/api/v2/alerts/groups \
| jq'.[] | select(.labels.alertname=="TritonMeanLatencyHigh") | .receiver.name'

```

ê¸°ëŒ€ê°’: `"slack-dev"`

---

## B-6) HighErrorRate í…ŒìŠ¤íŠ¸ê°€ ì–´ë ¤ìš´ ì´ìœ 

`nv_inference_request_failure`ëŠ” **ëª¨ë¸ ì‹¤í–‰ ë‹¨ê³„ì— ë“¤ì–´ê°„ ìš”ì²­ ì¤‘ ì‹¤íŒ¨**ë§Œ ì¹´ìš´íŠ¸í•©ë‹ˆë‹¤.

ë”°ë¼ì„œ HTTP ì‹¤íŒ¨ì—¬ë„ failureê°€ ì•ˆ ì˜¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

| ì‹¤íŒ¨ ìœ í˜• | failure ì¦ê°€ |
| --- | --- |
| ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ëª¨ë¸ í˜¸ì¶œ | âŒ |
| JSON íŒŒì‹± ì˜¤ë¥˜ | âŒ |
| input/output ìŠ¤í™ ì˜¤ë¥˜ | âŒ |
| shape mismatch | âŒ |
| HTTP 4xx/5xx | âŒ |

**ê²°ë¡ **

- HighErrorRateëŠ” â€œí…ŒìŠ¤íŠ¸ìš©â€ì´ ì•„ë‹ˆë¼ **ìš´ì˜ ê°ì‹œìš©**ìœ¼ë¡œ ìœ ì§€í•©ë‹ˆë‹¤.
- ë§Œì•½, HTTP ì‹¤íŒ¨ìœ¨ì´ í•„ìš”í•˜ë©´ Tritonì´ ì•„ë‹ˆë¼ **Gateway ê³„ì¸µ(Nginx/Envoy/Ingress)** ë©”íŠ¸ë¦­ìœ¼ë¡œ ë³„ë„ ì•ŒëŸ¿ì„ ë‘¬ì•¼ í•©ë‹ˆë‹¤.

---

## B-7) ìš´ì˜ ê¶Œì¥ê°’

| ì•ŒëŸ¿ | í…ŒìŠ¤íŠ¸ | ìš´ì˜ |
| --- | --- | --- |
| Mean latency | `> 0.000001s` | `> 0.05 ~ 0.1s` |
| Error rate | í…ŒìŠ¤íŠ¸ ë¹„ê¶Œì¥ | `> 2%` |
| for | `10s` | `2~5m` |

---

# Part C. Grafana (Triton Serving) â€” ì•ŒëŒ ì´í›„ â€˜íŒë‹¨ í‘œì¤€â€™

## C-1) ëª©ì 

ì•ŒëŒì€ â€œì´ìƒâ€ì„ ì•Œë ¤ì£¼ì§€ë§Œ, ìš´ì˜ì—ì„œ ì¤‘ìš”í•œ ê±´ **ì¦‰ì‹œ ì›ì¸ í™•ì¸**ì…ë‹ˆë‹¤.

Tritonì€ ê¸°ë³¸ latency ë©”íŠ¸ë¦­ì´ histogramì´ ì•„ë‹ˆë¼ **sum/count ê¸°ë°˜**ì´ë¯€ë¡œ,

ë³¸ ì‹œë¦¬ì¦ˆì—ì„œëŠ” p95 ëŒ€ì‹  avg latency(ms)ë¥¼ í‘œì¤€ìœ¼ë¡œ ì‚¼ê³ ,

ëŒ€ì‹  **avg latency + queue time + pending requests** ê°™ì€ í•µì‹¬ ì§€í‘œë¡œ ì›ì¸ í™•ì¸ì„ ê°€ëŠ¥í•˜ê²Œ í–ˆìŠµë‹ˆë‹¤.

---

## C-2) Dashboard ì„¤ê³„ ì›ì¹™

- Triton ê¸°ë³¸ metricsë§Œìœ¼ë¡œ 100% ë™ì‘
- â€œNo dataâ€ íŒ¨ë„ì´ ë‚˜ì˜¤ì§€ ì•Šë„ë¡ **rate + avg(ms)** ê¸°ë°˜ìœ¼ë¡œ ì„¤ê³„
- ìš´ì˜ìê°€ ë°”ë¡œ íŒë‹¨ ê°€ëŠ¥í•œ ì‹ í˜¸ë§Œ ë‚¨ê¹€
    - RPS(success/failure)
    - Failure rate(%)
    - Pod Up
    - Latency avg(ms)
    - Avg Queue Time(ms)
    - Pending requests

---

## C-3) Dashboard Import (JSON)

Grafana â†’ **Dashboard â†’ Import â†’ JSON** ë¶™ì—¬ë„£ê¸°

- UID: `triton-serving-model-kpis-v2`
- Title: `Triton Serving - Model KPIs (v2, avg-latency)`
- Variables:
    - `job / instance / model / version`

> íŠ¹íˆ model / version ë³€ìˆ˜ëŠ”
> 
> 
> **MLflow â†’ Triton ë²„ì „ ë””ë ‰í„°ë¦¬(version ë¼ë²¨)** íë¦„ê³¼ ì—°ê²°ë˜ì–´
> 
> ëª¨ë¸ ë²„ì „ë³„ ì„±ëŠ¥ ë¹„êµ, ë¡¤ë°± íŒë‹¨ì— ë°”ë¡œ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.
> 

---

## C-4) â€œNo data íŒ¨ë„â€ ë°©ì§€ìš© ìµœì†Œ í…ŒìŠ¤íŠ¸

ì§§ì€ ìˆœê°„ ë¶€í•˜ì—ì„œëŠ” Statì´ 0ìœ¼ë¡œ ë–¨ì–´ì§ˆ ìˆ˜ ìˆìœ¼ë¯€ë¡œ

1~2ë¶„ ìˆ˜ì¤€ì˜ ì§§ì€ ì§€ì† ë¶€í•˜ë¡œ íŒ¨ë„ì„ ì±„ì›ë‹ˆë‹¤.

```bash
kubectl -n triton-dev run loadgen --rm -i --restart=Never \
  --image=curlimages/curl:8.6.0 -- \
  sh -lc '
  end=$((SECONDS+90))
  while [ $SECONDS -lt $end ]; do
    curl -sS http://triton.triton-dev.svc.cluster.local:8000/v2/models/best_model/infer \
      -H "Content-Type: application/json" \
      -d "{\"inputs\":[{\"name\":\"input\",\"shape\":[1,4],\"datatype\":\"FP32\",\"data\":[[5.1,3.5,1.4,0.2]]}]}" \
      >/dev/null || true
  done
  echo done
'
```

Grafana Time rangeëŠ” **Last 5 minutes**ë¡œ ë‘ë©´ í™•ì¸ì´ ê°€ì¥ ë¹ ë¦…ë‹ˆë‹¤.

---

## C-5) ìš´ì˜ì—ì„œì˜ ì‚¬ìš©ë²•(ì•ŒëŒ ëœ¬ ë’¤ 30ì´ˆ ë£¨í‹´)

1. **Pod Up**ìœ¼ë¡œ â€œí”Œë«í¼ ì¥ì•  vs ëª¨ë¸/ì„±ëŠ¥ ì´ìŠˆâ€ 1ì°¨ ë¶„ê¸°
2. **Failure rate / Failure RPS**ë¡œ â€œì‹¤í–‰ ì‹¤íŒ¨â€ ì—¬ë¶€ í™•ì¸
3. *Latency Avg(ms)**ê°€ íŠ€ë©´
4. **Avg Queue Time**ìœ¼ë¡œ â€œëŒ€ê¸°ì—´ ë³‘ëª© ì—¬ë¶€â€ë¥¼ ë¨¼ì € í™•ì¸í•˜ê³ , Pending requestsì™€ í•¨ê»˜ â€œë°€ë¦¼(í) vs ë‹¨ìˆœ ì§€ì—°â€ì„ 1ì°¨ ë¶„ê¸°
5. **Pending requests**ê°€ ì¦ê°€í•˜ë©´ HPA/ë™ì‹œì„±/ë¦¬ì†ŒìŠ¤ ë³‘ëª© ëŒ€ì‘ìœ¼ë¡œ ì—°ê²°

---

## ğŸ§© íŒ

- â€œì„œë¹„ìŠ¤ ì•ŒëŸ¿ì€ namespace ë¼ë²¨ í•„ìˆ˜â€ë¥¼ íŒ€ ë£°ë¡œ ê³ ì •í•˜ë©´ dev/prod ì‚¬ê³ ê°€ ê±°ì˜ ì‚¬ë¼ì§‘ë‹ˆë‹¤.
- Triton failureëŠ” â€œëª¨ë¸ ì‹¤í–‰ ì‹¤íŒ¨â€ë§Œ ì¡ìŠµë‹ˆë‹¤. HTTP ì‹¤íŒ¨ìœ¨ì€ gateway ì•ŒëŸ¿ìœ¼ë¡œ ë¶„ë¦¬í•´ì•¼ í•©ë‹ˆë‹¤.
- Triton latencyëŠ” p95 ëŒ€ì‹  **avg latency + queue time + pending** ì¡°í•©ìœ¼ë¡œ íŒë‹¨í•œë‹¤.

---

## ğŸ ì •ë¦¬

> PrometheusRuleì€ ì •ì±…ì„ ì •ì˜í•˜ê³ ,
AlertmanagerëŠ” ì „íŒŒë¥¼ ì œì–´í•˜ë©°,
GrafanaëŠ” íŒë‹¨ì„ í‘œì¤€í™”í•©ë‹ˆë‹¤.
> 
> 
> Tritonì€ avg-latencyë¡œ ê°ì§€í•˜ê³ ,
> **queue/pendingìœ¼ë¡œ ë³‘ëª© ì—¬ë¶€ë¥¼ 1ì°¨ ë¶„ê¸°**í•˜ë©°,
> error-rateëŠ” ìš´ì˜ ê°ì‹œë¡œë§Œ ìœ ì§€í•©ë‹ˆë‹¤.
>
