<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>NFS | 🏔️ MLOps Journey</title>
<meta name=keywords content><meta name=description content><meta name=author content><link rel=canonical href=https://keonhoban.github.io/mlops-journey/categories/nfs/><link crossorigin=anonymous href=/mlops-journey/assets/css/stylesheet.f49d66caae9ea0fd43f21f29e71a8d3e284517ed770f2aa86fa012953ad3c9ef.css integrity="sha256-9J1myq6eoP1D8h8p5xqNPihFF+13Dyqob6ASlTrTye8=" rel="preload stylesheet" as=style><link rel=icon href=https://keonhoban.github.io/mlops-journey/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://keonhoban.github.io/mlops-journey/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://keonhoban.github.io/mlops-journey/favicon-32x32.png><link rel=apple-touch-icon href=https://keonhoban.github.io/mlops-journey/apple-touch-icon.png><link rel=mask-icon href=https://keonhoban.github.io/mlops-journey/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://keonhoban.github.io/mlops-journey/categories/nfs/index.xml><link rel=alternate hreflang=en href=https://keonhoban.github.io/mlops-journey/categories/nfs/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://keonhoban.github.io/mlops-journey/categories/nfs/"><meta property="og:site_name" content="🏔️  MLOps Journey"><meta property="og:title" content="NFS"><meta property="og:locale" content="ko"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="NFS"><meta name=twitter:description content></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://keonhoban.github.io/mlops-journey/ accesskey=h title="🏔️  MLOps Journey (Alt + H)">🏔️ MLOps Journey</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://keonhoban.github.io/mlops-journey/ title="🏠 Home"><span>🏠 Home</span></a></li><li><a href=https://keonhoban.github.io/mlops-journey/projects/ title="📂 Projects"><span>📂 Projects</span></a></li><li><a href=https://keonhoban.github.io/mlops-journey/posts/ title="📝 Blog"><span>📝 Blog</span></a></li><li><a href=https://keonhoban.github.io/mlops-journey/about/ title="🧗 About"><span>🧗 About</span></a></li><li><a href=https://keonhoban.github.io/mlops-journey/categories/ title="📖 Categories"><span>📖 Categories</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://keonhoban.github.io/mlops-journey/>Home</a>&nbsp;»&nbsp;<a href=https://keonhoban.github.io/mlops-journey/categories/>Categories</a></div><h1>NFS</h1></header><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>[Triton 운영형 서빙 플랫폼 (GitOps · 검증 · Alerting) - 에필로그]</h2></header><div class=entry-content><p>에필로그 — “GitOps 기반 Triton 서빙이 ‘배포→검증→관측→알림’ 루프로 고정되다” 📌 전체 경로 요약 순서 주제 1 🔗 Triton (CPU-only) GitOps 통합: ONNX 1개 서빙 + Prometheus/Grafana 관측 2 🔗 MLflow → Triton 자동 배포 파이프라인 구축 (Airflow · 검증 체인· 최소 롤백) 3 🔗 Alerting 운영 표준 매뉴얼 (Dev/Prod 분리 + Triton Serving Alerts) 🎯 전체 회고 요약 단계 핵심 목표 주요 개선점 1 Triton 서빙 기반 GitOps 분리 · explicit load · 관측 2 배포 자동화 MLflow 단일 소스 · 검증 기반 commit/rollback 3 알람 운영 null default · namespace 라우팅 · latency 알럿 🔄 핵심 문장:
...</p></div><footer class=entry-footer><span title='2026-01-05 11:03:22 +0900 +0900'>January 5, 2026</span>&nbsp;·&nbsp;3 min</footer><a class=entry-link aria-label="post link to [Triton 운영형 서빙 플랫폼 (GitOps · 검증 · Alerting) - 에필로그]" href=https://keonhoban.github.io/mlops-journey/projects/triton/01/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>[Triton 운영형 서빙 플랫폼 (GitOps · 검증 · Alerting) - MLflow → Triton 자동 배포 파이프라인 구축]</h2></header><div class=entry-content><p>Airflow 기반 · 검증 체인 · 최소 롤백 🧠 시나리오 설명 실무 환경에서 모델 배포는
“새 모델을 올리는 작업”이 아니라
“현재 운영 상태를 안전하게 갱신하는 상태 전이(State Transition)”에 가깝습니다.
이번 단계에서는 MLflow Registry를 단일 소스로 삼아
Triton Inference Server에 모델을 자동 배포하고,
로딩 헬스 체크 실제 추론 검증 을 모두 통과한 경우에만 운영 모델을 확정(commit)하며,
중간 단계에서 하나라도 실패하면
이전 운영 상태로 자동 복구되는 최소 롤백 구조를 구현했습니다.
이 모든 흐름은 Airflow DAG를 통해
...</p></div><footer class=entry-footer><span title='2025-12-29 12:02:22 +0900 +0900'>December 29, 2025</span>&nbsp;·&nbsp;4 min</footer><a class=entry-link aria-label="post link to [Triton 운영형 서빙 플랫폼 (GitOps · 검증 · Alerting) - MLflow → Triton 자동 배포 파이프라인 구축]" href=https://keonhoban.github.io/mlops-journey/posts/triton/02/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>[Triton 운영형 서빙 플랫폼 (GitOps · 검증 · Alerting) - Triton 구축]</h2></header><div class=entry-content><p>Triton (CPU-only) GitOps 통합: ONNX 1개 서빙 + Prometheus/Grafana 관측 🧠 시나리오 설명 실무에서 서빙 계층은 곧바로 트래픽과 SLA를 맞는 최전선입니다.
모델이 아무리 좋아도, 서빙이 불안정하면 운영시 바로 무너집니다.
그래서 이번에는 Triton 첫 구축으로 GPU/파이프라인 연동을 일부러 빼고,
Triton 자체를 GitOps로 안정적으로 띄우고, 모델 load→infer→metrics 관측까지 ‘서빙 플랫폼 뼈대 구축’을 진행했습니다.
🎯 핵심 요약 dev/prod 네임스페이스 분리 triton-dev, triton-prod Triton 모델 제어 모드 -model-control-mode=explicit 필요 시에만 load/unload로 운영 제어 가능 Model Repository NFS(RWX) 기반 PVC로 /models 마운트 모델 검증 ONNX 1개 simple_model로 load → infer 성공 관측 Triton은 /metrics를 Prometheus 포맷으로 자체 노출 ServiceMonitor로 dev/prod Prometheus에 자동 스크랩 Grafana에서 패널로 증명 가능 GPU 확장 포인트 values에 gpu.enabled 분기 설계 (현재 false → CPU 사용) 완료 기준은 “Triton + GitOps + Observability” 구축입니다.
...</p></div><footer class=entry-footer><span title='2025-12-26 10:08:22 +0900 +0900'>December 26, 2025</span>&nbsp;·&nbsp;4 min</footer><a class=entry-link aria-label="post link to [Triton 운영형 서빙 플랫폼 (GitOps · 검증 · Alerting) - Triton 구축]" href=https://keonhoban.github.io/mlops-journey/posts/triton/01/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>[MLOps 플랫폼 Observability & Data Pipeline - 5단계 : 운영 중 발생한 실제 이슈 & 해결 과정]</h2></header><div class=entry-content><p>운영 중 발생한 실제 이슈 & 해결 과정 🧠 시나리오 설명 “관측·알림·로그 시스템은 세팅보다 운영 이후가 진짜 시작입니다.”
“실운영 환경에서 반드시 마주치는 문제들(div/prod 크로스 스크랩, Alertmanager 충돌, NFS 권한, TSDB 병목 등)을 정리하고
왜 문제가 생겼는지 → 어떻게 해결했는지 → 다시는 반복되지 않도록 구조 자체를 잡아주는 단계입니다.”
🎯 핵심 요약 dev/prod 크로스 스크랩 문제 정리 Alertmanager configSecret / generated-secret 충돌 Instant Query 오류(log queries are not supported) 원리 worker2 종료 지연(30~40초) tmp-curl CrashLoopBackOff NFS Flush / Permission / fsGroup 문제 SealedSecret namespace mismatch Prometheus TSDB → local-path 전환 시 발생 가능한 이슈 “문제 → 원인 → 해결 → 재발 방지” 구조로 정리 1️⃣ dev/prod Cross-Scrape 문제 🧩 증상 monitoring-dev Prometheus에서 monitoring-prod 메트릭까지 보여서
...</p></div><footer class=entry-footer><span title='2025-11-02 17:10:21 +0900 +0900'>November 2, 2025</span>&nbsp;·&nbsp;4 min</footer><a class=entry-link aria-label="post link to [MLOps 플랫폼 Observability & Data Pipeline - 5단계 : 운영 중 발생한 실제 이슈 & 해결 과정]" href=https://keonhoban.github.io/mlops-journey/posts/mlops-platform-observability/05/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>[MLOps 플랫폼 Observability & Data Pipeline - 4단계 : Loki/Promtail 로그 파이프라인 구축]</h2></header><div class=entry-content><p>Loki/Promtail 로그 파이프라인 구축 🧠 시나리오 설명 “운영형 MLOps에서 가장 위험한 장애는 모델이 아닌 로그가 안 보이는 순간입니다.”
“FastAPI·MLflow·Airflow가 모두 돌아가도, 로그가 한 번 섞이거나 누락되면
장애 원인을 찾지 못해 운영 자체가 멈춰버립니다.”
“그래서 이번 단계에서는 dev/prod를 완전히 분리한
Loki + Promtail 로그 파이프라인을 구축해,
모델 핫스왑·에러 패턴·API 이상 징후까지 한눈에 보이도록 만들었습니다.”
🎯 핵심 요약 로그 파이프라인 전체 구성
Promtail → Loki → Grafana(LogQL) dev/prod 모두 완전 분리 Ingress + TLS + GitOps 자동 적용
...</p></div><footer class=entry-footer><span title='2025-10-27 17:10:21 +0900 +0900'>October 27, 2025</span>&nbsp;·&nbsp;4 min</footer><a class=entry-link aria-label="post link to [MLOps 플랫폼 Observability & Data Pipeline - 4단계 : Loki/Promtail 로그 파이프라인 구축]" href=https://keonhoban.github.io/mlops-journey/posts/mlops-platform-observability/04/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>[MLOps 플랫폼 Observability & Data Pipeline - 3단계 : Prometheus/KSM/Kubelet 완전 분리 구조]</h2></header><div class=entry-content><p>Prometheus/KSM/Kubelet 완전 분리 구조 🧠 시나리오 설명 “dev와 prod는 분리돼 있어야 하는데,
정작 관측 데이터에서는 서로 섞여 보이는 문제가 계속 생겼습니다.”
“Prometheus/KSM/Kubelet의 라벨과 셀렉터가 조금만 어긋나도
dev에서 prod 메트릭을 읽는 심각한 혼선이 발생하기 때문에,
이번 단계에서는 관측 스택을 라벨 기반으로 완전히 절단하는 데 집중했습니다.”
“그리고 TSDB는 로컬 디스크로 옮겨 속도·안정성을 끌어올리고,
NFS는 나머지 관측 도구 전용으로 재정비하여
이후 Loki·Alertmanager 통합 기반의 Observability 전체 구조를 안정적으로 받칠 수 있도록 만들었습니다.”
🎯 핵심 요약 문제 prometheus-dev.local에서 airflow-prod, fastapi-prod 메트릭이 섞여서 나옴 kube-state-metrics / kubelet(cAdvisor) / ServiceMonitor 라벨이 꼬여 dev↔prod 교차 수집 NFS 기반 Prometheus TSDB로 worker2 종료 지연 + I/O 부담 체감 목표 dev/prod 메트릭 수집 완전 분리 Prometheus TSDB를 local-path로 전환(속도·안정성 개선) NFS는 관측 도구(Grafana/Alertmanager/로그 등)에만 사용 결론 라벨/selector/metricRelabelings 정리만 해도 dev/prod가 깨끗이 분리됨
...</p></div><footer class=entry-footer><span title='2025-10-22 17:10:21 +0900 +0900'>October 22, 2025</span>&nbsp;·&nbsp;6 min</footer><a class=entry-link aria-label="post link to [MLOps 플랫폼 Observability & Data Pipeline - 3단계 : Prometheus/KSM/Kubelet 완전 분리 구조]" href=https://keonhoban.github.io/mlops-journey/posts/mlops-platform-observability/03/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>[MLOps 플랫폼 Observability & Data Pipeline - 2단계 : Alertmanager Slack & 트러블슈팅]</h2></header><div class=entry-content><p>Alertmanager Slack & 트러블슈팅 🧠 시나리오 설명 “모델이 잘 학습되고 잘 배포되는 것보다
문제가 생겼을 때 즉시 감지되는 것이 더 중요할 때가 많습니다.”
“그래서 이번 단계에서는 dev/prod 각각에서 알람이
정확한 Slack 채널로, 깨짐 없이 흐르는 관측 파이프라인을 먼저 완성했습니다.”
“이 기반이 갖춰져야 이후 FastAPI 지연, 핫스왑 실패, DAG 에러 같은
운영형 MLOps 이벤트를 실시간으로 감지할 수 있기 때문입니다.”
🎯 핵심 요약 목표
Prometheus → Alertmanager → Slack 경로를
dev/prod 완전히 분리된 상태로,
...</p></div><footer class=entry-footer><span title='2025-10-18 17:10:21 +0900 +0900'>October 18, 2025</span>&nbsp;·&nbsp;7 min</footer><a class=entry-link aria-label="post link to [MLOps 플랫폼 Observability & Data Pipeline - 2단계 : Alertmanager Slack & 트러블슈팅]" href=https://keonhoban.github.io/mlops-journey/posts/mlops-platform-observability/02/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>[MLOps 플랫폼 Observability & Data Pipeline - 1단계 : kube-prometheus-stack + GitOps 구축]</h2></header><div class=entry-content><p>kube-prometheus-stack + GitOps 구축 🧠 시나리오 설명 “모니터링은 한 번 세팅해두고 끝나는 게 아니라,
클러스터를 갈아엎어도 같은 모습으로 다시 살아나야 하는 인프라입니다.”
“그래서 이번 단계에서는 kube-prometheus-stack을 dev/prod로 완전히 분리하고,
모든 구성을 YAML + GitOps로 고정해서
Observability 스택을 재현할 수 있는 뼈대를 먼저 만들었습니다.”
🎯 핵심 요약 목표
monitoring-dev / monitoring-prod Observability 스택을 YAML + GitOps만으로 그대로 재현할 수 있는 상태 만들기 구성 요소
kube-prometheus-stack 65.5.0 (Prometheus + Alertmanager + Grafana) nfs-monitoring StorageClass (NFS 기반 동적 프로비저닝) nginx-ingress 기반 HTTPS Ingress ArgoCD Application 2개 (monitoring-dev, monitoring-prod) 보안/운영 포인트
...</p></div><footer class=entry-footer><span title='2025-10-14 17:10:21 +0900 +0900'>October 14, 2025</span>&nbsp;·&nbsp;6 min</footer><a class=entry-link aria-label="post link to [MLOps 플랫폼 Observability & Data Pipeline - 1단계 : kube-prometheus-stack + GitOps 구축]" href=https://keonhoban.github.io/mlops-journey/posts/mlops-platform-observability/01/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>[MLOps 운영 고도화 - 4단계: FastAPI 로그 안정화 (NFS + PV/PVC + Loguru)]</h2></header><div class=entry-content><p>FastAPI 앱 전면 개편: A/B · Canary · Blue-Green 서빙 베이스 🧠 시나리오 설명 “운영 환경에서 모델은 언제든 교체될 수 있고,
그 순간이 서비스 품질이 가장 크게 흔들리는 위험 구간입니다.”
“그래서 이번 단계에서는 이후 모든 자동화(학습·등록·핫스왑·롤백)의 기반이 되는
A/B · Canary · Blue-Green 전략을 모두 처리할 수 있는 FastAPI 서빙 구조부터 잡았습니다.”
“이 뼈대가 완성돼야 Airflow, MLflow, ArgoCD와 연결된
**진짜 ‘운영형 MLOps 파이프라인’**을 만들 수 있기 때문입니다.”
🎯 핵심 요약 전환 기준 = MLflow Alias(@A/@B)
...</p></div><footer class=entry-footer><span title='2025-08-08 17:10:21 +0900 +0900'>August 8, 2025</span>&nbsp;·&nbsp;5 min</footer><a class=entry-link aria-label="post link to [MLOps 운영 고도화 - 4단계: FastAPI 로그 안정화 (NFS + PV/PVC + Loguru)]" href=https://keonhoban.github.io/mlops-journey/posts/mlops-platform-gitops/05/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>[MLOps 플랫폼 구축 : Airflow-MLflow-FastAPI (Helm)]</h2></header><div class=entry-content><p>🧩 실전 시나리오 기반 구성 배경 이 프로젝트는 단순 실습을 넘어서, 실제 발생하는 다음과 같은 문제들을 해결하기 위한 MLOps 인프라 구축을 목표로 설계되었습니다.
여러 모델 실험 결과가 뒤섞여 추적이 어려운 문제
→ MLflow Tracking 서버 + PostgreSQL 메타데이터 저장소 구성
모델 파일 및 로그가 로컬에만 저장되어 협업 및 재현성이 떨어지는 문제
→ S3 기반 artifact store 구성 + pyfunc 기반 모델 서빙 구조 설계
수작업 DAG 등록, 모델 배포 등의 비효율적 운영 문제
→ Airflow + GitSync 연동으로 파이프라인 자동화 및 버전 관리 가능
...</p></div><footer class=entry-footer><span title='2025-07-15 17:55:05 +0900 +0900'>July 15, 2025</span>&nbsp;·&nbsp;3 min</footer><a class=entry-link aria-label="post link to [MLOps 플랫폼 구축 : Airflow-MLflow-FastAPI (Helm)]" href=https://keonhoban.github.io/mlops-journey/projects/mlops_pipeline/helm/></a></article><footer class=page-footer><nav class=pagination><a class=next href=https://keonhoban.github.io/mlops-journey/categories/nfs/page/2/>Next&nbsp;&nbsp;»</a></nav></footer></main><footer class=footer><p style=margin-top:1rem>© 2025 Keonho Ban | <a href=https://github.com/keonhoban target=_blank>GitHub</a> | <a href=mailto:keonho0510@naver.com>Email</a></p></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>