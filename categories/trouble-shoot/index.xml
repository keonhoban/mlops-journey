<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/"><channel><title>Trouble Shoot on ğŸ”ï¸ MLOps Journey</title><link>https://keonhoban.github.io/mlops-journey/categories/trouble-shoot/</link><description>Recent content in Trouble Shoot on ğŸ”ï¸ MLOps Journey</description><generator>Hugo -- 0.145.0</generator><language>ko</language><lastBuildDate>Sun, 02 Nov 2025 17:10:21 +0900</lastBuildDate><atom:link href="https://keonhoban.github.io/mlops-journey/categories/trouble-shoot/index.xml" rel="self" type="application/rss+xml"/><item><title>[MLOps í”Œë«í¼ Observability &amp; Data Pipeline - 5ë‹¨ê³„ : ìš´ì˜ ì¤‘ ë°œìƒí•œ ì‹¤ì œ ì´ìŠˆ &amp; í•´ê²° ê³¼ì •]</title><link>https://keonhoban.github.io/mlops-journey/posts/mlops-platform-observability/05/</link><pubDate>Sun, 02 Nov 2025 17:10:21 +0900</pubDate><guid>https://keonhoban.github.io/mlops-journey/posts/mlops-platform-observability/05/</guid><description>&lt;h2 id="ìš´ì˜-ì¤‘-ë°œìƒí•œ-ì‹¤ì œ-ì´ìŠˆ--í•´ê²°-ê³¼ì •">ìš´ì˜ ì¤‘ ë°œìƒí•œ ì‹¤ì œ ì´ìŠˆ &amp;amp; í•´ê²° ê³¼ì •&lt;/h2>
&lt;hr>
&lt;h1 id="-ì‹œë‚˜ë¦¬ì˜¤-ì„¤ëª…">ğŸ§  ì‹œë‚˜ë¦¬ì˜¤ ì„¤ëª…&lt;/h1>
&lt;blockquote>
&lt;p>â€œê´€ì¸¡Â·ì•Œë¦¼Â·ë¡œê·¸ ì‹œìŠ¤í…œì€ ì„¸íŒ…ë³´ë‹¤ ìš´ì˜ ì´í›„ê°€ ì§„ì§œ ì‹œì‘ì…ë‹ˆë‹¤.â€&lt;/p>
&lt;p>â€œì‹¤ìš´ì˜ í™˜ê²½ì—ì„œ ë°˜ë“œì‹œ ë§ˆì£¼ì¹˜ëŠ” ë¬¸ì œë“¤(div/prod í¬ë¡œìŠ¤ ìŠ¤í¬ë©, Alertmanager ì¶©ëŒ, NFS ê¶Œí•œ, TSDB ë³‘ëª© ë“±)ì„ ì •ë¦¬í•˜ê³ &lt;/p>
&lt;p>&lt;strong>ì™œ ë¬¸ì œê°€ ìƒê²¼ëŠ”ì§€ â†’ ì–´ë–»ê²Œ í•´ê²°í–ˆëŠ”ì§€ â†’ ë‹¤ì‹œëŠ” ë°˜ë³µë˜ì§€ ì•Šë„ë¡&lt;/strong> êµ¬ì¡° ìì²´ë¥¼ ì¡ì•„ì£¼ëŠ” ë‹¨ê³„ì…ë‹ˆë‹¤.â€&lt;/p>&lt;/blockquote>
&lt;hr>
&lt;h2 id="-í•µì‹¬-ìš”ì•½">ğŸ¯ í•µì‹¬ ìš”ì•½&lt;/h2>
&lt;ul>
&lt;li>dev/prod &lt;strong>í¬ë¡œìŠ¤ ìŠ¤í¬ë© ë¬¸ì œ&lt;/strong> ì •ë¦¬&lt;/li>
&lt;li>Alertmanager configSecret / generated-secret ì¶©ëŒ&lt;/li>
&lt;li>Instant Query ì˜¤ë¥˜(&lt;code>log queries are not supported&lt;/code>) ì›ë¦¬&lt;/li>
&lt;li>worker2 ì¢…ë£Œ ì§€ì—°(30~40ì´ˆ)&lt;/li>
&lt;li>tmp-curl CrashLoopBackOff&lt;/li>
&lt;li>NFS Flush / Permission / fsGroup ë¬¸ì œ&lt;/li>
&lt;li>SealedSecret namespace mismatch&lt;/li>
&lt;li>Prometheus TSDB â†’ local-path ì „í™˜ ì‹œ ë°œìƒ ê°€ëŠ¥í•œ ì´ìŠˆ&lt;/li>
&lt;li>&lt;strong>â€œë¬¸ì œ â†’ ì›ì¸ â†’ í•´ê²° â†’ ì¬ë°œ ë°©ì§€â€ êµ¬ì¡°ë¡œ ì •ë¦¬&lt;/strong>&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="1-devprod-cross-scrape-ë¬¸ì œ">1ï¸âƒ£ dev/prod Cross-Scrape ë¬¸ì œ&lt;/h2>
&lt;h3 id="-ì¦ìƒ">ğŸ§© ì¦ìƒ&lt;/h3>
&lt;p>&lt;code>monitoring-dev&lt;/code> Prometheusì—ì„œ &lt;code>monitoring-prod&lt;/code> ë©”íŠ¸ë¦­ê¹Œì§€ ë³´ì—¬ì„œ&lt;/p></description></item><item><title>[MLOps í”Œë«í¼ Observability &amp; Data Pipeline - 2ë‹¨ê³„ : Alertmanager Slack &amp; íŠ¸ëŸ¬ë¸”ìŠˆíŒ…]</title><link>https://keonhoban.github.io/mlops-journey/posts/mlops-platform-observability/02/</link><pubDate>Sat, 18 Oct 2025 17:10:21 +0900</pubDate><guid>https://keonhoban.github.io/mlops-journey/posts/mlops-platform-observability/02/</guid><description>&lt;h2 id="alertmanager-slack--íŠ¸ëŸ¬ë¸”ìŠˆíŒ…">Alertmanager Slack &amp;amp; íŠ¸ëŸ¬ë¸”ìŠˆíŒ…&lt;/h2>
&lt;hr>
&lt;h2 id="-ì‹œë‚˜ë¦¬ì˜¤-ì„¤ëª…">ğŸ§  ì‹œë‚˜ë¦¬ì˜¤ ì„¤ëª…&lt;/h2>
&lt;blockquote>
&lt;p>â€œëª¨ë¸ì´ ì˜ í•™ìŠµë˜ê³  ì˜ ë°°í¬ë˜ëŠ” ê²ƒë³´ë‹¤&lt;/p>
&lt;p>&lt;strong>ë¬¸ì œê°€ ìƒê²¼ì„ ë•Œ ì¦‰ì‹œ ê°ì§€ë˜ëŠ” ê²ƒ&lt;/strong>ì´ ë” ì¤‘ìš”í•  ë•Œê°€ ë§ìŠµë‹ˆë‹¤.â€&lt;/p>
&lt;p>â€œê·¸ë˜ì„œ ì´ë²ˆ ë‹¨ê³„ì—ì„œëŠ” dev/prod ê°ê°ì—ì„œ ì•ŒëŒì´&lt;/p>
&lt;p>&lt;strong>ì •í™•í•œ Slack ì±„ë„ë¡œ, ê¹¨ì§ ì—†ì´ íë¥´ëŠ” ê´€ì¸¡ íŒŒì´í”„ë¼ì¸&lt;/strong>ì„ ë¨¼ì € ì™„ì„±í–ˆìŠµë‹ˆë‹¤.â€&lt;/p>
&lt;p>â€œì´ ê¸°ë°˜ì´ ê°–ì¶°ì ¸ì•¼ ì´í›„ FastAPI ì§€ì—°, í•«ìŠ¤ì™‘ ì‹¤íŒ¨, DAG ì—ëŸ¬ ê°™ì€&lt;/p>
&lt;p>ìš´ì˜í˜• MLOps ì´ë²¤íŠ¸ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ê°ì§€í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.â€&lt;/p>&lt;/blockquote>
&lt;hr>
&lt;h3 id="-í•µì‹¬-ìš”ì•½">ğŸ¯ í•µì‹¬ ìš”ì•½&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>&lt;strong>ëª©í‘œ&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;code>Prometheus â†’ Alertmanager â†’ Slack&lt;/code> ê²½ë¡œë¥¼&lt;/p>
&lt;p>dev/prod ì™„ì „íˆ ë¶„ë¦¬ëœ ìƒíƒœë¡œ,&lt;/p></description></item><item><title>[TS] Airflow ê¸°ì´ˆ ìë™í™” - Airflow â†’ MLflow â†’ FastAPI</title><link>https://keonhoban.github.io/mlops-journey/posts/troubleshoot/01/</link><pubDate>Fri, 13 Jun 2025 21:06:20 +0900</pubDate><guid>https://keonhoban.github.io/mlops-journey/posts/troubleshoot/01/</guid><description>&lt;blockquote>
&lt;p>Airflow + MLflow ì—°ë™ ì‹¤ìŠµ ì¤‘ ë°œìƒí•œ ì‹¤ì „ ì—ëŸ¬ ì •ë¦¬&lt;/p>
&lt;p>ë°œìƒ ì›ì¸ ë¶„ì„ + ì¦‰ì‹œ ì ìš© ê°€ëŠ¥í•œ í•´ê²° ë°©ë²•ê¹Œì§€ í¬í•¨&lt;/p>&lt;/blockquote>
&lt;hr>
&lt;h2 id="-ë°°ê²½">ğŸ§© ë°°ê²½&lt;/h2>
&lt;ul>
&lt;li>Airflow DAG ë‚´ë¶€ì—ì„œ &lt;code>mlflow.sklearn.log_model()&lt;/code> í˜¸ì¶œ&lt;/li>
&lt;li>ì‹¤í—˜ ìë™ ë“±ë¡ ë° Model Registry ì—°ë™ ì‹œë„&lt;/li>
&lt;/ul>
&lt;hr>
&lt;h2 id="-ì—ëŸ¬-1-permissionerror-errno-13-permission-denied-mlflow">ğŸ”¥ ì—ëŸ¬ 1. PermissionError: [Errno 13] Permission denied: &amp;lsquo;/mlflow&amp;rsquo;&lt;/h2>
&lt;h3 id="-ì›ì¸-ë¶„ì„">ğŸ§  ì›ì¸ ë¶„ì„&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>ì¦ìƒ&lt;/th>
&lt;th>ì›ì¸&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>/mlflow&lt;/code> ê²½ë¡œ ì ‘ê·¼ ì‹¤íŒ¨&lt;/td>
&lt;td>Airflow ì»¨í…Œì´ë„ˆì— mountë˜ì§€ ì•ŠìŒ&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mlruns&lt;/code> ì“°ê¸° ì‹¤íŒ¨&lt;/td>
&lt;td>ê³µìœ  ë³¼ë¥¨ ëˆ„ë½ â†’ ì“°ê¸° ê¶Œí•œ ì—†ìŒ&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ì‹¤í—˜ ìƒì„± ì‹¤íŒ¨&lt;/td>
&lt;td>artifact ì €ì¥ì†Œ ì§€ì • ì‹¤íŒ¨&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="-í•´ê²°-ë°©ë²•">âœ… í•´ê²° ë°©ë²•&lt;/h3>
&lt;ol>
&lt;li>&lt;strong>Airflow ì»¨í…Œì´ë„ˆì— ê³µìœ  ë³¼ë¥¨ ì¶”ê°€&lt;/strong>&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">volumes&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">./mlflow:/mlflow&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - &lt;span style="color:#ae81ff">./mlruns:/mlflow/mlruns&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol>
&lt;li>&lt;strong>ì´ˆê¸° ì‹¤í—˜ ìˆ˜ë™ ìƒì„± ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰&lt;/strong>&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># init_experiments.py&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">from&lt;/span> mlflow.tracking &lt;span style="color:#f92672">import&lt;/span> MlflowClient
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>mlflow&lt;span style="color:#f92672">.&lt;/span>set_tracking_uri(&lt;span style="color:#e6db74">&amp;#34;http://localhost:5000&amp;#34;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>client &lt;span style="color:#f92672">=&lt;/span> MlflowClient()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">if&lt;/span> &lt;span style="color:#f92672">not&lt;/span> client&lt;span style="color:#f92672">.&lt;/span>get_experiment_by_name(&lt;span style="color:#e6db74">&amp;#34;Iris_Model_Registry_Go&amp;#34;&lt;/span>):
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> client&lt;span style="color:#f92672">.&lt;/span>create_experiment(
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> name&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;Iris_Model_Registry_Go&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> artifact_location&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;file:///mlflow/mlruns/Iris_Model_Registry_Go&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> )
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>docker exec -it airflow_mlflow_1 python3 /mlflow/init_experiments.py
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ol>
&lt;li>&lt;strong>Airflow DAG ë‚´ì—ì„œ ë™ì¼í•œ ì´ë¦„ ì§€ì •&lt;/strong>&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>mlflow&lt;span style="color:#f92672">.&lt;/span>set_experiment(&lt;span style="color:#e6db74">&amp;#34;Iris_Model_Registry_Go&amp;#34;&lt;/span>)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;hr>
&lt;h2 id="-ì—ëŸ¬-2-404-not-found-on-api20mlflowlogged-models">ğŸ’¥ ì—ëŸ¬ 2. 404 Not Found on /api/2.0/mlflow/logged-models&lt;/h2>
&lt;h3 id="-ì›ì¸-ë¶„ì„-1">ğŸ§  ì›ì¸ ë¶„ì„&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>í•µì‹¬ ë¬¸ì œ&lt;/th>
&lt;th>ìƒì„¸ ì„¤ëª…&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Model Registry API ë¯¸íƒ‘ì¬&lt;/td>
&lt;td>&lt;code>mlflow ui&lt;/code> ë˜ëŠ” &lt;code>mlflow server&lt;/code>ì˜ ì˜µì…˜ ëˆ„ë½&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>/logged-models&lt;/code> ê²½ë¡œ ì—†ìŒ&lt;/td>
&lt;td>ê¸°ë³¸ ì‹¤í–‰ ì‹œì—ëŠ” Registry ê´€ë ¨ APIê°€ ë¹„í™œì„±í™”&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="-í•´ê²°-ë°©ë²•-1">âœ… í•´ê²° ë°©ë²•&lt;/h3>
&lt;ul>
&lt;li>&lt;strong>ì •ìƒ ì‘ë™ ì¡°ê±´&lt;/strong>:&lt;/li>
&lt;/ul>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>ì‹¤í–‰ ë°©ì‹&lt;/th>
&lt;th>Registry API&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>mlflow ui&lt;/code>&lt;/td>
&lt;td>âŒ ì—†ìŒ&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mlflow server&lt;/code>&lt;/td>
&lt;td>âš ï¸ ì¼ë¶€ ì—†ìŒ&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mlflow server --serve-artifacts&lt;/code>&lt;/td>
&lt;td>âœ… ëª¨ë‘ í™œì„±í™”&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>mlflow[extras]&lt;/code> íŒ¨í‚¤ì§€&lt;/td>
&lt;td>âœ… ì»¤ìŠ¤í…€ ì´ë¯¸ì§€ ì‚¬ìš© í•„ìš”&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>ğŸ“Œ &lt;strong>Dockerfile.mlflow ì˜ˆì‹œ&lt;/strong> (ì»¤ìŠ¤í…€ êµ¬ì„±)&lt;/p></description></item></channel></rss>