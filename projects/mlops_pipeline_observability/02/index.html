<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>[MLOps í”Œë«í¼ Observability & Data Pipeline - ê²€ì¦] | ğŸ”ï¸ MLOps Journey</title>
<meta name=keywords content><meta name=description content="ğŸ§­ ëª©ì°¨

  
      
          êµ¬ë¶„
          ì¦ëª… í¬ì¸íŠ¸
      
  
  
      
          A. Observability
          ë©”íŠ¸ë¦­Â·ë¡œê·¸Â·ì•ŒëŒ dev/prod ì™„ì „ ë¶„ë¦¬
      
      
          B. FastAPI & Platform Observability
          FastAPI + Platform ëŒ€ì‹œë³´ë“œ ì •ìƒ ë™ì‘
      
      
          C. Data Pipeline
          Rawâ†’Feature ETL ìë™ ì‹¤í–‰ ì„±ê³µ
      
      
          D. Data Pipeline Advanced
          ë²„ì „Â·ìŠ¤í‚¤ë§ˆÂ·ë©”íƒ€ë°ì´í„°Â·ê´€ì¸¡ ë“± ìš´ì˜í˜• êµ¬ì¡°
      
  


A. Observability ê³„ì¸µ
Observability ê³„ì¸µ(ëª¨ë‹ˆí„°ë§ + ë¡œê·¸ ìˆ˜ì§‘ + ì•ŒëŒ)ì´
GitOps ê¸°ë°˜ìœ¼ë¡œ dev/prod ì™„ì „ ë¶„ë¦¬ + ìë™í™” ë˜ì–´ ìˆìŒì„ ì¦ëª…í•©ë‹ˆë‹¤.

1ï¸âƒ£ ArgoCD Applications (GitOps ê¸°ë°˜ êµ¬ì„±)
âœ” 1-1. CLIë¡œ ì „ì²´ Application ìƒíƒœ í™•ì¸
kubectl -n argocd get applications
"><meta name=author content><link rel=canonical href=https://keonhoban.github.io/mlops-journey/projects/mlops_pipeline_observability/02/><link crossorigin=anonymous href=/mlops-journey/assets/css/stylesheet.f49d66caae9ea0fd43f21f29e71a8d3e284517ed770f2aa86fa012953ad3c9ef.css integrity="sha256-9J1myq6eoP1D8h8p5xqNPihFF+13Dyqob6ASlTrTye8=" rel="preload stylesheet" as=style><link rel=icon href=https://keonhoban.github.io/mlops-journey/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://keonhoban.github.io/mlops-journey/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://keonhoban.github.io/mlops-journey/favicon-32x32.png><link rel=apple-touch-icon href=https://keonhoban.github.io/mlops-journey/apple-touch-icon.png><link rel=mask-icon href=https://keonhoban.github.io/mlops-journey/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://keonhoban.github.io/mlops-journey/projects/mlops_pipeline_observability/02/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://keonhoban.github.io/mlops-journey/projects/mlops_pipeline_observability/02/"><meta property="og:site_name" content="ğŸ”ï¸  MLOps Journey"><meta property="og:title" content="[MLOps í”Œë«í¼ Observability & Data Pipeline - ê²€ì¦]"><meta property="og:description" content="ğŸ§­ ëª©ì°¨ êµ¬ë¶„ ì¦ëª… í¬ì¸íŠ¸ A. Observability ë©”íŠ¸ë¦­Â·ë¡œê·¸Â·ì•ŒëŒ dev/prod ì™„ì „ ë¶„ë¦¬ B. FastAPI & Platform Observability FastAPI + Platform ëŒ€ì‹œë³´ë“œ ì •ìƒ ë™ì‘ C. Data Pipeline Rawâ†’Feature ETL ìë™ ì‹¤í–‰ ì„±ê³µ D. Data Pipeline Advanced ë²„ì „Â·ìŠ¤í‚¤ë§ˆÂ·ë©”íƒ€ë°ì´í„°Â·ê´€ì¸¡ ë“± ìš´ì˜í˜• êµ¬ì¡° A. Observability ê³„ì¸µ Observability ê³„ì¸µ(ëª¨ë‹ˆí„°ë§ + ë¡œê·¸ ìˆ˜ì§‘ + ì•ŒëŒ)ì´
GitOps ê¸°ë°˜ìœ¼ë¡œ dev/prod ì™„ì „ ë¶„ë¦¬ + ìë™í™” ë˜ì–´ ìˆìŒì„ ì¦ëª…í•©ë‹ˆë‹¤.
1ï¸âƒ£ ArgoCD Applications (GitOps ê¸°ë°˜ êµ¬ì„±) âœ” 1-1. CLIë¡œ ì „ì²´ Application ìƒíƒœ í™•ì¸ kubectl -n argocd get applications "><meta property="og:locale" content="ko"><meta property="og:type" content="article"><meta property="article:section" content="projects"><meta property="article:published_time" content="2025-11-30T02:50:21+09:00"><meta property="article:modified_time" content="2025-11-30T02:50:21+09:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="[MLOps í”Œë«í¼ Observability & Data Pipeline - ê²€ì¦]"><meta name=twitter:description content="ğŸ§­ ëª©ì°¨

  
      
          êµ¬ë¶„
          ì¦ëª… í¬ì¸íŠ¸
      
  
  
      
          A. Observability
          ë©”íŠ¸ë¦­Â·ë¡œê·¸Â·ì•ŒëŒ dev/prod ì™„ì „ ë¶„ë¦¬
      
      
          B. FastAPI & Platform Observability
          FastAPI + Platform ëŒ€ì‹œë³´ë“œ ì •ìƒ ë™ì‘
      
      
          C. Data Pipeline
          Rawâ†’Feature ETL ìë™ ì‹¤í–‰ ì„±ê³µ
      
      
          D. Data Pipeline Advanced
          ë²„ì „Â·ìŠ¤í‚¤ë§ˆÂ·ë©”íƒ€ë°ì´í„°Â·ê´€ì¸¡ ë“± ìš´ì˜í˜• êµ¬ì¡°
      
  


A. Observability ê³„ì¸µ
Observability ê³„ì¸µ(ëª¨ë‹ˆí„°ë§ + ë¡œê·¸ ìˆ˜ì§‘ + ì•ŒëŒ)ì´
GitOps ê¸°ë°˜ìœ¼ë¡œ dev/prod ì™„ì „ ë¶„ë¦¬ + ìë™í™” ë˜ì–´ ìˆìŒì„ ì¦ëª…í•©ë‹ˆë‹¤.

1ï¸âƒ£ ArgoCD Applications (GitOps ê¸°ë°˜ êµ¬ì„±)
âœ” 1-1. CLIë¡œ ì „ì²´ Application ìƒíƒœ í™•ì¸
kubectl -n argocd get applications
"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Projects","item":"https://keonhoban.github.io/mlops-journey/projects/"},{"@type":"ListItem","position":2,"name":"[MLOps í”Œë«í¼ Observability \u0026 Data Pipeline - ê²€ì¦]","item":"https://keonhoban.github.io/mlops-journey/projects/mlops_pipeline_observability/02/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"[MLOps í”Œë«í¼ Observability \u0026 Data Pipeline - ê²€ì¦]","name":"[MLOps í”Œë«í¼ Observability \u0026 Data Pipeline - ê²€ì¦]","description":"ğŸ§­ ëª©ì°¨ êµ¬ë¶„ ì¦ëª… í¬ì¸íŠ¸ A. Observability ë©”íŠ¸ë¦­Â·ë¡œê·¸Â·ì•ŒëŒ dev/prod ì™„ì „ ë¶„ë¦¬ B. FastAPI \u0026amp; Platform Observability FastAPI + Platform ëŒ€ì‹œë³´ë“œ ì •ìƒ ë™ì‘ C. Data Pipeline Rawâ†’Feature ETL ìë™ ì‹¤í–‰ ì„±ê³µ D. Data Pipeline Advanced ë²„ì „Â·ìŠ¤í‚¤ë§ˆÂ·ë©”íƒ€ë°ì´í„°Â·ê´€ì¸¡ ë“± ìš´ì˜í˜• êµ¬ì¡° A. Observability ê³„ì¸µ Observability ê³„ì¸µ(ëª¨ë‹ˆí„°ë§ + ë¡œê·¸ ìˆ˜ì§‘ + ì•ŒëŒ)ì´\nGitOps ê¸°ë°˜ìœ¼ë¡œ dev/prod ì™„ì „ ë¶„ë¦¬ + ìë™í™” ë˜ì–´ ìˆìŒì„ ì¦ëª…í•©ë‹ˆë‹¤.\n1ï¸âƒ£ ArgoCD Applications (GitOps ê¸°ë°˜ êµ¬ì„±) âœ” 1-1. CLIë¡œ ì „ì²´ Application ìƒíƒœ í™•ì¸ kubectl -n argocd get applications ","keywords":[],"articleBody":"ğŸ§­ ëª©ì°¨ êµ¬ë¶„ ì¦ëª… í¬ì¸íŠ¸ A. Observability ë©”íŠ¸ë¦­Â·ë¡œê·¸Â·ì•ŒëŒ dev/prod ì™„ì „ ë¶„ë¦¬ B. FastAPI \u0026 Platform Observability FastAPI + Platform ëŒ€ì‹œë³´ë“œ ì •ìƒ ë™ì‘ C. Data Pipeline Rawâ†’Feature ETL ìë™ ì‹¤í–‰ ì„±ê³µ D. Data Pipeline Advanced ë²„ì „Â·ìŠ¤í‚¤ë§ˆÂ·ë©”íƒ€ë°ì´í„°Â·ê´€ì¸¡ ë“± ìš´ì˜í˜• êµ¬ì¡° A. Observability ê³„ì¸µ Observability ê³„ì¸µ(ëª¨ë‹ˆí„°ë§ + ë¡œê·¸ ìˆ˜ì§‘ + ì•ŒëŒ)ì´\nGitOps ê¸°ë°˜ìœ¼ë¡œ dev/prod ì™„ì „ ë¶„ë¦¬ + ìë™í™” ë˜ì–´ ìˆìŒì„ ì¦ëª…í•©ë‹ˆë‹¤.\n1ï¸âƒ£ ArgoCD Applications (GitOps ê¸°ë°˜ êµ¬ì„±) âœ” 1-1. CLIë¡œ ì „ì²´ Application ìƒíƒœ í™•ì¸ kubectl -n argocd get applications ğŸ“¸ proof-01-01-argocd-all-status-cmd.png\ní™•ì¸ í¬ì¸íŠ¸\nairflow-dev/prod fastapi-dev/prod mlflow-dev/prod monitoring-dev/prod (Prometheus + Grafana + Alertmanager) loki-dev/prod, promtail-dev/prod fastapi-logs-storage-dev/prod metallb-config dev/prod-namespaces, dev/prod-secrets â†’ SYNC STATUS = Synced, HEALTH STATUS = Healthy\nğŸ‘‰ ê²°ë¡ : GitOps ê¸°ì¤€ìœ¼ë¡œ ëª¨ë“  Observability ê´€ë ¨ ì•±ì´\ní•­ìƒ ì •í•© ìƒíƒœ(idempotent) ë¡œ ìœ ì§€ë˜ê³  ìˆìŠµë‹ˆë‹¤.\nâœ” 1-2. ArgoCD UI â€” ì „ì²´ Applications ğŸ“¸ proof-01-02-argocd-all-status.png\ní™•ì¸ í¬ì¸íŠ¸\nê° Applicationì˜ Repository / Revision / Chart ë²„ì „ì´ ëª…í™•íˆ í‘œê¸°\nDestination namespaceê°€ ì—­í• ì— ë§ê²Œ ì •í™•íˆ ë¶„ë¦¬ (dev / prod)\nCreatedAt, LastSynced ë¡œ GitOps ë™ê¸°í™” ìƒíƒœ í™•ì¸ ê°€ëŠ¥\nfastapi / logs-storage / loki / promtail / monitoring ì´\nì„œë¡œ ë‹¤ë¥¸ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¡œ ë°°í¬ë¨\nğŸ‘‰ ê²°ë¡ : ArgoCD UIì—ì„œë„ dev / prod ì™„ì „ ë¶„ë¦¬ GitOps êµ¬ì¡°ê°€ ëª…í™•í•˜ê²Œ ë“œëŸ¬ë‚©ë‹ˆë‹¤.\nâœ” 1-3. ArgoCD UI â€” Observability ê´€ë ¨ ì•±ë§Œ í•„í„°ë§ ğŸ“¸ proof-01-03-argocd-monitoring-observability.png\ní™•ì¸ í¬ì¸íŠ¸\nmonitoring-dev/prod, loki-dev/prod, promtail-dev/prodë§Œ ë”°ë¡œ í•„í„°ë§ Loki / Promtail / Prometheus ëª¨ë‘ Healthy + Synced dev / prod ë„¤ì„ìŠ¤í˜ì´ìŠ¤ê°€ ì™„ì „íˆ ë¶„ë¦¬ëœ ìƒíƒœë¡œ ìš´ì˜ ğŸ‘‰ ê²°ë¡ : Observability ê³„ì¸µ ì „ì²´ê°€ í™˜ê²½ë³„ë¡œ ë…ë¦½ëœ GitOps ê´€ë¦¬ë¥¼ ë°›ëŠ” êµ¬ì¡°ì…ë‹ˆë‹¤.\n2ï¸âƒ£ Prometheus Targets (ë©”íŠ¸ë¦­ ìˆ˜ì§‘ ìƒíƒœ) âœ” 2-1. Prometheus(dev) Targets UI ğŸ“¸ proof-02-01-prometheus-dev-targets.png\ní™•ì¸ í¬ì¸íŠ¸\nmonitoring-dev-kube-promet-prometheus ê°€ ì—¬ëŸ¬ ServiceMonitorë¥¼ ì •ìƒ scrape\nalertmanager, node-exporter, kubelet, prometheus, apiserver,\nkube-state-metrics ì „ë¶€ 1/1 up\nFastAPI dev PodMonitor(fastapi-dev-pm)ì˜ ë©”íŠ¸ë¦­ë„ ì •ìƒ ìˆ˜ì§‘\nëª¨ë“  namespaceê°€ monitoring-dev ë¡œ ì¼ê´€\nğŸ‘‰ ê²°ë¡ : dev í™˜ê²½ì—ì„œ í´ëŸ¬ìŠ¤í„° í•µì‹¬ ì§€í‘œ + FastAPI ì§€í‘œë¥¼ ëª¨ë‘ ì•ˆì •ì ìœ¼ë¡œ ìˆ˜ì§‘í•˜ê³  ìˆìŠµë‹ˆë‹¤.\nâœ” 2-2. Prometheus(prod) Targets UI ğŸ“¸ proof-02-01-prometheus-prod-targets.png\ní™•ì¸ í¬ì¸íŠ¸\nprod í™˜ê²½ì—ì„œë„ devì™€ ë™ì¼ êµ¬ì¡°ì˜ Targetì´ ëª¨ë‘ up fastapi-prod-pm PodMonitor ìˆ˜ì§‘ ì •ìƒ scrape duration ì•ˆì •ì  ëª¨ë“  namespaceê°€ monitoring-prod ë¡œ ê³ ì • ğŸ‘‰ ê²°ë¡ : ìš´ì˜(prod) Prometheus ì¸ìŠ¤í„´ìŠ¤ë„ ì™„ì „íˆ ë¶„ë¦¬ëœ ìƒíƒœë¡œ\në™ì¼í•œ í’ˆì§ˆì˜ ë©”íŠ¸ë¦­ì„ ìˆ˜ì§‘í•˜ê³  ìˆìŠµë‹ˆë‹¤.\nâœ” 2-3. CLI â€” ServiceMonitor \u0026 PodMonitor ëª©ë¡ kubectl -n monitoring-dev get servicemonitor kubectl -n monitoring-dev get podmonitor kubectl -n monitoring-prod get servicemonitor kubectl -n monitoring-prod get podmonitor ğŸ“¸ proof-02-02-prometheus-dev-prod-target-cmd.png\ní™•ì¸ í¬ì¸íŠ¸\ndev / prod ëª¨ë‘ ë™ì¼í•œ ServiceMonitor ì„¸íŠ¸:\ngrafana, alertmanager, apiserver, kubelet, operator, prometheus,\nkube-state-metrics, node-exporter\ndev: fastapi-dev-pm, prod: fastapi-prod-pm PodMonitor ì¡´ì¬\nğŸ‘‰ ê²°ë¡ : Prometheusê°€ dev/prodì—ì„œ FastAPI í¬í•¨ ëª¨ë“  í•µì‹¬ íƒ€ê²Ÿì„ ì•ˆì •ì ìœ¼ë¡œ scrapeí•˜ê³  ìˆìŠµë‹ˆë‹¤.\n3ï¸âƒ£ Prometheus Alerts (ì•ŒëŒ ì •ì˜ ë° ë°œë™) âœ” 3-1. FastAPI Alert Rule ì •ì˜ ğŸ“¸ proof-03-01-prometheus-fastapi-test-alert.png\ní™•ì¸ í¬ì¸íŠ¸\nFastAPIHighErrorRate : 5xx error ë¹„ìœ¨ 5% ì´ˆê³¼ ì‹œ ê²½ê³  FastAPIP95LatencyHigh : p95 latency 500ms ì´ˆê³¼ ì‹œ 10ë¶„ ë™ì•ˆ ê²½ê³  í…ŒìŠ¤íŠ¸ìš© _TEST ê·œì¹™ 2ì¢… ì¡´ì¬ (ì¦‰ì‹œ ë°œë™ìš©) summary / description annotation â†’ ê·¸ëŒ€ë¡œ Slack ë©”ì‹œì§€ ë‚´ìš©ìœ¼ë¡œ ì‚¬ìš© ğŸ‘‰ ê²°ë¡ : ML ì„œë¹™ API ê´€ì ì—ì„œ í•„ìˆ˜ì¸ Error Rate / Latency ê¸°ë°˜ SLO ì•ŒëŒì´ ì™„ë¹„ë˜ì–´ ìˆìŠµë‹ˆë‹¤.\nâœ” 3-2. Prometheus(dev) Alerts â€” ì•ŒëŒ ë°œë™ í™•ì¸ ğŸ“¸ proof-03-02-prometheus-dev-alert.png\ní™•ì¸ í¬ì¸íŠ¸\nFastAPIP95LatencyHigh_TEST ì•ŒëŒì´ FIRING Value, ActiveSince, expr(historgram_quantile) ì •ë³´ê°€ ì •ìƒ í‘œì‹œ Watchdog(vector(1)) ì•ŒëŒë„ í•­ìƒ FIRING ìƒíƒœë¡œ alert íŒŒì´í”„ë¼ì¸ í—¬ìŠ¤ì²´í¬ ğŸ‘‰ ê²°ë¡ : dev Prometheusì—ì„œ Latency ì•ŒëŒ ë¡œì§ì´ ì‹¤ì œë¡œ ë™ì‘í•˜ê³  ìˆìŠµë‹ˆë‹¤.\nâœ” 3-3. Slack(dev) â€” ì•ŒëŒ ìˆ˜ì‹  ğŸ“¸ proof-03-02-prometheus-dev-alert-slack.png\ní™•ì¸ í¬ì¸íŠ¸\n[FIRING][DEV] FastAPIP95LatencyHigh_TEST, Watchdog ë©”ì‹œì§€ ë„ì°© alertname / severity / summary / description / timestamp ê·¸ëŒ€ë¡œ ë§¤í•‘ dev ì±„ë„ë¡œë§Œ ë„ì°© ğŸ‘‰ ê²°ë¡ : Prometheus â†’ Alertmanager â†’ Slack(dev) ì˜ ì—”ë“œíˆ¬ì—”ë“œ ì•ŒëŒ ì²´ì¸ì´ ì •ìƒì…ë‹ˆë‹¤.\nâœ” 3-4. Prometheus(prod) Alerts \u0026 Slack(prod) ğŸ“¸ proof-03-02-prometheus-prod-alert.png\nğŸ“¸ proof-03-02-prometheus-prod-alert-slack.png\ní™•ì¸ í¬ì¸íŠ¸\nprod í™˜ê²½ì—ì„œë„ Watchdog FIRING ìƒíƒœ ìœ ì§€ Alertmanager(prod) â†’ Slack(prod) ì „ìš© ë¼ìš°íŒ… dev ì•ŒëŒì´ prod ì±„ë„ë¡œ ì„ì—¬ ë“¤ì–´ì˜¤ì§€ ì•ŠìŒ ğŸ‘‰ ê²°ë¡ : dev / prod ëª¨ë‘ í™˜ê²½ ë¶„ë¦¬ëœ ì•ŒëŒ ì‹œìŠ¤í…œì„ ê°–ì¶”ê³  ìˆìŠµë‹ˆë‹¤.\n4ï¸âƒ£ Alertmanager Config (dev/prod ë¶„ë¦¬) âœ” 4-1. Alertmanager(dev) ìƒíƒœ ë° ì„¤ì • ğŸ“¸ proof-04-01-alertmanager-dev-status.png\ní™•ì¸ í¬ì¸íŠ¸\ncluster: disabled (single êµ¬ì„±) route.receiver = slack-dev Slack í…œí”Œë¦¿ / ìƒ‰ìƒ / footer / send_resolved=true ì„¤ì • group_wait 30s / group_interval 5m / repeat_interval 12h í–¥í›„ PagerDuty/Telegram/Webex ë¡œ í™•ì¥ ê°€ëŠ¥í•œ êµ¬ì¡° ğŸ‘‰ ê²°ë¡ : dev í™˜ê²½ ì „ìš© Alertmanager êµ¬ì„±ì´ ì•ˆì •ì ìœ¼ë¡œ ë™ì‘ ì¤‘ì…ë‹ˆë‹¤.\nâœ” 4-2. Alertmanager(prod) ìƒíƒœ ë° ì„¤ì • ğŸ“¸ proof-04-01-alertmanager-prod-status.png\ní™•ì¸ í¬ì¸íŠ¸\nroute.receiver = slack-prod devì™€ ë‹¤ë¥¸ Slack webhook \u0026 í…œí”Œë¦¿ ë™ì¼ rule êµ¬ì¡°ì§€ë§Œ ì™„ì „íˆ ë‹¤ë¥¸ ì•ŒëŒ ë¼ìš°íŒ… ğŸ‘‰ ê²°ë¡ : prod í™˜ê²½ì€ ìš´ì˜ìš© Slack(prod)ë§Œ ì‚¬ìš©í•˜ëŠ” ì•ˆì •ì  ì•ŒëŒ ì±„ë„ì„ ê°–ê³  ìˆìŠµë‹ˆë‹¤.\nâœ” 4-3. Alertmanager Secret YAML(dev/prod) ğŸ“¸ proof-04-02-alertmanager-dev-secret-cmd.png\nğŸ“¸ proof-04-02-alertmanager-prod-secret-cmd.png\ní™•ì¸ í¬ì¸íŠ¸\ndev : alertmanager-monitoring-dev-kube-promet-alertmanager prod : alertmanager-monitoring-prod-kube-prome-alertmanager type: Opaque, namespace dev/prod ë¶„ë¦¬ ë‚´ë¶€ì— base64 ì¸ì½”ë”©ëœ alertmanager.yaml ì €ì¥ ğŸ‘‰ ê²°ë¡ : Alertmanager ì„¤ì • ê°’ì´ ì¿ ë²„ë„¤í‹°ìŠ¤ Secretìœ¼ë¡œ ì•ˆì „í•˜ê²Œ ê´€ë¦¬ë˜ê³  ìˆìŠµë‹ˆë‹¤.\nâœ” 4-4. Alertmanager Alerts í˜ì´ì§€(dev/prod) ğŸ“¸ proof-04-03-alertmanager-dev-alerts.png\nğŸ“¸ proof-04-03-alertmanager-prod-alerts.png\ní™•ì¸ í¬ì¸íŠ¸\ndev: slack-dev ê·¸ë£¹ì— FastAPIP95LatencyHigh_TEST, Watchdog í‘œì‹œ prod: slack-prod ê·¸ë£¹ì— Watchdog 1ê±´ FIRING severity, source, ì‹œì‘ì‹œê°„, ë¼ë²¨ì´ ê·¸ëŒ€ë¡œ í‘œì‹œë¨ ğŸ‘‰ ê²°ë¡ : ë‘ í™˜ê²½ ëª¨ë‘ Alertmanager ë ˆë²¨ì—ì„œë„ ê·¸ë£¹Â·ë¼ìš°íŒ…ì´ ì •í™•íˆ ë¶„ë¦¬ë©ë‹ˆë‹¤.\n5ï¸âƒ£ Loki ë¡œê·¸ (FastAPI ë¡œê·¸ ìˆ˜ì§‘) âœ” 5-1. Grafana Explore â€” FastAPI(dev) ë¡œê·¸ ì¿¼ë¦¬:\n{namespace=\"fastapi-dev\"} ğŸ“¸ proof-05-01-grafana-dev-explore-fastapi-dev.png\ní™•ì¸ í¬ì¸íŠ¸\nGET /metrics, /health, /predict ë¡œê·¸ ì—°ì† ì¶œë ¥ service_name=fastapi-dev, container=fastapi ë¼ë²¨ ì •ìƒ JSON prettify ì‹œì—ë„ íŒŒì‹± ì˜¤ë¥˜ ì—†ìŒ ğŸ‘‰ ê²°ë¡ : FastAPI(dev) â†’ Promtail â†’ Loki â†’ Grafana ë¡œê·¸ íŒŒì´í”„ë¼ì¸ì´ ì˜¨ì „íˆ ì‘ë™í•©ë‹ˆë‹¤.\nâœ” 5-2. Grafana Explore â€” FastAPI(prod) ë¡œê·¸ {namespace=\"fastapi-prod\"} ğŸ“¸ proof-05-01-grafana-prod-explore-fastapi-prod.png\ní™•ì¸ í¬ì¸íŠ¸\ndevì™€ ë¶„ë¦¬ëœ log stream Node / Pod ë¼ë²¨ì´ prod ê¸°ì¤€ìœ¼ë¡œ ë³„ë„ ìˆ˜ì§‘ ë¡œê·¸ ìˆ˜ì§‘ëŸ‰ì´ devì™€ ë…ë¦½ì ìœ¼ë¡œ ëˆ„ì  ğŸ‘‰ ê²°ë¡ : prod í™˜ê²½ì—ì„œë„ FastAPI ë¡œê·¸ê°€ ì™„ì „íˆ ë¶„ë¦¬ëœ Loki ì¸ìŠ¤í„´ìŠ¤ë¡œ ìˆ˜ì§‘ë©ë‹ˆë‹¤.\nâœ” 5-3. Loki Pod ë¡œê·¸(dev/prod) # dev kubectl get pod -n observability-dev kubectl -n observability-dev logs loki-dev-0 | head # prod kubectl get pod -n observability-prod kubectl -n observability-prod logs loki-prod-0 | head ğŸ“¸ proof-05-02-loki-dev-logs-cmd.png\nğŸ“¸ proof-05-02-loki-prod-logs-cmd.png\ní™•ì¸ í¬ì¸íŠ¸\nLoki ë²„ì „/ë¦¬ë¹„ì „ í‘œê¸°, config load ì •ìƒ server listening on addresses ë¡œê·¸ë¡œ HTTP/gRPC í¬íŠ¸ í™œì„±í™” í™•ì¸ TSDB index table ë¡œë”© ë©”ì‹œì§€ ì •ìƒ ğŸ‘‰ ê²°ë¡ : dev / prod Loki ì¸ìŠ¤í„´ìŠ¤ ëª¨ë‘ ì •ìƒ ë¶€íŒ… ë° ìŠ¤í† ë¦¬ì§€ ì´ˆê¸°í™”ë¥¼ ì™„ë£Œí•©ë‹ˆë‹¤.\n6ï¸âƒ£ Slack ì•ŒëŒ Smoke í…ŒìŠ¤íŠ¸ (ì•ŒëŒ ì²´ì¸ E2E ê²€ì¦) âœ” 6-1. Smoke Alert PrometheusRule ìƒì„± cat \u003c\u003c'EOF' | kubectl -n monitoring-dev apply -f - apiVersion: monitoring.coreos.com/v1 kind: PrometheusRule metadata: name: alertmanager-smoke labels: release: monitoring-dev spec: groups: - name: smoke.rules rules: - alert: Smoke_Alert_To_Slack expr: vector(1) for: 1m labels: severity: warning namespace: monitoring-dev annotations: summary: \"Smoke test alert\" description: \"This is a test alert to verify Slack integration\" EOF ğŸ“¸ proof-06-01-smoke-prometheusRule-dev.png\nğŸ‘‰ ê²°ë¡ : í•­ìƒ trueì¸ vector(1) ê¸°ë°˜ìœ¼ë¡œ, í•­ìƒ Firing ìƒíƒœê°€ ìœ ì§€ë˜ëŠ” Smoke Alertë¥¼ ì •ì˜í–ˆìŠµë‹ˆë‹¤.\nâœ” 6-2. Prometheus Alertsì—ì„œ Smoke Alert FIRING ğŸ“¸ proof-06-02-prometheus-dev-alerts-smoke.png\ní™•ì¸ í¬ì¸íŠ¸\nalertname: Smoke_Alert_To_Slack expr: vector(1) labels: namespace=monitoring-dev, severity=warning State = FIRING, Value = 1 âœ” 6-3. Alertmanager ê·¸ë£¹ â€” slack-dev ë¼ìš°íŒ… ğŸ“¸ proof-06-03-alertmanager-dev-alerts-smoke.png\ní™•ì¸ í¬ì¸íŠ¸\nê·¸ë£¹ëª…: slack-dev Smoke_Alert_To_Slack, FastAPIP95LatencyHigh_TEST, Watchdog ê°€ ê°™ì€ ê·¸ë£¹ìœ¼ë¡œ ë¼ìš°íŒ… Alertmanagerê°€ ì—¬ëŸ¬ Alertë¥¼ í•˜ë‚˜ì˜ Slack ì±„ë„ë¡œ ë¬¶ì–´ ì „ì†¡í•˜ëŠ” êµ¬ì¡° âœ” 6-4. Slack #dev ì±„ë„ â€” Smoke Alert ìˆ˜ì‹  ğŸ“¸ proof-06-04-slack-dev-alerts-smoke.png\ní™•ì¸ í¬ì¸íŠ¸\n[FIRING][DEV] Smoke_Alert_To_Slack ë©”ì‹œì§€ ë„ì°© alertname / namespace / severity ë¼ë²¨ ê·¸ëŒ€ë¡œ í‘œì‹œ ê¸°ì¡´ FastAPI í…ŒìŠ¤íŠ¸ ì•ŒëŒë“¤ê³¼ í•¨ê»˜ dev ì±„ë„ì— ìŒ“ì„ âœ” 6-5. Prometheus / Alertmanager API ê²°ê³¼ í™•ì¸ # Prometheus curl -sk https://prometheus-dev.local/api/v1/alerts \\ | jq '.data.alerts[] | select(.labels.alertname==\"Smoke_Alert_To_Slack\") | {state:.state, labels:.labels}' # Alertmanager curl -sk https://alert-dev.local/api/v2/alerts \\ | jq '.[] | select(.labels.alertname==\"Smoke_Alert_To_Slack\") | {status:.status, receiver:.receiver.name}' ğŸ“¸ proof-06-05-prometheus-alertmanager-cmd.png\nê²°ê³¼ ìš”ì•½\nPrometheus: \"state\": \"firing\" Alertmanager: \"status.state\": \"active\", \"receiver\": \"slack-dev\" ğŸ‘‰ ìµœì¢… ê²°ë¡ : PrometheusRule â†’ Prometheus â†’ Alertmanager â†’ Slack(dev)ê¹Œì§€\nì•ŒëŒ ì²´ì¸ ì „ì²´ê°€ ì•ˆì •ì ìœ¼ë¡œ ë™ì‘í•¨ì„ Smoke Alertë¡œ ì¦ëª…í–ˆìŠµë‹ˆë‹¤.\n7ï¸âƒ£ Platform - Kubernetes \u0026 Nodes ëŒ€ì‹œë³´ë“œ FastAPI ì•ŒëŒì´ ë°œìƒí–ˆì„ ë•Œ,\në¬¸ì œê°€ API ìì²´ì¸ì§€, í”Œë«í¼(Kubernetes)ì¸ì§€ë¥¼ ì¦‰ì‹œ ë¶„ë¦¬í•˜ê¸° ìœ„í•´\ní´ëŸ¬ìŠ¤í„° ì „ë°˜ì„ í•œ ë²ˆì— í™•ì¸í•  ìˆ˜ ìˆëŠ” í”Œë«í¼ ëŒ€ì‹œë³´ë“œë¥¼ ì¶”ê°€ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤.\nğŸ“¸ proof-07-01-kube-platform-overview.png\n(í´ëŸ¬ìŠ¤í„° CPU/ë©”ëª¨ë¦¬ â†’ Nodeë³„ ì‚¬ìš©ë¥  â†’ Pod ìƒíƒœ â†’ ëª¨ë‹ˆí„°ë§ ìŠ¤íƒ í—¬ìŠ¤ê¹Œì§€ í•œ í™”ë©´ì— í‘œì‹œ)\nâœ” ì£¼ìš” í™•ì¸ í¬ì¸íŠ¸ Cluster ìì› ì‚¬ìš©ë¥ (CPU/Memory) í´ëŸ¬ìŠ¤í„° ì „ì²´ ë ˆë²¨ì—ì„œ CPU/ë©”ëª¨ë¦¬ ë³‘ëª© ì—¬ë¶€ í™•ì¸ â†’ FastAPI ì§€ì—°ì˜ ì›ì¸ì´ â€œì „ì²´ ìì› ë¶€ì¡±â€ì¸ì§€ ë¹ ë¥´ê²Œ ë¶„ë¦¬ ê°€ëŠ¥ Nodeë³„ CPU Â· Memory Â· Filesystem ì‚¬ìš©ë¥  íŠ¹ì • ë…¸ë“œë§Œ ìì›ì´ ëª°ë¦¬ëŠ”ì§€ í™•ì¸ â†’ Pod ìŠ¤ì¼€ì¤„ë§ ë¶ˆê· í˜•, ë””ìŠ¤í¬ Full ì´ìŠˆ ì¦‰ì‹œ íŒŒì•… Pod ìƒíƒœ(Pending / Failed / CrashLoopBackOff) ë°°í¬ ì´í›„ Pending/CrashLoopBackOff ë°œìƒ ì‹œ ì¦‰ì‹œ í™•ì¸ â†’ FastAPI ë¬¸ì œì¸ì§€, Node/Storage ë¬¸ì œì¸ì§€ êµ¬ë¶„ ëª¨ë‹ˆí„°ë§ ìŠ¤íƒ(Prometheus / Alertmanager / Grafana / Loki) í—¬ìŠ¤ì²´í¬ â€œë©”íŠ¸ë¦­ì´ ì•ˆ ë³´ì´ëŠ” ê²Œ FastAPI ë•Œë¬¸ì¸ì§€, ëª¨ë‹ˆí„°ë§ ìŠ¤íƒ ë¬¸ì œì¸ì§€â€ ë°”ë¡œ íŒë‹¨ ê°€ëŠ¥ ğŸ‘‰ ê²°ë¡  FastAPIì—ì„œ 5xxê°€ ë°œìƒí•´ë„, ì‹¤ì œ ì›ì¸ì€\nPrometheus scrape ì‹¤íŒ¨ Loki ë¡œê·¸ ì ì¬ ì§€ì—° Node CPU/ë©”ëª¨ë¦¬ í¬í™” NFS I/O ë³‘ëª© CrashLoopBackOff ë“± í”Œë«í¼ ë¬¸ì œì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nì´ í”Œë«í¼ ëŒ€ì‹œë³´ë“œë¥¼ í†µí•´ â€œì• í”Œë¦¬ì¼€ì´ì…˜ vs í”Œë«í¼â€ ì›ì¸ ë¶„ë¦¬ë¥¼ ë§¤ìš° ë¹ ë¥´ê²Œ ìˆ˜í–‰í•  ìˆ˜ ìˆìœ¼ë©°,\ndev/prodë¡œ ì™„ì „íˆ ë¶„ë¦¬ëœ Observability ìŠ¤íƒì´ ì‘ë™í•¨ì„ ì¦ëª…í•©ë‹ˆë‹¤.\nB. FastAPI Observability \u0026 Grafana ëŒ€ì‹œë³´ë“œ FastAPI ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹¤ì œ íŠ¸ë˜í”½ì„ ë°›ê³ ,\nPrometheus â†’ Grafana â†’ Loki â†’ Alertmanager â†’ Slackê¹Œì§€\nEnd-to-End Observabilityê°€ ì œëŒ€ë¡œ ì‘ë™í•¨ì„ ì¦ëª…í•©ë‹ˆë‹¤.\n1ï¸âƒ£ FastAPI ì„±ëŠ¥ ë¶€í•˜ í…ŒìŠ¤íŠ¸(hey) â†’ ë©”íŠ¸ë¦­ ë°˜ì˜ âœ” 1-1. hey ë¶€í•˜ í…ŒìŠ¤íŠ¸ (20ì´ˆ / q 5 / c 10) ğŸ“¸ proof-01-fastapi-dev-hey-test.png\ní™•ì¸ í¬ì¸íŠ¸\n20ì´ˆ ë™ì•ˆ ì´ˆë‹¹ ì•½ 49 req/s ì²˜ë¦¬ í‰ê·  latency â‰ˆ 4ms, p99 â‰ˆ 10ms HTTP 405ëŠ” /predict ì—”ë“œí¬ì¸íŠ¸ê°€ GET ë¯¸ì§€ì›ì´ë¼ ë°œìƒí•˜ì§€ë§Œ FastAPIëŠ” ì •ìƒ ë™ì‘ ğŸ‘‰ ê²°ë¡ : FastAPI ì•±ì˜ ê¸°ë³¸ ì„±ëŠ¥ê³¼ ì•ˆì •ì„±ì´ ì¶©ë¶„í•¨ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.\n2ï¸âƒ£ Grafana ëŒ€ì‹œë³´ë“œ â€” RPS / Latency ì‹¤ì‹œê°„ ë°˜ì˜ âœ” 2-1. hey íŠ¸ë˜í”½ â†’ RPS ë°˜ì˜ ğŸ“¸ proof-01-grafana-dev-hey-test.png\ní™•ì¸ í¬ì¸íŠ¸\nTotal RPS(5m)ê°€ hey ë¶€í•˜ ì‹œì ì— ë§ì¶° ìƒìŠ¹ í›„ ì•ˆì • RPS by status (2xx / 4xx) ë¶„í¬ ì •ìƒ í‘œì‹œ ğŸ‘‰ ê²°ë¡ : FastAPI ë©”íŠ¸ë¦­ì´ Prometheus â†’ Grafanaë¡œ ì‹¤ì‹œê°„ ë°˜ì˜ë©ë‹ˆë‹¤.\nâœ” 2-2. p50 / p95 latency ê·¸ë˜í”„ ğŸ“¸ proof-01-grafana-dev-hey-test-2.png\ní™•ì¸ í¬ì¸íŠ¸\np50 / p95 latency ë¼ì¸ì´ hey ë¶€í•˜ êµ¬ê°„ì—ë„ ì•ˆì •ì ìœ¼ë¡œ ìœ ì§€ histogram ê¸°ë°˜ ê³„ì‚°ì‹ì´ ì •ìƒ ë™ì‘ ğŸ‘‰ ê²°ë¡ : Latency ê¸°ë°˜ Alert Ruleì˜ ê·¼ê±° ë°ì´í„°ê°€ ì œëŒ€ë¡œ ìˆ˜ì§‘ë˜ê³  ìˆìŠµë‹ˆë‹¤.\nâœ” 2-3. FastAPI A/B \u0026 Model Deep Dive ëŒ€ì‹œë³´ë“œ (http_* only) ğŸ“¸ proof-02-03-fastapi-deepdive-main.png\ní™•ì¸ í¬ì¸íŠ¸(ìš”ì•½ ì¤‘ì‹¬)\ní…œí”Œë¦¿ ë³€ìˆ˜ handler: /health, /metrics, /predict, /variant/{alias}/predict ë“± ì„ íƒ status: 2xx, 4xx, 5xx ìƒíƒœì½”ë“œ í•„í„°ë§ ìƒë‹¨: íŠ¸ë˜í”½ / ì—ëŸ¬ìœ¨ Traffic share by handler (5m)\nâ†’ ìµœê·¼ íŠ¸ë˜í”½ì´ ì–´ë–¤ ì—”ë“œí¬ì¸íŠ¸ì— ëª°ë ¸ëŠ”ì§€ ë¹„ì¤‘ìœ¼ë¡œ í™•ì¸\nRPS by handler (1m)\nâ†’ 1ë¶„ ë‹¨ìœ„ RPS ë³€í™”ë¡œ íŠ¹ì • ì—”ë“œí¬ì¸íŠ¸ ìŠ¤íŒŒì´í¬ ê°ì§€\n5xx rate by handler (5m)\nâ†’ í˜„ì¬ëŠ” 5xx ë°œìƒì´ ì—†ì–´ ë¹ˆ ìƒíƒœ\nâ†’ í…ŒìŠ¤íŠ¸ë¡œ ì˜¤ë¥˜ë¥¼ ìœ ë„í•˜ë©´ ì–´ë–¤ í•¸ë“¤ëŸ¬ê°€ ì‹¤íŒ¨í•˜ëŠ”ì§€ ì¦‰ì‹œ íŒŒì•… ê°€ëŠ¥\nì¤‘ë‹¨: í•¸ë“¤ëŸ¬ë³„ Latency(p50/p95) Latency p95\nâ†’ tail latency. ëª¨ë¸ êµì²´ í›„ íŠ¹ì • alias(A/B)ê°€ ëŠë ¤ì§€ëŠ”ì§€ ê°ì§€\nLatency p50\nâ†’ ì „ì²´ í‰ê·  ì„±ëŠ¥\nâ†’ p50 ëŒ€ë¹„ p95ê°€ í¬ê²Œ íŠ€ë©´ â€œì¼ë¶€ ìš”ì²­ë§Œ ëŠë¦° ìƒí™©(tail)â€ì„ ì˜ë¯¸\ní•˜ë‹¨: ì—ëŸ¬ \u0026 ìŠ¬ë¡œìš° í•¸ë“¤ëŸ¬ Top error handlers (5m)\nâ†’ /predict POST 4xx ë“±, ìµœê·¼ 5ë¶„ ê°„ ì˜¤ë¥˜ê°€ ê°€ì¥ ë§ì€ ì¡°í•©ì„ ì •ë ¬\nâ†’ ì…ë ¥ ì˜¤ë¥˜(422), ëª¨ë¸ ì˜¤ë¥˜(500) ì–´ë””ì„œ í„°ì¡ŒëŠ”ì§€ ì¦‰ì‹œ í™•ì¸\nTop slow handlers (avg latency, 5m)\nâ†’ í‰ê·  latency ê¸°ì¤€ ìƒìœ„ 10ê°œ ì—”ë“œí¬ì¸íŠ¸\nâ†’ variant/A vs variant/B ì‘ë‹µ ì†ë„ ë¹„êµì— ë§¤ìš° ìœ ìš©\në¡œê·¸ íŒ¨ë„(Loki) FastAPI logs (Loki, all levels)\nâ†’ ì—ëŸ¬Â·ì§€ì—° ë°œìƒ ì‹œì  í´ë¦­ â†’ ë™ì¼ í™”ë©´ì—ì„œ ì¦‰ì‹œ ë¡œê·¸ í™•ì¸\nâ†’ í•¸ë“¤ëŸ¬/ìƒíƒœì½”ë“œì™€ ë¡œê·¸ë¥¼ â€œí•œ í™”ë©´ì—ì„œâ€ ì—°ë™í•´ ë³´ëŠ” êµ¬ì¡°\nğŸ‘‰ ê²°ë¡  Service Overview ëŒ€ì‹œë³´ë“œê°€ FastAPI ì „ì²´ ìƒíƒœë¥¼ ë³´ëŠ” ë ˆì´ë”ë¼ë©´,\nì´ A/B \u0026 Model Deep Dive ëŒ€ì‹œë³´ë“œëŠ” í•¸ë“¤ëŸ¬/alias ë‹¨ìœ„ë¡œ ë¬¸ì œë¥¼ â€˜ì •ë°€ ì¶”ì â€™í•˜ëŠ” í™•ëŒ€ê²½ì…ë‹ˆë‹¤.\nRPS / Latency(p50/p95) / Error Rate / ë¡œê·¸ë¥¼\nì—”ë“œí¬ì¸íŠ¸ë³„ë¡œ ì„¸ë¶„í™”í•´ì„œ ë™ì‹œì— í™•ì¸í•  ìˆ˜ ìˆê³ ,\nëª¨ë¸ í•«ìŠ¤ì™‘(A/B) í›„ â€œì–´ëŠ í•¸ë“¤ëŸ¬ê°€ ì—ëŸ¬Â·ì§€ì—°ì„ ì¼ìœ¼í‚¤ëŠ”ì§€â€\në¶„ ë‹¨ìœ„ë¡œ íŒŒì•… ê°€ëŠ¥í•œ ëŒ€ì‹œë³´ë“œì…ë‹ˆë‹¤.\n3ï¸âƒ£ FastAPI Alert Rule ë™ì‘ ì¦ëª… âœ” 3-1. PrometheusRule ì‹¤ì œ ë°˜ì˜ ìƒíƒœ ğŸ“¸ proof-02-fastapi-dev-alert-rule.png\ní™•ì¸ í¬ì¸íŠ¸\nFastAPIHighErrorRate, FastAPIP95LatencyHigh í…ŒìŠ¤íŠ¸ìš© FastAPIHighErrorRate_TEST, FastAPIP95LatencyHigh_TEST ëª¨ë‘ PrometheusOperatorë¥¼ í†µí•´ clusterì— ì ìš© ì™„ë£Œ ğŸ‘‰ ê²°ë¡ : FastAPI ì•ŒëŒ ì •ì˜ê°€ ìš´ì˜ í™˜ê²½ì— ì •í™•íˆ ë°°í¬ë˜ì—ˆìŠµë‹ˆë‹¤.\nâœ” 3-2. Error Rate ì¦ê°€ ì‹œë‚˜ë¦¬ì˜¤ (404 í­ì¦) ğŸ“¸ proof-02-fastapi-dev-alert-curl-test.png\nì‹¤í–‰ ë‚´ìš©\nì •ìƒ endpointë¡œ 30íšŒ POST (2xx) ì¡´ì¬í•˜ì§€ ì•ŠëŠ” endpointë¡œ 30íšŒ í˜¸ì¶œ â†’ 404 ì—°ì† ë°œìƒ non-2xx ë¹„ìœ¨ ì¦ê°€ â†’ Alert firing ì¡°ê±´ ë§Œì¡± ğŸ‘‰ ê²°ë¡ : â€œFastAPI non-2xx ì¦ê°€ â†’ Alert ë°œìƒâ€ ì‹œë‚˜ë¦¬ì˜¤ê°€ ê·¸ëŒ€ë¡œ ì¬í˜„ë©ë‹ˆë‹¤.\nâœ” 3-3. ê²½ëŸ‰ ë¶€í•˜ì—ì„œë„ ë©”íŠ¸ë¦­ ì •ìƒ ìˆ˜ì§‘ ğŸ“¸ proof-02-fastapi-dev-alert-library-test.png\ní™•ì¸ í¬ì¸íŠ¸\nì•½ 0.65 req/s ì˜ ë‚®ì€ íŠ¸ë˜í”½ì—ì„œë„ RPS / Status / CPU / Memory / Slow paths ì •ìƒ ê³ ë¶€í•˜Â·ì €ë¶€í•˜ ìƒê´€ì—†ì´ ë™ì¼í•œ ëŒ€ì‹œë³´ë“œì—ì„œ í™•ì¸ ê°€ëŠ¥ ğŸ‘‰ ê²°ë¡ : íŠ¸ë˜í”½ ê°•ë„ì— ê´€ê³„ì—†ì´ ê´€ì¸¡ ê°€ëŠ¥ì„±ì´ í•­ìƒ ìœ ì§€ë©ë‹ˆë‹¤.\nâœ” 3-4. Alertmanager â†’ Slack ì•Œë¦¼ ğŸ“¸ proof-02-fastapi-dev-alert-library-test-slack.png\ní™•ì¸ í¬ì¸íŠ¸\nSmoke AlertëŠ” RESOLVED, FastAPIHighErrorRate_TEST ëŠ” FIRING ìƒíƒœ Alertmanager â†’ Slack Webhook íŒŒì´í”„ë¼ì¸ì´ ì‹¤ì œ íŠ¸ë˜í”½ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘ ğŸ‘‰ ê²°ë¡ : FastAPI ê´€ë ¨ ì¥ì•  ë°œìƒ ì‹œ ì‹¤ì œ ìŠ¬ë™ ì•Œë¦¼ê¹Œì§€ ì´ì–´ì§€ëŠ” ìš´ì˜ í”Œë¡œìš°ê°€ ê²€ì¦ë˜ì—ˆìŠµë‹ˆë‹¤.\nC. Data Pipeline (Airflow + S3) ë°ì´í„° íŒŒì´í”„ë¼ì¸ì´\nRaw ë°ì´í„° ìˆ˜ì§‘ â†’ ê²€ì¦ â†’ Feature ìƒì„± â†’ S3 ì €ì¥ â†’ Raw vs Feature ë¹„êµ\nê¹Œì§€ ì—”ë“œíˆ¬ì—”ë“œë¡œ ì •í™•í•˜ê²Œ ë™ì‘í–ˆìŒì„ ì¦ëª…í•©ë‹ˆë‹¤.\n1ï¸âƒ£ Raw ë°ì´í„° ìˆ˜ì§‘(S3) ê²€ì¦ âœ” 1-1. Raw ë°ì´í„° ë²„í‚· ìƒì„± ğŸ“¸ proof-01-s3-daily-raw-data.png\ní™•ì¸ í¬ì¸íŠ¸\ndatapipeline-raw-data-keonho ë²„í‚· ì¡´ì¬ daily/ í´ë” ìë™ ìƒì„± âœ” 1-2. Raw Daily CSV í™•ì¸ ğŸ“¸ proof-01-s3-daily-raw-data-2.png\ní™•ì¸ í¬ì¸íŠ¸\ndaily/user_events_20251119.csv íŒŒì¼ ì¡´ì¬ í¬ê¸° 1.7KB, CSV ìŠ¤í‚¤ë§ˆ ì •ìƒ ğŸ‘‰ ê²°ë¡ : extract_raw_data íƒœìŠ¤í¬ê°€ Raw ë°ì´í„°ë¥¼ S3ì— ì •ìƒ ì—…ë¡œë“œí•©ë‹ˆë‹¤.\n2ï¸âƒ£ Airflow DAG ì—”ë“œíˆ¬ì—”ë“œ ì‹¤í–‰ ğŸ“¸ proof-01-airflow-dag.png\ní™•ì¸ í¬ì¸íŠ¸\nextract_raw, validate_data, build_features, store_features, summarize_run\nëª¨ë“  íƒœìŠ¤í¬ success\nì „ì²´ ì‹¤í–‰ ì‹œê°„ ì•½ 1ë¶„, DAG Version v2\nğŸ‘‰ ê²°ë¡ : Raw â†’ Feature ì „ ê³¼ì •ì´ ì¤‘ë‹¨ ì—†ì´ í•œ ë²ˆì— ì‹¤í–‰ë©ë‹ˆë‹¤.\n3ï¸âƒ£ Feature ìƒì„± ë° ì €ì¥ ê²€ì¦ âœ” 3-1. features/ í´ë” ìƒì„± ğŸ“¸ proof-01-s3-features-data.png\ní™•ì¸ í¬ì¸íŠ¸\nDAG ì‹¤í–‰ í›„ features/ í´ë” ìë™ ìƒì„± âœ” 3-2. Feature CSV íŒŒì¼ ìƒì„± ğŸ“¸ proof-01-s3-features-data-2.png\ní™•ì¸ í¬ì¸íŠ¸\nfeatures/user_events_feat_20251119.csv ì¡´ì¬ í¬ê¸° 236B â†’ Raw ëŒ€ë¹„ Feature ì»¬ëŸ¼ë§Œ ë‚¨ì€ í˜•íƒœ ğŸ‘‰ ê²°ë¡ : store_features íƒœìŠ¤í¬ê°€ Feature Engineering ê²°ê³¼ë¥¼ S3ì— ì•ˆì •ì ìœ¼ë¡œ ì €ì¥í•©ë‹ˆë‹¤.\n4ï¸âƒ£ Raw vs Feature ìµœì¢… ë¹„êµ âœ” 4-1. íŒŒì¼ ë‚´ìš© ë¹„êµ (ì—‘ì…€) ğŸ“¸ proof-03-compare-file.png\ní™•ì¸ í¬ì¸íŠ¸\nì¢Œì¸¡: user_events_20251119.csv ì›ë³¸ Raw\nìš°ì¸¡: user_events_feat_20251119.csv Feature íŒŒì¼\nrow_sum ê³„ì‚° ì»¬ëŸ¼ ì •ìƒ ìƒì„±\n13552 ê°™ì´ ê°’ì´ í¬ê²Œ ë‚˜ì˜¨ rowëŠ” amount=12000 ë“±\nê³ ì•¡ ê²°ì œ ì´ë²¤íŠ¸ê°€ í•©ì‚°ëœ ì •ìƒ ê²°ê³¼\nğŸ‘‰ ê²°ë¡ : Feature ìƒì„± ë¡œì§ì´ ì„¤ê³„í•œëŒ€ë¡œ ìˆ«ìí˜• ì»¬ëŸ¼ì„ ì¶”ì¶œÂ·ê°€ê³µí•˜ê³  ìˆìŠµë‹ˆë‹¤.\nD. Data Pipeline ê³ ë„í™” (ë²„ì „ Â· ìŠ¤í‚¤ë§ˆ Â· ë©”íƒ€ë°ì´í„° Â· ê´€ì¸¡) ì•ì„œ êµ¬ì¶•í•œ Data Pipeline v1ì´ Raw â†’ Feature ETLì´ ì •ìƒ ì‘ë™í•¨ì„ ì¦ëª…í–ˆë‹¤ë©´,\nì´ë²ˆ v2ì—ì„œëŠ” ê°™ì€ íŒŒì´í”„ë¼ì¸ì´ ë²„ì „Â·ìŠ¤í‚¤ë§ˆÂ·ë©”íƒ€ë°ì´í„°Â·ê´€ì¸¡ê¹Œì§€ ê°–ì¶˜ ìš´ì˜í˜• êµ¬ì¡°ë¡œ ë™ì‘í•¨ì„ í™•ì¸í•©ë‹ˆë‹¤.\n1ï¸âƒ£ S3 ë²„ì „ ë””ë ‰í„°ë¦¬ êµ¬ì¡° ğŸ“¸ proof-01-s3-daily-user-events-dir-1.png\nğŸ“¸ proof-01-s3-daily-user-events-dir-2.png\ní™•ì¸ í¬ì¸íŠ¸\nfeatures/daily_user_events/ í•˜ìœ„ì—v_20251129T111532/, v_20251129T120305/ ê°™ì€ ì‹¤í–‰ ì‹œì  ê¸°ë°˜ ë²„ì „ ë””ë ‰í„°ë¦¬ ëˆ„ì  ê° ë””ë ‰í„°ë¦¬ ì•„ë˜ì—feature.csv, schema.json, metadata.json 3ì¢… ì„¸íŠ¸ê°€ í•­ìƒ ìƒì„± ğŸ‘‰ ê²°ë¡ : ì‹¤í–‰ë§ˆë‹¤ ë…ë¦½ëœ ë²„ì „ ë‹¨ìœ„ ì•„í‹°íŒ©íŠ¸ê°€ ê¸°ë¡ë©ë‹ˆë‹¤.\n2ï¸âƒ£ Airflow DAG v2 ì—”ë“œíˆ¬ì—”ë“œ ì‹¤í–‰ ğŸ“¸ proof-02-airflow-dag-v2.png\ní™•ì¸ í¬ì¸íŠ¸\nDAG: data_pipeline_daily_dev_v2 êµ¬ì„±: extract_raw â†’ validate_data â†’ build_features â†’ store_features â†’ summarize_run ëª¨ë“  íƒœìŠ¤í¬ success ğŸ‘‰ ê²°ë¡ : Raw â†’ Feature â†’ ìš”ì•½ê¹Œì§€ ëŠê¹€ ì—†ì´ ìë™ ì‹¤í–‰ë©ë‹ˆë‹¤.\n3ï¸âƒ£ Feature ë²„ì „ ì •ë³´ (schema Â· metadata Â· í’ˆì§ˆ êµì°¨ ê²€ì¦) ğŸ“¸ proof-03-feature-schema-metadata.png\ní™•ì¸ í¬ì¸íŠ¸\nschema.json feature_versionì´ S3 ë””ë ‰í„°ë¦¬ëª…ê³¼ ì •í™•íˆ ì¼ì¹˜ ìƒì„± ì‹œì (KST) í¬í•¨ metadata.json raw/feature row ìˆ˜, null_rate, raw_valid ìƒì„¸ ê¸°ë¡ Raw vs Feature Airflow ë¡œê·¸(rows/null_rate)ì™€ S3 íŒŒì¼(metadata.json)ê³¼ CSV ì‹¤ë°ì´í„°ê°€ ëª¨ë‘ ë™ì¼ ğŸ‘‰ ê²°ë¡ : ìŠ¤í‚¤ë§ˆ/ë©”íƒ€ë°ì´í„°/í’ˆì§ˆ 3ì¤‘ ê²€ì¦ìœ¼ë¡œ ì•ˆì •ì„±ì„ í™•ë³´í•©ë‹ˆë‹¤.\n4ï¸âƒ£ Grafana ê´€ì¸¡ (Logs + Pipeline Runs) ğŸ“¸ proof-04-grafana-dp-logs-runs.png\ní™•ì¸ í¬ì¸íŠ¸\n[DP] ë¡œê·¸ë¡œ ë‹¨ê³„ë³„ ì‹¤í–‰ íë¦„(time-ordered) í™•ì¸ summarize_run count íŒ¨ë„ë¡œ ì‹¤í–‰ ì‹œê°„ëŒ€Â·ë¹ˆë„ í™•ì¸ ë²„ì „ ì •ë³´ì™€ ì‹¤í–‰ íŒ¨í„´ì´ í•œ í™”ë©´ì— í‘œí˜„ ğŸ‘‰ ê²°ë¡ : ë¡œê·¸Â·ë©”íŠ¸ë¦­ ê¸°ë°˜ì˜ ìš´ì˜í˜• ê´€ì¸¡ì´ ì™„ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.\n","wordCount":"2315","inLanguage":"en","datePublished":"2025-11-30T02:50:21+09:00","dateModified":"2025-11-30T02:50:21+09:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://keonhoban.github.io/mlops-journey/projects/mlops_pipeline_observability/02/"},"publisher":{"@type":"Organization","name":"ğŸ”ï¸  MLOps Journey","logo":{"@type":"ImageObject","url":"https://keonhoban.github.io/mlops-journey/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://keonhoban.github.io/mlops-journey/ accesskey=h title="ğŸ”ï¸  MLOps Journey (Alt + H)">ğŸ”ï¸ MLOps Journey</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://keonhoban.github.io/mlops-journey/ title="ğŸ  Home"><span>ğŸ  Home</span></a></li><li><a href=https://keonhoban.github.io/mlops-journey/projects/ title="ğŸ“‚ Projects"><span>ğŸ“‚ Projects</span></a></li><li><a href=https://keonhoban.github.io/mlops-journey/posts/ title="ğŸ“ Blog"><span>ğŸ“ Blog</span></a></li><li><a href=https://keonhoban.github.io/mlops-journey/about/ title="ğŸ§— About"><span>ğŸ§— About</span></a></li><li><a href=https://keonhoban.github.io/mlops-journey/categories/ title="ğŸ“– Categories"><span>ğŸ“– Categories</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://keonhoban.github.io/mlops-journey/>Home</a>&nbsp;Â»&nbsp;<a href=https://keonhoban.github.io/mlops-journey/projects/>Projects</a></div><h1 class="post-title entry-hint-parent">[MLOps í”Œë«í¼ Observability & Data Pipeline - ê²€ì¦]</h1><div class=post-meta><span title='2025-11-30 02:50:21 +0900 +0900'>November 30, 2025</span>&nbsp;Â·&nbsp;11 min</div></header><div class=post-content><h2 id=-ëª©ì°¨>ğŸ§­ ëª©ì°¨<a hidden class=anchor aria-hidden=true href=#-ëª©ì°¨>#</a></h2><table><thead><tr><th>êµ¬ë¶„</th><th>ì¦ëª… í¬ì¸íŠ¸</th></tr></thead><tbody><tr><td><strong>A. Observability</strong></td><td>ë©”íŠ¸ë¦­Â·ë¡œê·¸Â·ì•ŒëŒ dev/prod ì™„ì „ ë¶„ë¦¬</td></tr><tr><td><strong>B. FastAPI & Platform Observability</strong></td><td>FastAPI + Platform ëŒ€ì‹œë³´ë“œ ì •ìƒ ë™ì‘</td></tr><tr><td><strong>C. Data Pipeline</strong></td><td>Rawâ†’Feature ETL ìë™ ì‹¤í–‰ ì„±ê³µ</td></tr><tr><td><strong>D. Data Pipeline Advanced</strong></td><td>ë²„ì „Â·ìŠ¤í‚¤ë§ˆÂ·ë©”íƒ€ë°ì´í„°Â·ê´€ì¸¡ ë“± ìš´ì˜í˜• êµ¬ì¡°</td></tr></tbody></table><hr><h1 id=a-observability-ê³„ì¸µ>A. Observability ê³„ì¸µ<a hidden class=anchor aria-hidden=true href=#a-observability-ê³„ì¸µ>#</a></h1><p>Observability ê³„ì¸µ(ëª¨ë‹ˆí„°ë§ + ë¡œê·¸ ìˆ˜ì§‘ + ì•ŒëŒ)ì´</p><p><strong>GitOps ê¸°ë°˜ìœ¼ë¡œ dev/prod ì™„ì „ ë¶„ë¦¬ + ìë™í™”</strong> ë˜ì–´ ìˆìŒì„ ì¦ëª…í•©ë‹ˆë‹¤.</p><hr><h2 id=1-argocd-applications-gitops-ê¸°ë°˜-êµ¬ì„±>1ï¸âƒ£ ArgoCD Applications (GitOps ê¸°ë°˜ êµ¬ì„±)<a hidden class=anchor aria-hidden=true href=#1-argocd-applications-gitops-ê¸°ë°˜-êµ¬ì„±>#</a></h2><h3 id=-1-1-clië¡œ-ì „ì²´-application-ìƒíƒœ-í™•ì¸>âœ” 1-1. CLIë¡œ ì „ì²´ Application ìƒíƒœ í™•ì¸<a hidden class=anchor aria-hidden=true href=#-1-1-clië¡œ-ì „ì²´-application-ìƒíƒœ-í™•ì¸>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl -n argocd get applications
</span></span></code></pre></div><p><img alt=proof-01-01-argocd-all-status-cmd.png loading=lazy src=/mlops-journey/images/proof-01-01-argocd-all-status-cmd.png></p><p>ğŸ“¸ <strong>proof-01-01-argocd-all-status-cmd.png</strong></p><p><strong>í™•ì¸ í¬ì¸íŠ¸</strong></p><ul><li><code>airflow-dev/prod</code></li><li><code>fastapi-dev/prod</code></li><li><code>mlflow-dev/prod</code></li><li><code>monitoring-dev/prod</code> (Prometheus + Grafana + Alertmanager)</li><li><code>loki-dev/prod</code>, <code>promtail-dev/prod</code></li><li><code>fastapi-logs-storage-dev/prod</code></li><li><code>metallb-config</code></li><li><code>dev/prod-namespaces</code>, <code>dev/prod-secrets</code></li></ul><p>â†’ <strong>SYNC STATUS = Synced</strong>, <strong>HEALTH STATUS = Healthy</strong></p><p><strong>ğŸ‘‰ ê²°ë¡ :</strong> GitOps ê¸°ì¤€ìœ¼ë¡œ ëª¨ë“  Observability ê´€ë ¨ ì•±ì´</p><p>í•­ìƒ <strong>ì •í•© ìƒíƒœ(idempotent)</strong> ë¡œ ìœ ì§€ë˜ê³  ìˆìŠµë‹ˆë‹¤.</p><hr><h3 id=-1-2-argocd-ui--ì „ì²´-applications>âœ” 1-2. ArgoCD UI â€” ì „ì²´ Applications<a hidden class=anchor aria-hidden=true href=#-1-2-argocd-ui--ì „ì²´-applications>#</a></h3><p><img alt=proof-01-02-argocd-all-status.png loading=lazy src=/mlops-journey/images/proof-01-02-argocd-all-status.png></p><p>ğŸ“¸ <strong>proof-01-02-argocd-all-status.png</strong></p><p><strong>í™•ì¸ í¬ì¸íŠ¸</strong></p><ul><li><p>ê° Applicationì˜ Repository / Revision / Chart ë²„ì „ì´ ëª…í™•íˆ í‘œê¸°</p></li><li><p>Destination namespaceê°€ ì—­í• ì— ë§ê²Œ ì •í™•íˆ ë¶„ë¦¬ (dev / prod)</p></li><li><p>CreatedAt, LastSynced ë¡œ GitOps ë™ê¸°í™” ìƒíƒœ í™•ì¸ ê°€ëŠ¥</p></li><li><p>fastapi / logs-storage / loki / promtail / monitoring ì´</p><p><strong>ì„œë¡œ ë‹¤ë¥¸ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¡œ ë°°í¬</strong>ë¨</p></li></ul><p><strong>ğŸ‘‰ ê²°ë¡ :</strong> ArgoCD UIì—ì„œë„ <strong>dev / prod ì™„ì „ ë¶„ë¦¬ GitOps êµ¬ì¡°</strong>ê°€ ëª…í™•í•˜ê²Œ ë“œëŸ¬ë‚©ë‹ˆë‹¤.</p><hr><h3 id=-1-3-argocd-ui--observability-ê´€ë ¨-ì•±ë§Œ-í•„í„°ë§>âœ” 1-3. ArgoCD UI â€” Observability ê´€ë ¨ ì•±ë§Œ í•„í„°ë§<a hidden class=anchor aria-hidden=true href=#-1-3-argocd-ui--observability-ê´€ë ¨-ì•±ë§Œ-í•„í„°ë§>#</a></h3><p><img alt=proof-01-01-argocd-all-status-cmd.png loading=lazy src=/mlops-journey/images/proof-01-03-argocd-monitoring-observability.png></p><p>ğŸ“¸ <strong>proof-01-03-argocd-monitoring-observability.png</strong></p><p><strong>í™•ì¸ í¬ì¸íŠ¸</strong></p><ul><li><code>monitoring-dev/prod</code>, <code>loki-dev/prod</code>, <code>promtail-dev/prod</code>ë§Œ ë”°ë¡œ í•„í„°ë§</li><li>Loki / Promtail / Prometheus ëª¨ë‘ <strong>Healthy + Synced</strong></li><li>dev / prod ë„¤ì„ìŠ¤í˜ì´ìŠ¤ê°€ ì™„ì „íˆ ë¶„ë¦¬ëœ ìƒíƒœë¡œ ìš´ì˜</li></ul><p><strong>ğŸ‘‰ ê²°ë¡ :</strong> Observability ê³„ì¸µ ì „ì²´ê°€ <strong>í™˜ê²½ë³„ë¡œ ë…ë¦½ëœ GitOps ê´€ë¦¬</strong>ë¥¼ ë°›ëŠ” êµ¬ì¡°ì…ë‹ˆë‹¤.</p><hr><h2 id=2-prometheus-targets-ë©”íŠ¸ë¦­-ìˆ˜ì§‘-ìƒíƒœ>2ï¸âƒ£ Prometheus Targets (ë©”íŠ¸ë¦­ ìˆ˜ì§‘ ìƒíƒœ)<a hidden class=anchor aria-hidden=true href=#2-prometheus-targets-ë©”íŠ¸ë¦­-ìˆ˜ì§‘-ìƒíƒœ>#</a></h2><h3 id=-2-1-prometheusdev-targets-ui>âœ” 2-1. Prometheus(dev) Targets UI<a hidden class=anchor aria-hidden=true href=#-2-1-prometheusdev-targets-ui>#</a></h3><p><img alt=proof-02-01-prometheus-dev-targets.png loading=lazy src=/mlops-journey/images/proof-02-01-prometheus-dev-targets.png></p><p>ğŸ“¸ <strong>proof-02-01-prometheus-dev-targets.png</strong></p><p><strong>í™•ì¸ í¬ì¸íŠ¸</strong></p><ul><li><p><code>monitoring-dev-kube-promet-prometheus</code> ê°€ ì—¬ëŸ¬ ServiceMonitorë¥¼ ì •ìƒ scrape</p></li><li><p><code>alertmanager</code>, <code>node-exporter</code>, <code>kubelet</code>, <code>prometheus</code>, <code>apiserver</code>,</p><p><code>kube-state-metrics</code> ì „ë¶€ <code>1/1 up</code></p></li><li><p>FastAPI dev PodMonitor(<code>fastapi-dev-pm</code>)ì˜ ë©”íŠ¸ë¦­ë„ ì •ìƒ ìˆ˜ì§‘</p></li><li><p>ëª¨ë“  namespaceê°€ <code>monitoring-dev</code> ë¡œ ì¼ê´€</p></li></ul><p><strong>ğŸ‘‰ ê²°ë¡ :</strong> dev í™˜ê²½ì—ì„œ <strong>í´ëŸ¬ìŠ¤í„° í•µì‹¬ ì§€í‘œ + FastAPI ì§€í‘œë¥¼ ëª¨ë‘ ì•ˆì •ì ìœ¼ë¡œ ìˆ˜ì§‘</strong>í•˜ê³  ìˆìŠµë‹ˆë‹¤.</p><hr><h3 id=-2-2-prometheusprod-targets-ui>âœ” 2-2. Prometheus(prod) Targets UI<a hidden class=anchor aria-hidden=true href=#-2-2-prometheusprod-targets-ui>#</a></h3><p><img alt=proof-02-01-prometheus-prod-targets.png loading=lazy src=/mlops-journey/images/proof-02-01-prometheus-prod-targets.png></p><p>ğŸ“¸ <strong>proof-02-01-prometheus-prod-targets.png</strong></p><p><strong>í™•ì¸ í¬ì¸íŠ¸</strong></p><ul><li>prod í™˜ê²½ì—ì„œë„ devì™€ ë™ì¼ êµ¬ì¡°ì˜ Targetì´ ëª¨ë‘ <code>up</code></li><li><code>fastapi-prod-pm</code> PodMonitor ìˆ˜ì§‘ ì •ìƒ</li><li>scrape duration ì•ˆì •ì </li><li>ëª¨ë“  namespaceê°€ <code>monitoring-prod</code> ë¡œ ê³ ì •</li></ul><p><strong>ğŸ‘‰ ê²°ë¡ :</strong> <strong>ìš´ì˜(prod) Prometheus ì¸ìŠ¤í„´ìŠ¤ë„ ì™„ì „íˆ ë¶„ë¦¬ëœ ìƒíƒœ</strong>ë¡œ</p><p>ë™ì¼í•œ í’ˆì§ˆì˜ ë©”íŠ¸ë¦­ì„ ìˆ˜ì§‘í•˜ê³  ìˆìŠµë‹ˆë‹¤.</p><hr><h3 id=-2-3-cli--servicemonitor--podmonitor-ëª©ë¡>âœ” 2-3. CLI â€” ServiceMonitor & PodMonitor ëª©ë¡<a hidden class=anchor aria-hidden=true href=#-2-3-cli--servicemonitor--podmonitor-ëª©ë¡>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>kubectl -n monitoring-dev get servicemonitor
</span></span><span style=display:flex><span>kubectl -n monitoring-dev get podmonitor
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>kubectl -n monitoring-prod get servicemonitor
</span></span><span style=display:flex><span>kubectl -n monitoring-prod get podmonitor
</span></span></code></pre></div><p><img alt=proof-02-02-prometheus-dev-prod-target-cmd.png loading=lazy src=/mlops-journey/images/proof-02-02-prometheus-dev-prod-target-cmd.png></p><p>ğŸ“¸ <strong>proof-02-02-prometheus-dev-prod-target-cmd.png</strong></p><p><strong>í™•ì¸ í¬ì¸íŠ¸</strong></p><ul><li><p>dev / prod ëª¨ë‘ ë™ì¼í•œ ServiceMonitor ì„¸íŠ¸:</p><ul><li><p>grafana, alertmanager, apiserver, kubelet, operator, prometheus,</p><p>kube-state-metrics, node-exporter</p></li></ul></li><li><p>dev: <strong>fastapi-dev-pm</strong>, prod: <strong>fastapi-prod-pm</strong> PodMonitor ì¡´ì¬</p></li></ul><p><strong>ğŸ‘‰ ê²°ë¡ :</strong> Prometheusê°€ dev/prodì—ì„œ <strong>FastAPI í¬í•¨ ëª¨ë“  í•µì‹¬ íƒ€ê²Ÿì„ ì•ˆì •ì ìœ¼ë¡œ scrape</strong>í•˜ê³  ìˆìŠµë‹ˆë‹¤.</p><hr><h2 id=3-prometheus-alerts-ì•ŒëŒ-ì •ì˜-ë°-ë°œë™>3ï¸âƒ£ Prometheus Alerts (ì•ŒëŒ ì •ì˜ ë° ë°œë™)<a hidden class=anchor aria-hidden=true href=#3-prometheus-alerts-ì•ŒëŒ-ì •ì˜-ë°-ë°œë™>#</a></h2><h3 id=-3-1-fastapi-alert-rule-ì •ì˜>âœ” 3-1. FastAPI Alert Rule ì •ì˜<a hidden class=anchor aria-hidden=true href=#-3-1-fastapi-alert-rule-ì •ì˜>#</a></h3><p><img alt=proof-03-02-prometheus-dev-alert.png loading=lazy src=/mlops-journey/images/proof-03-01-prometheus-fastapi-test-alert.png></p><p>ğŸ“¸ <strong>proof-03-01-prometheus-fastapi-test-alert.png</strong></p><p><strong>í™•ì¸ í¬ì¸íŠ¸</strong></p><ul><li><code>FastAPIHighErrorRate</code> : 5xx error ë¹„ìœ¨ 5% ì´ˆê³¼ ì‹œ ê²½ê³ </li><li><code>FastAPIP95LatencyHigh</code> : p95 latency 500ms ì´ˆê³¼ ì‹œ 10ë¶„ ë™ì•ˆ ê²½ê³ </li><li>í…ŒìŠ¤íŠ¸ìš© <code>_TEST</code> ê·œì¹™ 2ì¢… ì¡´ì¬ (ì¦‰ì‹œ ë°œë™ìš©)</li><li>summary / description annotation â†’ ê·¸ëŒ€ë¡œ Slack ë©”ì‹œì§€ ë‚´ìš©ìœ¼ë¡œ ì‚¬ìš©</li></ul><p><strong>ğŸ‘‰ ê²°ë¡ :</strong> ML ì„œë¹™ API ê´€ì ì—ì„œ í•„ìˆ˜ì¸ <strong>Error Rate / Latency ê¸°ë°˜ SLO ì•ŒëŒ</strong>ì´ ì™„ë¹„ë˜ì–´ ìˆìŠµë‹ˆë‹¤.</p><hr><h3 id=-3-2-prometheusdev-alerts--ì•ŒëŒ-ë°œë™-í™•ì¸>âœ” 3-2. Prometheus(dev) Alerts â€” ì•ŒëŒ ë°œë™ í™•ì¸<a hidden class=anchor aria-hidden=true href=#-3-2-prometheusdev-alerts--ì•ŒëŒ-ë°œë™-í™•ì¸>#</a></h3><p><img alt=proof-03-02-prometheus-dev-alert.png loading=lazy src=/mlops-journey/images/proof-03-02-prometheus-dev-alert.png></p><p>ğŸ“¸ <strong>proof-03-02-prometheus-dev-alert.png</strong></p><p><strong>í™•ì¸ í¬ì¸íŠ¸</strong></p><ul><li><code>FastAPIP95LatencyHigh_TEST</code> ì•ŒëŒì´ FIRING</li><li>Value, ActiveSince, expr(historgram_quantile) ì •ë³´ê°€ ì •ìƒ í‘œì‹œ</li><li><code>Watchdog(vector(1))</code> ì•ŒëŒë„ í•­ìƒ FIRING ìƒíƒœë¡œ alert íŒŒì´í”„ë¼ì¸ í—¬ìŠ¤ì²´í¬</li></ul><p><strong>ğŸ‘‰ ê²°ë¡ :</strong> dev Prometheusì—ì„œ <strong>Latency ì•ŒëŒ ë¡œì§ì´ ì‹¤ì œë¡œ ë™ì‘</strong>í•˜ê³  ìˆìŠµë‹ˆë‹¤.</p><hr><h3 id=-3-3-slackdev--ì•ŒëŒ-ìˆ˜ì‹ >âœ” 3-3. Slack(dev) â€” ì•ŒëŒ ìˆ˜ì‹ <a hidden class=anchor aria-hidden=true href=#-3-3-slackdev--ì•ŒëŒ-ìˆ˜ì‹ >#</a></h3><p><img alt=proof-03-02-prometheus-dev-alert-slack.png loading=lazy src=/mlops-journey/images/proof-03-02-prometheus-dev-alert-slack.png></p><p>ğŸ“¸ <strong>proof-03-02-prometheus-dev-alert-slack.png</strong></p><p><strong>í™•ì¸ í¬ì¸íŠ¸</strong></p><ul><li><code>[FIRING][DEV] FastAPIP95LatencyHigh_TEST</code>, <code>Watchdog</code> ë©”ì‹œì§€ ë„ì°©</li><li>alertname / severity / summary / description / timestamp ê·¸ëŒ€ë¡œ ë§¤í•‘</li><li>dev ì±„ë„ë¡œë§Œ ë„ì°©</li></ul><p><strong>ğŸ‘‰ ê²°ë¡ :</strong> Prometheus â†’ Alertmanager â†’ Slack(dev) ì˜ <strong>ì—”ë“œíˆ¬ì—”ë“œ ì•ŒëŒ ì²´ì¸</strong>ì´ ì •ìƒì…ë‹ˆë‹¤.</p><hr><h3 id=-3-4-prometheusprod-alerts--slackprod>âœ” 3-4. Prometheus(prod) Alerts & Slack(prod)<a hidden class=anchor aria-hidden=true href=#-3-4-prometheusprod-alerts--slackprod>#</a></h3><p><img alt=proof-03-02-prometheus-prod-alert.png loading=lazy src=/mlops-journey/images/proof-03-02-prometheus-prod-alert.png></p><p>ğŸ“¸ <strong>proof-03-02-prometheus-prod-alert.png</strong></p><p><img alt=proof-03-02-prometheus-prod-alert-slack.png loading=lazy src=/mlops-journey/images/proof-03-02-prometheus-prod-alert-slack.png></p><p>ğŸ“¸ <strong>proof-03-02-prometheus-prod-alert-slack.png</strong></p><p><strong>í™•ì¸ í¬ì¸íŠ¸</strong></p><ul><li>prod í™˜ê²½ì—ì„œë„ Watchdog FIRING ìƒíƒœ ìœ ì§€</li><li>Alertmanager(prod) â†’ Slack(prod) ì „ìš© ë¼ìš°íŒ…</li><li>dev ì•ŒëŒì´ prod ì±„ë„ë¡œ ì„ì—¬ ë“¤ì–´ì˜¤ì§€ ì•ŠìŒ</li></ul><p><strong>ğŸ‘‰ ê²°ë¡ :</strong> dev / prod ëª¨ë‘ <strong>í™˜ê²½ ë¶„ë¦¬ëœ ì•ŒëŒ ì‹œìŠ¤í…œ</strong>ì„ ê°–ì¶”ê³  ìˆìŠµë‹ˆë‹¤.</p><hr><h2 id=4-alertmanager-config-devprod-ë¶„ë¦¬>4ï¸âƒ£ Alertmanager Config (dev/prod ë¶„ë¦¬)<a hidden class=anchor aria-hidden=true href=#4-alertmanager-config-devprod-ë¶„ë¦¬>#</a></h2><h3 id=-4-1-alertmanagerdev-ìƒíƒœ-ë°-ì„¤ì •>âœ” 4-1. Alertmanager(dev) ìƒíƒœ ë° ì„¤ì •<a hidden class=anchor aria-hidden=true href=#-4-1-alertmanagerdev-ìƒíƒœ-ë°-ì„¤ì •>#</a></h3><p><img alt=proof-04-01-alertmanager-dev-status.png loading=lazy src=/mlops-journey/images/proof-04-01-alertmanager-dev-status.png></p><p>ğŸ“¸ <strong>proof-04-01-alertmanager-dev-status.png</strong></p><p><strong>í™•ì¸ í¬ì¸íŠ¸</strong></p><ul><li>cluster: disabled (single êµ¬ì„±)</li><li>route.receiver = <strong>slack-dev</strong></li><li>Slack í…œí”Œë¦¿ / ìƒ‰ìƒ / footer / send_resolved=true ì„¤ì •</li><li>group_wait 30s / group_interval 5m / repeat_interval 12h</li><li>í–¥í›„ PagerDuty/Telegram/Webex ë¡œ í™•ì¥ ê°€ëŠ¥í•œ êµ¬ì¡°</li></ul><p><strong>ğŸ‘‰ ê²°ë¡ :</strong> dev í™˜ê²½ ì „ìš© Alertmanager êµ¬ì„±ì´ ì•ˆì •ì ìœ¼ë¡œ ë™ì‘ ì¤‘ì…ë‹ˆë‹¤.</p><hr><h3 id=-4-2-alertmanagerprod-ìƒíƒœ-ë°-ì„¤ì •>âœ” 4-2. Alertmanager(prod) ìƒíƒœ ë° ì„¤ì •<a hidden class=anchor aria-hidden=true href=#-4-2-alertmanagerprod-ìƒíƒœ-ë°-ì„¤ì •>#</a></h3><p><img alt=proof-04-01-alertmanager-prod-status.png loading=lazy src=/mlops-journey/images/proof-04-01-alertmanager-prod-status.png></p><p>ğŸ“¸ <strong>proof-04-01-alertmanager-prod-status.png</strong></p><p><strong>í™•ì¸ í¬ì¸íŠ¸</strong></p><ul><li>route.receiver = <strong>slack-prod</strong></li><li>devì™€ ë‹¤ë¥¸ Slack webhook & í…œí”Œë¦¿</li><li>ë™ì¼ rule êµ¬ì¡°ì§€ë§Œ ì™„ì „íˆ ë‹¤ë¥¸ ì•ŒëŒ ë¼ìš°íŒ…</li></ul><p><strong>ğŸ‘‰ ê²°ë¡ :</strong> prod í™˜ê²½ì€ <strong>ìš´ì˜ìš© Slack(prod)ë§Œ ì‚¬ìš©í•˜ëŠ” ì•ˆì •ì  ì•ŒëŒ ì±„ë„</strong>ì„ ê°–ê³  ìˆìŠµë‹ˆë‹¤.</p><hr><h3 id=-4-3-alertmanager-secret-yamldevprod>âœ” 4-3. Alertmanager Secret YAML(dev/prod)<a hidden class=anchor aria-hidden=true href=#-4-3-alertmanager-secret-yamldevprod>#</a></h3><p><img alt=proof-04-02-alertmanager-dev-secret-cmd.png loading=lazy src=/mlops-journey/images/proof-04-02-alertmanager-dev-secret-cmd.png></p><p>ğŸ“¸ <strong>proof-04-02-alertmanager-dev-secret-cmd.png</strong></p><p><img alt=proof-04-02-alertmanager-prod-secret-cmd.png loading=lazy src=/mlops-journey/images/proof-04-02-alertmanager-prod-secret-cmd.png></p><p>ğŸ“¸ <strong>proof-04-02-alertmanager-prod-secret-cmd.png</strong></p><p><strong>í™•ì¸ í¬ì¸íŠ¸</strong></p><ul><li>dev : <code>alertmanager-monitoring-dev-kube-promet-alertmanager</code></li><li>prod : <code>alertmanager-monitoring-prod-kube-prome-alertmanager</code></li><li>type: Opaque, namespace dev/prod ë¶„ë¦¬</li><li>ë‚´ë¶€ì— base64 ì¸ì½”ë”©ëœ <code>alertmanager.yaml</code> ì €ì¥</li></ul><p><strong>ğŸ‘‰ ê²°ë¡ :</strong> Alertmanager ì„¤ì • ê°’ì´ <strong>ì¿ ë²„ë„¤í‹°ìŠ¤ Secretìœ¼ë¡œ ì•ˆì „í•˜ê²Œ ê´€ë¦¬</strong>ë˜ê³  ìˆìŠµë‹ˆë‹¤.</p><hr><h3 id=-4-4-alertmanager-alerts-í˜ì´ì§€devprod>âœ” 4-4. Alertmanager Alerts í˜ì´ì§€(dev/prod)<a hidden class=anchor aria-hidden=true href=#-4-4-alertmanager-alerts-í˜ì´ì§€devprod>#</a></h3><p><img alt=proof-04-03-alertmanager-dev-alerts.png loading=lazy src=/mlops-journey/images/proof-04-03-alertmanager-dev-alerts.png></p><p>ğŸ“¸ <strong>proof-04-03-alertmanager-dev-alerts.png</strong></p><p><img alt=proof-04-03-alertmanager-prod-alerts.png loading=lazy src=/mlops-journey/images/proof-04-03-alertmanager-prod-alerts.png></p><p>ğŸ“¸ <strong>proof-04-03-alertmanager-prod-alerts.png</strong></p><p><strong>í™•ì¸ í¬ì¸íŠ¸</strong></p><ul><li>dev: slack-dev ê·¸ë£¹ì— <code>FastAPIP95LatencyHigh_TEST</code>, <code>Watchdog</code> í‘œì‹œ</li><li>prod: slack-prod ê·¸ë£¹ì— <code>Watchdog</code> 1ê±´ FIRING</li><li>severity, source, ì‹œì‘ì‹œê°„, ë¼ë²¨ì´ ê·¸ëŒ€ë¡œ í‘œì‹œë¨</li></ul><p><strong>ğŸ‘‰ ê²°ë¡ :</strong> ë‘ í™˜ê²½ ëª¨ë‘ <strong>Alertmanager ë ˆë²¨ì—ì„œë„ ê·¸ë£¹Â·ë¼ìš°íŒ…ì´ ì •í™•íˆ ë¶„ë¦¬</strong>ë©ë‹ˆë‹¤.</p><hr><h2 id=5-loki-ë¡œê·¸-fastapi-ë¡œê·¸-ìˆ˜ì§‘>5ï¸âƒ£ Loki ë¡œê·¸ (FastAPI ë¡œê·¸ ìˆ˜ì§‘)<a hidden class=anchor aria-hidden=true href=#5-loki-ë¡œê·¸-fastapi-ë¡œê·¸-ìˆ˜ì§‘>#</a></h2><h3 id=-5-1-grafana-explore--fastapidev-ë¡œê·¸>âœ” 5-1. Grafana Explore â€” FastAPI(dev) ë¡œê·¸<a hidden class=anchor aria-hidden=true href=#-5-1-grafana-explore--fastapidev-ë¡œê·¸>#</a></h3><p>ì¿¼ë¦¬:</p><pre tabindex=0><code>{namespace=&#34;fastapi-dev&#34;}
</code></pre><p><img alt=proof-05-01-grafana-dev-explore-fastapi-dev.png loading=lazy src=/mlops-journey/images/proof-05-01-grafana-dev-explore-fastapi-dev.png></p><p>ğŸ“¸ <strong>proof-05-01-grafana-dev-explore-fastapi-dev.png</strong></p><p><strong>í™•ì¸ í¬ì¸íŠ¸</strong></p><ul><li>GET <code>/metrics</code>, <code>/health</code>, <code>/predict</code> ë¡œê·¸ ì—°ì† ì¶œë ¥</li><li><code>service_name=fastapi-dev</code>, <code>container=fastapi</code> ë¼ë²¨ ì •ìƒ</li><li>JSON prettify ì‹œì—ë„ íŒŒì‹± ì˜¤ë¥˜ ì—†ìŒ</li></ul><p><strong>ğŸ‘‰ ê²°ë¡ :</strong> <strong>FastAPI(dev) â†’ Promtail â†’ Loki â†’ Grafana</strong> ë¡œê·¸ íŒŒì´í”„ë¼ì¸ì´ ì˜¨ì „íˆ ì‘ë™í•©ë‹ˆë‹¤.</p><hr><h3 id=-5-2-grafana-explore--fastapiprod-ë¡œê·¸>âœ” 5-2. Grafana Explore â€” FastAPI(prod) ë¡œê·¸<a hidden class=anchor aria-hidden=true href=#-5-2-grafana-explore--fastapiprod-ë¡œê·¸>#</a></h3><pre tabindex=0><code>{namespace=&#34;fastapi-prod&#34;}
</code></pre><p><img alt=proof-05-01-grafana-prod-explore-fastapi-prod.png loading=lazy src=/mlops-journey/images/proof-05-01-grafana-prod-explore-fastapi-prod.png></p><p>ğŸ“¸ <strong>proof-05-01-grafana-prod-explore-fastapi-prod.png</strong></p><p><strong>í™•ì¸ í¬ì¸íŠ¸</strong></p><ul><li>devì™€ ë¶„ë¦¬ëœ log stream</li><li>Node / Pod ë¼ë²¨ì´ prod ê¸°ì¤€ìœ¼ë¡œ ë³„ë„ ìˆ˜ì§‘</li><li>ë¡œê·¸ ìˆ˜ì§‘ëŸ‰ì´ devì™€ ë…ë¦½ì ìœ¼ë¡œ ëˆ„ì </li></ul><p><strong>ğŸ‘‰ ê²°ë¡ :</strong> prod í™˜ê²½ì—ì„œë„ <strong>FastAPI ë¡œê·¸ê°€ ì™„ì „íˆ ë¶„ë¦¬ëœ Loki ì¸ìŠ¤í„´ìŠ¤ë¡œ ìˆ˜ì§‘</strong>ë©ë‹ˆë‹¤.</p><hr><h3 id=-5-3-loki-pod-ë¡œê·¸devprod>âœ” 5-3. Loki Pod ë¡œê·¸(dev/prod)<a hidden class=anchor aria-hidden=true href=#-5-3-loki-pod-ë¡œê·¸devprod>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># dev</span>
</span></span><span style=display:flex><span>kubectl get pod -n observability-dev
</span></span><span style=display:flex><span>kubectl -n observability-dev logs loki-dev-0 | head
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># prod</span>
</span></span><span style=display:flex><span>kubectl get pod -n observability-prod
</span></span><span style=display:flex><span>kubectl -n observability-prod logs loki-prod-0 | head
</span></span></code></pre></div><p><img alt=proof-05-02-loki-dev-logs-cmd.png loading=lazy src=/mlops-journey/images/proof-05-02-loki-dev-logs-cmd.png></p><p>ğŸ“¸ <strong>proof-05-02-loki-dev-logs-cmd.png</strong></p><p><img alt=proof-05-02-loki-prod-logs-cmd.png loading=lazy src=/mlops-journey/images/proof-05-02-loki-prod-logs-cmd.png></p><p>ğŸ“¸ <strong>proof-05-02-loki-prod-logs-cmd.png</strong></p><p><strong>í™•ì¸ í¬ì¸íŠ¸</strong></p><ul><li>Loki ë²„ì „/ë¦¬ë¹„ì „ í‘œê¸°, config load ì •ìƒ</li><li><code>server listening on addresses</code> ë¡œê·¸ë¡œ HTTP/gRPC í¬íŠ¸ í™œì„±í™” í™•ì¸</li><li>TSDB index table ë¡œë”© ë©”ì‹œì§€ ì •ìƒ</li></ul><p><strong>ğŸ‘‰ ê²°ë¡ :</strong> dev / prod Loki ì¸ìŠ¤í„´ìŠ¤ ëª¨ë‘ <strong>ì •ìƒ ë¶€íŒ… ë° ìŠ¤í† ë¦¬ì§€ ì´ˆê¸°í™”</strong>ë¥¼ ì™„ë£Œí•©ë‹ˆë‹¤.</p><hr><h2 id=6-slack-ì•ŒëŒ-smoke-í…ŒìŠ¤íŠ¸-ì•ŒëŒ-ì²´ì¸-e2e-ê²€ì¦>6ï¸âƒ£ Slack ì•ŒëŒ Smoke í…ŒìŠ¤íŠ¸ (ì•ŒëŒ ì²´ì¸ E2E ê²€ì¦)<a hidden class=anchor aria-hidden=true href=#6-slack-ì•ŒëŒ-smoke-í…ŒìŠ¤íŠ¸-ì•ŒëŒ-ì²´ì¸-e2e-ê²€ì¦>#</a></h2><h3 id=-6-1-smoke-alert-prometheusrule-ìƒì„±>âœ” 6-1. Smoke Alert PrometheusRule ìƒì„±<a hidden class=anchor aria-hidden=true href=#-6-1-smoke-alert-prometheusrule-ìƒì„±>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>cat <span style=color:#e6db74>&lt;&lt;&#39;EOF&#39; | kubectl -n monitoring-dev apply -f -
</span></span></span><span style=display:flex><span><span style=color:#e6db74>apiVersion: monitoring.coreos.com/v1
</span></span></span><span style=display:flex><span><span style=color:#e6db74>kind: PrometheusRule
</span></span></span><span style=display:flex><span><span style=color:#e6db74>metadata:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  name: alertmanager-smoke
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  labels:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    release: monitoring-dev
</span></span></span><span style=display:flex><span><span style=color:#e6db74>spec:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>  groups:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    - name: smoke.rules
</span></span></span><span style=display:flex><span><span style=color:#e6db74>      rules:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        - alert: Smoke_Alert_To_Slack
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          expr: vector(1)
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          for: 1m
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          labels:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            severity: warning
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            namespace: monitoring-dev
</span></span></span><span style=display:flex><span><span style=color:#e6db74>          annotations:
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            summary: &#34;Smoke test alert&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>            description: &#34;This is a test alert to verify Slack integration&#34;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>EOF</span>
</span></span></code></pre></div><p><img alt=proof-06-01-smoke-prometheusRule-dev.png loading=lazy src=/mlops-journey/images/proof-06-01-smoke-prometheusRule-dev.png></p><p>ğŸ“¸ <strong>proof-06-01-smoke-prometheusRule-dev.png</strong></p><p><strong>ğŸ‘‰ ê²°ë¡ :</strong> í•­ìƒ trueì¸ <code>vector(1)</code> ê¸°ë°˜ìœ¼ë¡œ, <strong>í•­ìƒ Firing ìƒíƒœê°€ ìœ ì§€ë˜ëŠ” Smoke Alert</strong>ë¥¼ ì •ì˜í–ˆìŠµë‹ˆë‹¤.</p><hr><h3 id=-6-2-prometheus-alertsì—ì„œ-smoke-alert-firing>âœ” 6-2. Prometheus Alertsì—ì„œ Smoke Alert FIRING<a hidden class=anchor aria-hidden=true href=#-6-2-prometheus-alertsì—ì„œ-smoke-alert-firing>#</a></h3><p><img alt=proof-06-02-prometheus-dev-alerts-smoke.png loading=lazy src=/mlops-journey/images/proof-06-02-prometheus-dev-alerts-smoke.png></p><p>ğŸ“¸ <strong>proof-06-02-prometheus-dev-alerts-smoke.png</strong></p><p><strong>í™•ì¸ í¬ì¸íŠ¸</strong></p><ul><li>alertname: <code>Smoke_Alert_To_Slack</code></li><li>expr: <code>vector(1)</code></li><li>labels: <code>namespace=monitoring-dev</code>, <code>severity=warning</code></li><li><code>State = FIRING</code>, <code>Value = 1</code></li></ul><hr><h3 id=-6-3-alertmanager-ê·¸ë£¹--slack-dev-ë¼ìš°íŒ…>âœ” 6-3. Alertmanager ê·¸ë£¹ â€” slack-dev ë¼ìš°íŒ…<a hidden class=anchor aria-hidden=true href=#-6-3-alertmanager-ê·¸ë£¹--slack-dev-ë¼ìš°íŒ…>#</a></h3><p><img alt=proof-06-03-alertmanager-dev-alerts-smoke.png loading=lazy src=/mlops-journey/images/proof-06-03-alertmanager-dev-alerts-smoke.png></p><p>ğŸ“¸ <strong>proof-06-03-alertmanager-dev-alerts-smoke.png</strong></p><p><strong>í™•ì¸ í¬ì¸íŠ¸</strong></p><ul><li>ê·¸ë£¹ëª…: <code>slack-dev</code></li><li><code>Smoke_Alert_To_Slack</code>, <code>FastAPIP95LatencyHigh_TEST</code>, <code>Watchdog</code> ê°€ ê°™ì€ ê·¸ë£¹ìœ¼ë¡œ ë¼ìš°íŒ…</li><li>Alertmanagerê°€ ì—¬ëŸ¬ Alertë¥¼ í•˜ë‚˜ì˜ Slack ì±„ë„ë¡œ ë¬¶ì–´ ì „ì†¡í•˜ëŠ” êµ¬ì¡°</li></ul><hr><h3 id=-6-4-slack-dev-ì±„ë„--smoke-alert-ìˆ˜ì‹ >âœ” 6-4. Slack #dev ì±„ë„ â€” Smoke Alert ìˆ˜ì‹ <a hidden class=anchor aria-hidden=true href=#-6-4-slack-dev-ì±„ë„--smoke-alert-ìˆ˜ì‹ >#</a></h3><p><img alt=proof-06-04-slack-dev-alerts-smoke.png loading=lazy src=/mlops-journey/images/proof-06-04-slack-dev-alerts-smoke.png></p><p>ğŸ“¸ <strong>proof-06-04-slack-dev-alerts-smoke.png</strong></p><p><strong>í™•ì¸ í¬ì¸íŠ¸</strong></p><ul><li><code>[FIRING][DEV] Smoke_Alert_To_Slack</code> ë©”ì‹œì§€ ë„ì°©</li><li>alertname / namespace / severity ë¼ë²¨ ê·¸ëŒ€ë¡œ í‘œì‹œ</li><li>ê¸°ì¡´ FastAPI í…ŒìŠ¤íŠ¸ ì•ŒëŒë“¤ê³¼ í•¨ê»˜ dev ì±„ë„ì— ìŒ“ì„</li></ul><hr><h3 id=-6-5-prometheus--alertmanager-api-ê²°ê³¼-í™•ì¸>âœ” 6-5. Prometheus / Alertmanager API ê²°ê³¼ í™•ì¸<a hidden class=anchor aria-hidden=true href=#-6-5-prometheus--alertmanager-api-ê²°ê³¼-í™•ì¸>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Prometheus</span>
</span></span><span style=display:flex><span>curl -sk https://prometheus-dev.local/api/v1/alerts <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  | jq <span style=color:#e6db74>&#39;.data.alerts[] | select(.labels.alertname==&#34;Smoke_Alert_To_Slack&#34;) | {state:.state, labels:.labels}&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Alertmanager</span>
</span></span><span style=display:flex><span>curl -sk https://alert-dev.local/api/v2/alerts <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  | jq <span style=color:#e6db74>&#39;.[] | select(.labels.alertname==&#34;Smoke_Alert_To_Slack&#34;) | {status:.status, receiver:.receiver.name}&#39;</span>
</span></span></code></pre></div><p><img alt=proof-05-prometheus-alertmanager-cmd.png loading=lazy src=/mlops-journey/images/proof-06-05-prometheus-alertmanager-cmd.png></p><p>ğŸ“¸ <strong>proof-06-05-prometheus-alertmanager-cmd.png</strong></p><p><strong>ê²°ê³¼ ìš”ì•½</strong></p><ul><li>Prometheus: <code>"state": "firing"</code></li><li>Alertmanager: <code>"status.state": "active"</code>, <code>"receiver": "slack-dev"</code></li></ul><p><strong>ğŸ‘‰ ìµœì¢… ê²°ë¡ :</strong> PrometheusRule â†’ Prometheus â†’ Alertmanager â†’ Slack(dev)ê¹Œì§€</p><p><strong>ì•ŒëŒ ì²´ì¸ ì „ì²´ê°€ ì•ˆì •ì ìœ¼ë¡œ ë™ì‘</strong>í•¨ì„ Smoke Alertë¡œ ì¦ëª…í–ˆìŠµë‹ˆë‹¤.</p><hr><h2 id=7-platform---kubernetes--nodes-ëŒ€ì‹œë³´ë“œ>7ï¸âƒ£ Platform - Kubernetes & Nodes ëŒ€ì‹œë³´ë“œ<a hidden class=anchor aria-hidden=true href=#7-platform---kubernetes--nodes-ëŒ€ì‹œë³´ë“œ>#</a></h2><p>FastAPI ì•ŒëŒì´ ë°œìƒí–ˆì„ ë•Œ,</p><p><strong>ë¬¸ì œê°€ API ìì²´ì¸ì§€, í”Œë«í¼(Kubernetes)ì¸ì§€</strong>ë¥¼ ì¦‰ì‹œ ë¶„ë¦¬í•˜ê¸° ìœ„í•´</p><p>í´ëŸ¬ìŠ¤í„° ì „ë°˜ì„ í•œ ë²ˆì— í™•ì¸í•  ìˆ˜ ìˆëŠ” <strong>í”Œë«í¼ ëŒ€ì‹œë³´ë“œ</strong>ë¥¼ ì¶”ê°€ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤.</p><p><img alt=proof-07-01-kube-platform-overview.png loading=lazy src=/mlops-journey/images/proof-07-01-kube-platform-overview.png></p><p>ğŸ“¸ <strong>proof-07-01-kube-platform-overview.png</strong></p><p><em>(í´ëŸ¬ìŠ¤í„° CPU/ë©”ëª¨ë¦¬ â†’ Nodeë³„ ì‚¬ìš©ë¥  â†’ Pod ìƒíƒœ â†’ ëª¨ë‹ˆí„°ë§ ìŠ¤íƒ í—¬ìŠ¤ê¹Œì§€ í•œ í™”ë©´ì— í‘œì‹œ)</em></p><hr><h3 id=-ì£¼ìš”-í™•ì¸-í¬ì¸íŠ¸>âœ” ì£¼ìš” í™•ì¸ í¬ì¸íŠ¸<a hidden class=anchor aria-hidden=true href=#-ì£¼ìš”-í™•ì¸-í¬ì¸íŠ¸>#</a></h3><ul><li><strong>Cluster ìì› ì‚¬ìš©ë¥ (CPU/Memory)</strong><ul><li>í´ëŸ¬ìŠ¤í„° ì „ì²´ ë ˆë²¨ì—ì„œ CPU/ë©”ëª¨ë¦¬ ë³‘ëª© ì—¬ë¶€ í™•ì¸
â†’ FastAPI ì§€ì—°ì˜ ì›ì¸ì´ â€œì „ì²´ ìì› ë¶€ì¡±â€ì¸ì§€ ë¹ ë¥´ê²Œ ë¶„ë¦¬ ê°€ëŠ¥</li></ul></li><li><strong>Nodeë³„ CPU Â· Memory Â· Filesystem ì‚¬ìš©ë¥ </strong><ul><li>íŠ¹ì • ë…¸ë“œë§Œ ìì›ì´ ëª°ë¦¬ëŠ”ì§€ í™•ì¸
â†’ Pod ìŠ¤ì¼€ì¤„ë§ ë¶ˆê· í˜•, ë””ìŠ¤í¬ Full ì´ìŠˆ ì¦‰ì‹œ íŒŒì•…</li></ul></li><li><strong>Pod ìƒíƒœ(Pending / Failed / CrashLoopBackOff)</strong><ul><li>ë°°í¬ ì´í›„ Pending/CrashLoopBackOff ë°œìƒ ì‹œ ì¦‰ì‹œ í™•ì¸
â†’ FastAPI ë¬¸ì œì¸ì§€, Node/Storage ë¬¸ì œì¸ì§€ êµ¬ë¶„</li></ul></li><li><strong>ëª¨ë‹ˆí„°ë§ ìŠ¤íƒ(Prometheus / Alertmanager / Grafana / Loki) í—¬ìŠ¤ì²´í¬</strong><ul><li>â€œë©”íŠ¸ë¦­ì´ ì•ˆ ë³´ì´ëŠ” ê²Œ FastAPI ë•Œë¬¸ì¸ì§€, ëª¨ë‹ˆí„°ë§ ìŠ¤íƒ ë¬¸ì œì¸ì§€â€ ë°”ë¡œ íŒë‹¨ ê°€ëŠ¥</li></ul></li></ul><hr><h3 id=-ê²°ë¡ >ğŸ‘‰ ê²°ë¡ <a hidden class=anchor aria-hidden=true href=#-ê²°ë¡ >#</a></h3><p>FastAPIì—ì„œ 5xxê°€ ë°œìƒí•´ë„, ì‹¤ì œ ì›ì¸ì€</p><ul><li>Prometheus scrape ì‹¤íŒ¨</li><li>Loki ë¡œê·¸ ì ì¬ ì§€ì—°</li><li>Node CPU/ë©”ëª¨ë¦¬ í¬í™”</li><li>NFS I/O ë³‘ëª©</li><li>CrashLoopBackOff ë“±</li></ul><p>í”Œë«í¼ ë¬¸ì œì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><p>ì´ í”Œë«í¼ ëŒ€ì‹œë³´ë“œë¥¼ í†µí•´ <strong>â€œì• í”Œë¦¬ì¼€ì´ì…˜ vs í”Œë«í¼â€ ì›ì¸ ë¶„ë¦¬</strong>ë¥¼ ë§¤ìš° ë¹ ë¥´ê²Œ ìˆ˜í–‰í•  ìˆ˜ ìˆìœ¼ë©°,</p><p>dev/prodë¡œ ì™„ì „íˆ ë¶„ë¦¬ëœ Observability ìŠ¤íƒì´ <strong>ì‘ë™í•¨</strong>ì„ ì¦ëª…í•©ë‹ˆë‹¤.</p><hr><h1 id=b-fastapi-observability--grafana-ëŒ€ì‹œë³´ë“œ>B. FastAPI Observability & Grafana ëŒ€ì‹œë³´ë“œ<a hidden class=anchor aria-hidden=true href=#b-fastapi-observability--grafana-ëŒ€ì‹œë³´ë“œ>#</a></h1><p>FastAPI ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì‹¤ì œ íŠ¸ë˜í”½ì„ ë°›ê³ ,</p><p>Prometheus â†’ Grafana â†’ Loki â†’ Alertmanager â†’ Slackê¹Œì§€</p><p><strong>End-to-End Observability</strong>ê°€ ì œëŒ€ë¡œ ì‘ë™í•¨ì„ ì¦ëª…í•©ë‹ˆë‹¤.</p><hr><h2 id=1-fastapi-ì„±ëŠ¥-ë¶€í•˜-í…ŒìŠ¤íŠ¸hey--ë©”íŠ¸ë¦­-ë°˜ì˜>1ï¸âƒ£ FastAPI ì„±ëŠ¥ ë¶€í•˜ í…ŒìŠ¤íŠ¸(hey) â†’ ë©”íŠ¸ë¦­ ë°˜ì˜<a hidden class=anchor aria-hidden=true href=#1-fastapi-ì„±ëŠ¥-ë¶€í•˜-í…ŒìŠ¤íŠ¸hey--ë©”íŠ¸ë¦­-ë°˜ì˜>#</a></h2><h3 id=-1-1-hey-ë¶€í•˜-í…ŒìŠ¤íŠ¸-20ì´ˆ--q-5--c-10>âœ” 1-1. hey ë¶€í•˜ í…ŒìŠ¤íŠ¸ (20ì´ˆ / q 5 / c 10)<a hidden class=anchor aria-hidden=true href=#-1-1-hey-ë¶€í•˜-í…ŒìŠ¤íŠ¸-20ì´ˆ--q-5--c-10>#</a></h3><p><img alt=proof-01-fastapi-dev-hey-test.png loading=lazy src=/mlops-journey/images/proof-01-fastapi-dev-hey-test.png></p><p>ğŸ“¸ <strong>proof-01-fastapi-dev-hey-test.png</strong></p><p><strong>í™•ì¸ í¬ì¸íŠ¸</strong></p><ul><li>20ì´ˆ ë™ì•ˆ ì´ˆë‹¹ <strong>ì•½ 49 req/s</strong> ì²˜ë¦¬</li><li>í‰ê·  latency â‰ˆ <strong>4ms</strong>, p99 â‰ˆ <strong>10ms</strong></li><li>HTTP 405ëŠ” <code>/predict</code> ì—”ë“œí¬ì¸íŠ¸ê°€ GET ë¯¸ì§€ì›ì´ë¼ ë°œìƒí•˜ì§€ë§Œ FastAPIëŠ” ì •ìƒ ë™ì‘</li></ul><p><strong>ğŸ‘‰ ê²°ë¡ :</strong> FastAPI ì•±ì˜ <strong>ê¸°ë³¸ ì„±ëŠ¥ê³¼ ì•ˆì •ì„±</strong>ì´ ì¶©ë¶„í•¨ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.</p><hr><h2 id=2-grafana-ëŒ€ì‹œë³´ë“œ--rps--latency-ì‹¤ì‹œê°„-ë°˜ì˜>2ï¸âƒ£ Grafana ëŒ€ì‹œë³´ë“œ â€” RPS / Latency ì‹¤ì‹œê°„ ë°˜ì˜<a hidden class=anchor aria-hidden=true href=#2-grafana-ëŒ€ì‹œë³´ë“œ--rps--latency-ì‹¤ì‹œê°„-ë°˜ì˜>#</a></h2><h3 id=-2-1-hey-íŠ¸ë˜í”½--rps-ë°˜ì˜>âœ” 2-1. hey íŠ¸ë˜í”½ â†’ RPS ë°˜ì˜<a hidden class=anchor aria-hidden=true href=#-2-1-hey-íŠ¸ë˜í”½--rps-ë°˜ì˜>#</a></h3><p><img alt=proof-01-grafana-dev-hey-test.png loading=lazy src=/mlops-journey/images/proof-01-grafana-dev-hey-test.png></p><p>ğŸ“¸ <strong>proof-01-grafana-dev-hey-test.png</strong></p><p><strong>í™•ì¸ í¬ì¸íŠ¸</strong></p><ul><li>Total RPS(5m)ê°€ hey ë¶€í•˜ ì‹œì ì— ë§ì¶° ìƒìŠ¹ í›„ ì•ˆì •</li><li>RPS by status (2xx / 4xx) ë¶„í¬ ì •ìƒ í‘œì‹œ</li></ul><p><strong>ğŸ‘‰ ê²°ë¡ :</strong> FastAPI ë©”íŠ¸ë¦­ì´ <strong>Prometheus â†’ Grafanaë¡œ ì‹¤ì‹œê°„ ë°˜ì˜</strong>ë©ë‹ˆë‹¤.</p><hr><h3 id=-2-2-p50--p95-latency-ê·¸ë˜í”„>âœ” 2-2. p50 / p95 latency ê·¸ë˜í”„<a hidden class=anchor aria-hidden=true href=#-2-2-p50--p95-latency-ê·¸ë˜í”„>#</a></h3><p><img alt=proof-01-grafana-dev-hey-test-2.png loading=lazy src=/mlops-journey/images/proof-01-grafana-dev-hey-test-2.png></p><p>ğŸ“¸ <strong>proof-01-grafana-dev-hey-test-2.png</strong></p><p><strong>í™•ì¸ í¬ì¸íŠ¸</strong></p><ul><li>p50 / p95 latency ë¼ì¸ì´ hey ë¶€í•˜ êµ¬ê°„ì—ë„ ì•ˆì •ì ìœ¼ë¡œ ìœ ì§€</li><li>histogram ê¸°ë°˜ ê³„ì‚°ì‹ì´ ì •ìƒ ë™ì‘</li></ul><p><strong>ğŸ‘‰ ê²°ë¡ :</strong> <strong>Latency ê¸°ë°˜ Alert Ruleì˜ ê·¼ê±° ë°ì´í„°</strong>ê°€ ì œëŒ€ë¡œ ìˆ˜ì§‘ë˜ê³  ìˆìŠµë‹ˆë‹¤.</p><hr><h3 id=-2-3-fastapi-ab--model-deep-dive-ëŒ€ì‹œë³´ë“œ-http_-only>âœ” 2-3. FastAPI A/B & Model Deep Dive ëŒ€ì‹œë³´ë“œ (http_* only)<a hidden class=anchor aria-hidden=true href=#-2-3-fastapi-ab--model-deep-dive-ëŒ€ì‹œë³´ë“œ-http_-only>#</a></h3><p><img alt=proof-02-03-fastapi-deepdive-main.png loading=lazy src=/mlops-journey/images/proof-02-03-fastapi-deepdive-main.png></p><p>ğŸ“¸ <strong>proof-02-03-fastapi-deepdive-main.png</strong></p><p><strong>í™•ì¸ í¬ì¸íŠ¸(ìš”ì•½ ì¤‘ì‹¬)</strong></p><ul><li><strong>í…œí”Œë¦¿ ë³€ìˆ˜</strong><ul><li><code>handler</code>: <code>/health</code>, <code>/metrics</code>, <code>/predict</code>, <code>/variant/{alias}/predict</code> ë“± ì„ íƒ</li><li><code>status</code>: <code>2xx</code>, <code>4xx</code>, <code>5xx</code> ìƒíƒœì½”ë“œ í•„í„°ë§</li></ul></li></ul><hr><h3 id=ìƒë‹¨-íŠ¸ë˜í”½--ì—ëŸ¬ìœ¨>ìƒë‹¨: íŠ¸ë˜í”½ / ì—ëŸ¬ìœ¨<a hidden class=anchor aria-hidden=true href=#ìƒë‹¨-íŠ¸ë˜í”½--ì—ëŸ¬ìœ¨>#</a></h3><ul><li><p><strong>Traffic share by handler (5m)</strong></p><p>â†’ ìµœê·¼ íŠ¸ë˜í”½ì´ ì–´ë–¤ ì—”ë“œí¬ì¸íŠ¸ì— ëª°ë ¸ëŠ”ì§€ ë¹„ì¤‘ìœ¼ë¡œ í™•ì¸</p></li><li><p><strong>RPS by handler (1m)</strong></p><p>â†’ 1ë¶„ ë‹¨ìœ„ RPS ë³€í™”ë¡œ íŠ¹ì • ì—”ë“œí¬ì¸íŠ¸ ìŠ¤íŒŒì´í¬ ê°ì§€</p></li><li><p><strong>5xx rate by handler (5m)</strong></p><p>â†’ í˜„ì¬ëŠ” 5xx ë°œìƒì´ ì—†ì–´ ë¹ˆ ìƒíƒœ</p><p>â†’ í…ŒìŠ¤íŠ¸ë¡œ ì˜¤ë¥˜ë¥¼ ìœ ë„í•˜ë©´ ì–´ë–¤ í•¸ë“¤ëŸ¬ê°€ ì‹¤íŒ¨í•˜ëŠ”ì§€ ì¦‰ì‹œ íŒŒì•… ê°€ëŠ¥</p></li></ul><hr><h3 id=ì¤‘ë‹¨-í•¸ë“¤ëŸ¬ë³„-latencyp50p95>ì¤‘ë‹¨: í•¸ë“¤ëŸ¬ë³„ Latency(p50/p95)<a hidden class=anchor aria-hidden=true href=#ì¤‘ë‹¨-í•¸ë“¤ëŸ¬ë³„-latencyp50p95>#</a></h3><ul><li><p><strong>Latency p95</strong></p><p>â†’ tail latency. ëª¨ë¸ êµì²´ í›„ íŠ¹ì • alias(<code>A/B</code>)ê°€ ëŠë ¤ì§€ëŠ”ì§€ ê°ì§€</p></li><li><p><strong>Latency p50</strong></p><p>â†’ ì „ì²´ í‰ê·  ì„±ëŠ¥</p><p>â†’ p50 ëŒ€ë¹„ p95ê°€ í¬ê²Œ íŠ€ë©´ â€œì¼ë¶€ ìš”ì²­ë§Œ ëŠë¦° ìƒí™©(tail)â€ì„ ì˜ë¯¸</p></li></ul><hr><h3 id=í•˜ë‹¨-ì—ëŸ¬--ìŠ¬ë¡œìš°-í•¸ë“¤ëŸ¬>í•˜ë‹¨: ì—ëŸ¬ & ìŠ¬ë¡œìš° í•¸ë“¤ëŸ¬<a hidden class=anchor aria-hidden=true href=#í•˜ë‹¨-ì—ëŸ¬--ìŠ¬ë¡œìš°-í•¸ë“¤ëŸ¬>#</a></h3><ul><li><p><strong>Top error handlers (5m)</strong></p><p>â†’ <code>/predict POST 4xx</code> ë“±, ìµœê·¼ 5ë¶„ ê°„ ì˜¤ë¥˜ê°€ ê°€ì¥ ë§ì€ ì¡°í•©ì„ ì •ë ¬</p><p>â†’ ì…ë ¥ ì˜¤ë¥˜(422), ëª¨ë¸ ì˜¤ë¥˜(500) ì–´ë””ì„œ í„°ì¡ŒëŠ”ì§€ ì¦‰ì‹œ í™•ì¸</p></li><li><p><strong>Top slow handlers (avg latency, 5m)</strong></p><p>â†’ í‰ê·  latency ê¸°ì¤€ ìƒìœ„ 10ê°œ ì—”ë“œí¬ì¸íŠ¸</p><p>â†’ <code>variant/A</code> vs <code>variant/B</code> ì‘ë‹µ ì†ë„ ë¹„êµì— ë§¤ìš° ìœ ìš©</p></li></ul><hr><h3 id=ë¡œê·¸-íŒ¨ë„loki>ë¡œê·¸ íŒ¨ë„(Loki)<a hidden class=anchor aria-hidden=true href=#ë¡œê·¸-íŒ¨ë„loki>#</a></h3><ul><li><p><strong>FastAPI logs (Loki, all levels)</strong></p><p>â†’ ì—ëŸ¬Â·ì§€ì—° ë°œìƒ ì‹œì  í´ë¦­ â†’ ë™ì¼ í™”ë©´ì—ì„œ ì¦‰ì‹œ ë¡œê·¸ í™•ì¸</p><p>â†’ í•¸ë“¤ëŸ¬/ìƒíƒœì½”ë“œì™€ ë¡œê·¸ë¥¼ â€œí•œ í™”ë©´ì—ì„œâ€ ì—°ë™í•´ ë³´ëŠ” êµ¬ì¡°</p></li></ul><hr><h3 id=-ê²°ë¡ -1>ğŸ‘‰ ê²°ë¡ <a hidden class=anchor aria-hidden=true href=#-ê²°ë¡ -1>#</a></h3><p>Service Overview ëŒ€ì‹œë³´ë“œê°€ <strong>FastAPI ì „ì²´ ìƒíƒœë¥¼ ë³´ëŠ” ë ˆì´ë”</strong>ë¼ë©´,</p><p>ì´ A/B & Model Deep Dive ëŒ€ì‹œë³´ë“œëŠ” <strong>í•¸ë“¤ëŸ¬/alias ë‹¨ìœ„ë¡œ ë¬¸ì œë¥¼ â€˜ì •ë°€ ì¶”ì â€™í•˜ëŠ” í™•ëŒ€ê²½</strong>ì…ë‹ˆë‹¤.</p><ul><li><p>RPS / Latency(p50/p95) / Error Rate / ë¡œê·¸ë¥¼</p><p><strong>ì—”ë“œí¬ì¸íŠ¸ë³„ë¡œ ì„¸ë¶„í™”í•´ì„œ ë™ì‹œì—</strong> í™•ì¸í•  ìˆ˜ ìˆê³ ,</p></li><li><p>ëª¨ë¸ í•«ìŠ¤ì™‘(A/B) í›„ â€œì–´ëŠ í•¸ë“¤ëŸ¬ê°€ ì—ëŸ¬Â·ì§€ì—°ì„ ì¼ìœ¼í‚¤ëŠ”ì§€â€</p><p><strong>ë¶„ ë‹¨ìœ„ë¡œ íŒŒì•… ê°€ëŠ¥í•œ ëŒ€ì‹œë³´ë“œ</strong>ì…ë‹ˆë‹¤.</p></li></ul><hr><h2 id=3-fastapi-alert-rule-ë™ì‘-ì¦ëª…>3ï¸âƒ£ FastAPI Alert Rule ë™ì‘ ì¦ëª…<a hidden class=anchor aria-hidden=true href=#3-fastapi-alert-rule-ë™ì‘-ì¦ëª…>#</a></h2><h3 id=-3-1-prometheusrule-ì‹¤ì œ-ë°˜ì˜-ìƒíƒœ>âœ” 3-1. PrometheusRule ì‹¤ì œ ë°˜ì˜ ìƒíƒœ<a hidden class=anchor aria-hidden=true href=#-3-1-prometheusrule-ì‹¤ì œ-ë°˜ì˜-ìƒíƒœ>#</a></h3><p><img alt=proof-02-fastapi-dev-alert-rule.png loading=lazy src=/mlops-journey/images/proof-02-fastapi-dev-alert-rule.png></p><p>ğŸ“¸ <strong>proof-02-fastapi-dev-alert-rule.png</strong></p><p><strong>í™•ì¸ í¬ì¸íŠ¸</strong></p><ul><li><code>FastAPIHighErrorRate</code>, <code>FastAPIP95LatencyHigh</code></li><li>í…ŒìŠ¤íŠ¸ìš© <code>FastAPIHighErrorRate_TEST</code>, <code>FastAPIP95LatencyHigh_TEST</code></li><li>ëª¨ë‘ PrometheusOperatorë¥¼ í†µí•´ clusterì— ì ìš© ì™„ë£Œ</li></ul><p><strong>ğŸ‘‰ ê²°ë¡ :</strong> FastAPI ì•ŒëŒ ì •ì˜ê°€ <strong>ìš´ì˜ í™˜ê²½ì— ì •í™•íˆ ë°°í¬</strong>ë˜ì—ˆìŠµë‹ˆë‹¤.</p><hr><h3 id=-3-2-error-rate-ì¦ê°€-ì‹œë‚˜ë¦¬ì˜¤-404-í­ì¦>âœ” 3-2. Error Rate ì¦ê°€ ì‹œë‚˜ë¦¬ì˜¤ (404 í­ì¦)<a hidden class=anchor aria-hidden=true href=#-3-2-error-rate-ì¦ê°€-ì‹œë‚˜ë¦¬ì˜¤-404-í­ì¦>#</a></h3><p><img alt=proof-02-fastapi-dev-alert-curl-test.png loading=lazy src=/mlops-journey/images/proof-02-fastapi-dev-alert-curl-test.png></p><p>ğŸ“¸ <strong>proof-02-fastapi-dev-alert-curl-test.png</strong></p><p><strong>ì‹¤í–‰ ë‚´ìš©</strong></p><ul><li>ì •ìƒ endpointë¡œ 30íšŒ POST (2xx)</li><li>ì¡´ì¬í•˜ì§€ ì•ŠëŠ” endpointë¡œ 30íšŒ í˜¸ì¶œ â†’ <strong>404 ì—°ì† ë°œìƒ</strong></li><li>non-2xx ë¹„ìœ¨ ì¦ê°€ â†’ Alert firing ì¡°ê±´ ë§Œì¡±</li></ul><p><strong>ğŸ‘‰ ê²°ë¡ :</strong> â€œ<strong>FastAPI non-2xx ì¦ê°€ â†’ Alert ë°œìƒ</strong>â€ ì‹œë‚˜ë¦¬ì˜¤ê°€ ê·¸ëŒ€ë¡œ ì¬í˜„ë©ë‹ˆë‹¤.</p><hr><h3 id=-3-3-ê²½ëŸ‰-ë¶€í•˜ì—ì„œë„-ë©”íŠ¸ë¦­-ì •ìƒ-ìˆ˜ì§‘>âœ” 3-3. ê²½ëŸ‰ ë¶€í•˜ì—ì„œë„ ë©”íŠ¸ë¦­ ì •ìƒ ìˆ˜ì§‘<a hidden class=anchor aria-hidden=true href=#-3-3-ê²½ëŸ‰-ë¶€í•˜ì—ì„œë„-ë©”íŠ¸ë¦­-ì •ìƒ-ìˆ˜ì§‘>#</a></h3><p><img alt=proof-02-fastapi-dev-alert-library-test.png loading=lazy src=/mlops-journey/images/proof-02-fastapi-dev-alert-library-test.png></p><p>ğŸ“¸ <strong>proof-02-fastapi-dev-alert-library-test.png</strong></p><p><strong>í™•ì¸ í¬ì¸íŠ¸</strong></p><ul><li>ì•½ 0.65 req/s ì˜ ë‚®ì€ íŠ¸ë˜í”½ì—ì„œë„ RPS / Status / CPU / Memory / Slow paths ì •ìƒ</li><li>ê³ ë¶€í•˜Â·ì €ë¶€í•˜ ìƒê´€ì—†ì´ ë™ì¼í•œ ëŒ€ì‹œë³´ë“œì—ì„œ í™•ì¸ ê°€ëŠ¥</li></ul><p><strong>ğŸ‘‰ ê²°ë¡ :</strong> íŠ¸ë˜í”½ ê°•ë„ì— ê´€ê³„ì—†ì´ <strong>ê´€ì¸¡ ê°€ëŠ¥ì„±ì´ í•­ìƒ ìœ ì§€</strong>ë©ë‹ˆë‹¤.</p><hr><h3 id=-3-4-alertmanager--slack-ì•Œë¦¼>âœ” 3-4. Alertmanager â†’ Slack ì•Œë¦¼<a hidden class=anchor aria-hidden=true href=#-3-4-alertmanager--slack-ì•Œë¦¼>#</a></h3><p><img alt=proof-02-fastapi-dev-alert-library-test-slack.png loading=lazy src=/mlops-journey/images/proof-02-fastapi-dev-alert-library-test-slack.png></p><p>ğŸ“¸ <strong>proof-02-fastapi-dev-alert-library-test-slack.png</strong></p><p><strong>í™•ì¸ í¬ì¸íŠ¸</strong></p><ul><li>Smoke AlertëŠ” RESOLVED, <code>FastAPIHighErrorRate_TEST</code> ëŠ” FIRING ìƒíƒœ</li><li>Alertmanager â†’ Slack Webhook íŒŒì´í”„ë¼ì¸ì´ ì‹¤ì œ íŠ¸ë˜í”½ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘</li></ul><p><strong>ğŸ‘‰ ê²°ë¡ :</strong> FastAPI ê´€ë ¨ ì¥ì•  ë°œìƒ ì‹œ <strong>ì‹¤ì œ ìŠ¬ë™ ì•Œë¦¼ê¹Œì§€ ì´ì–´ì§€ëŠ” ìš´ì˜ í”Œë¡œìš°</strong>ê°€ ê²€ì¦ë˜ì—ˆìŠµë‹ˆë‹¤.</p><hr><h1 id=c-data-pipeline-airflow--s3>C. Data Pipeline (Airflow + S3)<a hidden class=anchor aria-hidden=true href=#c-data-pipeline-airflow--s3>#</a></h1><p>ë°ì´í„° íŒŒì´í”„ë¼ì¸ì´</p><p>Raw ë°ì´í„° ìˆ˜ì§‘ â†’ ê²€ì¦ â†’ Feature ìƒì„± â†’ S3 ì €ì¥ â†’ Raw vs Feature ë¹„êµ</p><p>ê¹Œì§€ <strong>ì—”ë“œíˆ¬ì—”ë“œë¡œ ì •í™•í•˜ê²Œ ë™ì‘</strong>í–ˆìŒì„ ì¦ëª…í•©ë‹ˆë‹¤.</p><hr><h2 id=1-raw-ë°ì´í„°-ìˆ˜ì§‘s3-ê²€ì¦>1ï¸âƒ£ Raw ë°ì´í„° ìˆ˜ì§‘(S3) ê²€ì¦<a hidden class=anchor aria-hidden=true href=#1-raw-ë°ì´í„°-ìˆ˜ì§‘s3-ê²€ì¦>#</a></h2><h3 id=-1-1-raw-ë°ì´í„°-ë²„í‚·-ìƒì„±>âœ” 1-1. Raw ë°ì´í„° ë²„í‚· ìƒì„±<a hidden class=anchor aria-hidden=true href=#-1-1-raw-ë°ì´í„°-ë²„í‚·-ìƒì„±>#</a></h3><p><img alt=proof-01-s3-daily-raw-data.png loading=lazy src=/mlops-journey/images/proof-01-s3-daily-raw-data.png></p><p>ğŸ“¸ <strong>proof-01-s3-daily-raw-data.png</strong></p><p><strong>í™•ì¸ í¬ì¸íŠ¸</strong></p><ul><li><code>datapipeline-raw-data-keonho</code> ë²„í‚· ì¡´ì¬</li><li><code>daily/</code> í´ë” ìë™ ìƒì„±</li></ul><hr><h3 id=-1-2-raw-daily-csv-í™•ì¸>âœ” 1-2. Raw Daily CSV í™•ì¸<a hidden class=anchor aria-hidden=true href=#-1-2-raw-daily-csv-í™•ì¸>#</a></h3><p><img alt=proof-01-s3-daily-raw-data-2.png loading=lazy src=/mlops-journey/images/proof-01-s3-daily-raw-data-2.png></p><p>ğŸ“¸ <strong>proof-01-s3-daily-raw-data-2.png</strong></p><p><strong>í™•ì¸ í¬ì¸íŠ¸</strong></p><ul><li><code>daily/user_events_20251119.csv</code> íŒŒì¼ ì¡´ì¬</li><li>í¬ê¸° 1.7KB, CSV ìŠ¤í‚¤ë§ˆ ì •ìƒ</li></ul><p><strong>ğŸ‘‰ ê²°ë¡ :</strong> <code>extract_raw_data</code> íƒœìŠ¤í¬ê°€ <strong>Raw ë°ì´í„°ë¥¼ S3ì— ì •ìƒ ì—…ë¡œë“œ</strong>í•©ë‹ˆë‹¤.</p><hr><h2 id=2-airflow-dag-ì—”ë“œíˆ¬ì—”ë“œ-ì‹¤í–‰>2ï¸âƒ£ Airflow DAG ì—”ë“œíˆ¬ì—”ë“œ ì‹¤í–‰<a hidden class=anchor aria-hidden=true href=#2-airflow-dag-ì—”ë“œíˆ¬ì—”ë“œ-ì‹¤í–‰>#</a></h2><p><img alt=proof-01-airflow-dag.png loading=lazy src=/mlops-journey/images/proof-01-airflow-dag.png></p><p>ğŸ“¸ <strong>proof-01-airflow-dag.png</strong></p><p><strong>í™•ì¸ í¬ì¸íŠ¸</strong></p><ul><li><p><code>extract_raw</code>, <code>validate_data</code>, <code>build_features</code>, <code>store_features</code>, <code>summarize_run</code></p><p>ëª¨ë“  íƒœìŠ¤í¬ <code>success</code></p></li><li><p>ì „ì²´ ì‹¤í–‰ ì‹œê°„ ì•½ 1ë¶„, DAG Version v2</p></li></ul><p><strong>ğŸ‘‰ ê²°ë¡ :</strong> Raw â†’ Feature ì „ ê³¼ì •ì´ <strong>ì¤‘ë‹¨ ì—†ì´ í•œ ë²ˆì— ì‹¤í–‰</strong>ë©ë‹ˆë‹¤.</p><hr><h2 id=3-feature-ìƒì„±-ë°-ì €ì¥-ê²€ì¦>3ï¸âƒ£ Feature ìƒì„± ë° ì €ì¥ ê²€ì¦<a hidden class=anchor aria-hidden=true href=#3-feature-ìƒì„±-ë°-ì €ì¥-ê²€ì¦>#</a></h2><h3 id=-3-1-features-í´ë”-ìƒì„±>âœ” 3-1. features/ í´ë” ìƒì„±<a hidden class=anchor aria-hidden=true href=#-3-1-features-í´ë”-ìƒì„±>#</a></h3><p><img alt=proof-01-s3-features-data.png loading=lazy src=/mlops-journey/images/proof-01-s3-features-data.png></p><p>ğŸ“¸ <strong>proof-01-s3-features-data.png</strong></p><p><strong>í™•ì¸ í¬ì¸íŠ¸</strong></p><ul><li>DAG ì‹¤í–‰ í›„ <code>features/</code> í´ë” ìë™ ìƒì„±</li></ul><hr><h3 id=-3-2-feature-csv-íŒŒì¼-ìƒì„±>âœ” 3-2. Feature CSV íŒŒì¼ ìƒì„±<a hidden class=anchor aria-hidden=true href=#-3-2-feature-csv-íŒŒì¼-ìƒì„±>#</a></h3><p><img alt=proof-01-s3-features-data-2.png loading=lazy src=/mlops-journey/images/proof-01-s3-features-data-2.png></p><p>ğŸ“¸ <strong>proof-01-s3-features-data-2.png</strong></p><p><strong>í™•ì¸ í¬ì¸íŠ¸</strong></p><ul><li><code>features/user_events_feat_20251119.csv</code> ì¡´ì¬</li><li>í¬ê¸° 236B â†’ Raw ëŒ€ë¹„ Feature ì»¬ëŸ¼ë§Œ ë‚¨ì€ í˜•íƒœ</li></ul><p><strong>ğŸ‘‰ ê²°ë¡ :</strong> <code>store_features</code> íƒœìŠ¤í¬ê°€ <strong>Feature Engineering ê²°ê³¼ë¥¼ S3ì— ì•ˆì •ì ìœ¼ë¡œ ì €ì¥</strong>í•©ë‹ˆë‹¤.</p><hr><h2 id=4-raw-vs-feature-ìµœì¢…-ë¹„êµ>4ï¸âƒ£ Raw vs Feature ìµœì¢… ë¹„êµ<a hidden class=anchor aria-hidden=true href=#4-raw-vs-feature-ìµœì¢…-ë¹„êµ>#</a></h2><h3 id=-4-1-íŒŒì¼-ë‚´ìš©-ë¹„êµ-ì—‘ì…€>âœ” 4-1. íŒŒì¼ ë‚´ìš© ë¹„êµ (ì—‘ì…€)<a hidden class=anchor aria-hidden=true href=#-4-1-íŒŒì¼-ë‚´ìš©-ë¹„êµ-ì—‘ì…€>#</a></h3><p><img alt=proof-03-compare-file.png loading=lazy src=/mlops-journey/images/proof-03-compare-file.png></p><p>ğŸ“¸ <strong>proof-03-compare-file.png</strong></p><p><strong>í™•ì¸ í¬ì¸íŠ¸</strong></p><ul><li><p>ì¢Œì¸¡: <code>user_events_20251119.csv</code> ì›ë³¸ Raw</p></li><li><p>ìš°ì¸¡: <code>user_events_feat_20251119.csv</code> Feature íŒŒì¼</p></li><li><p><code>row_sum</code> ê³„ì‚° ì»¬ëŸ¼ ì •ìƒ ìƒì„±</p></li><li><p>13552 ê°™ì´ ê°’ì´ í¬ê²Œ ë‚˜ì˜¨ rowëŠ” <code>amount=12000</code> ë“±</p><p>ê³ ì•¡ ê²°ì œ ì´ë²¤íŠ¸ê°€ í•©ì‚°ëœ ì •ìƒ ê²°ê³¼</p></li></ul><p><strong>ğŸ‘‰ ê²°ë¡ :</strong> Feature ìƒì„± ë¡œì§ì´ <strong>ì„¤ê³„í•œëŒ€ë¡œ ìˆ«ìí˜• ì»¬ëŸ¼ì„ ì¶”ì¶œÂ·ê°€ê³µ</strong>í•˜ê³  ìˆìŠµë‹ˆë‹¤.</p><hr><h1 id=d-data-pipeline-ê³ ë„í™”-ë²„ì „--ìŠ¤í‚¤ë§ˆ--ë©”íƒ€ë°ì´í„°--ê´€ì¸¡>D. Data Pipeline ê³ ë„í™” (ë²„ì „ Â· ìŠ¤í‚¤ë§ˆ Â· ë©”íƒ€ë°ì´í„° Â· ê´€ì¸¡)<a hidden class=anchor aria-hidden=true href=#d-data-pipeline-ê³ ë„í™”-ë²„ì „--ìŠ¤í‚¤ë§ˆ--ë©”íƒ€ë°ì´í„°--ê´€ì¸¡>#</a></h1><p>ì•ì„œ êµ¬ì¶•í•œ Data Pipeline v1ì´ Raw â†’ Feature ETLì´ ì •ìƒ ì‘ë™í•¨ì„ ì¦ëª…í–ˆë‹¤ë©´,</p><p>ì´ë²ˆ v2ì—ì„œëŠ” <strong>ê°™ì€ íŒŒì´í”„ë¼ì¸ì´ ë²„ì „Â·ìŠ¤í‚¤ë§ˆÂ·ë©”íƒ€ë°ì´í„°Â·ê´€ì¸¡ê¹Œì§€ ê°–ì¶˜ ìš´ì˜í˜• êµ¬ì¡°ë¡œ ë™ì‘í•¨</strong>ì„ í™•ì¸í•©ë‹ˆë‹¤.</p><hr><h2 id=1-s3-ë²„ì „-ë””ë ‰í„°ë¦¬-êµ¬ì¡°>1ï¸âƒ£ S3 ë²„ì „ ë””ë ‰í„°ë¦¬ êµ¬ì¡°<a hidden class=anchor aria-hidden=true href=#1-s3-ë²„ì „-ë””ë ‰í„°ë¦¬-êµ¬ì¡°>#</a></h2><p><img alt=proof-01-s3-daily-user-events-dir-1.png loading=lazy src=/mlops-journey/images/proof-01-s3-daily-user-events-dir-1.png></p><p>ğŸ“¸ proof-01-s3-daily-user-events-dir-1.png</p><p><img alt=proof-01-s3-daily-user-events-dir-2.png loading=lazy src=/mlops-journey/images/proof-01-s3-daily-user-events-dir-2.png></p><p>ğŸ“¸ proof-01-s3-daily-user-events-dir-2.png</p><p><strong>í™•ì¸ í¬ì¸íŠ¸</strong></p><ul><li><code>features/daily_user_events/</code> í•˜ìœ„ì—<code>v_20251129T111532/</code>, <code>v_20251129T120305/</code> ê°™ì€ <strong>ì‹¤í–‰ ì‹œì  ê¸°ë°˜ ë²„ì „ ë””ë ‰í„°ë¦¬ ëˆ„ì </strong></li><li>ê° ë””ë ‰í„°ë¦¬ ì•„ë˜ì—<code>feature.csv</code>, <code>schema.json</code>, <code>metadata.json</code> <strong>3ì¢… ì„¸íŠ¸ê°€ í•­ìƒ ìƒì„±</strong></li></ul><p><strong>ğŸ‘‰ ê²°ë¡ :</strong> ì‹¤í–‰ë§ˆë‹¤ <strong>ë…ë¦½ëœ ë²„ì „ ë‹¨ìœ„ ì•„í‹°íŒ©íŠ¸</strong>ê°€ ê¸°ë¡ë©ë‹ˆë‹¤.</p><hr><h2 id=2-airflow-dag-v2-ì—”ë“œíˆ¬ì—”ë“œ-ì‹¤í–‰>2ï¸âƒ£ Airflow DAG v2 ì—”ë“œíˆ¬ì—”ë“œ ì‹¤í–‰<a hidden class=anchor aria-hidden=true href=#2-airflow-dag-v2-ì—”ë“œíˆ¬ì—”ë“œ-ì‹¤í–‰>#</a></h2><p><img alt=proof-02-airflow-dag-v2.png loading=lazy src=/mlops-journey/images/proof-02-airflow-dag-v2.png></p><p>ğŸ“¸ proof-02-airflow-dag-v2.png</p><p><strong>í™•ì¸ í¬ì¸íŠ¸</strong></p><ul><li>DAG: <code>data_pipeline_daily_dev_v2</code></li><li>êµ¬ì„±: extract_raw â†’ validate_data â†’ build_features â†’ store_features â†’ summarize_run</li><li>ëª¨ë“  íƒœìŠ¤í¬ success</li></ul><p><strong>ğŸ‘‰ ê²°ë¡ :</strong> Raw â†’ Feature â†’ ìš”ì•½ê¹Œì§€ <strong>ëŠê¹€ ì—†ì´ ìë™ ì‹¤í–‰</strong>ë©ë‹ˆë‹¤.</p><hr><h2 id=3-feature-ë²„ì „-ì •ë³´-schema--metadata--í’ˆì§ˆ-êµì°¨-ê²€ì¦>3ï¸âƒ£ Feature ë²„ì „ ì •ë³´ (schema Â· metadata Â· í’ˆì§ˆ êµì°¨ ê²€ì¦)<a hidden class=anchor aria-hidden=true href=#3-feature-ë²„ì „-ì •ë³´-schema--metadata--í’ˆì§ˆ-êµì°¨-ê²€ì¦>#</a></h2><p><img alt=proof-03-feature-schema-metadata.png loading=lazy src=/mlops-journey/images/proof-03-feature-schema-metadata.png></p><p>ğŸ“¸ proof-03-feature-schema-metadata.png</p><p><strong>í™•ì¸ í¬ì¸íŠ¸</strong></p><ul><li><code>schema.json</code><ul><li><code>feature_version</code>ì´ S3 ë””ë ‰í„°ë¦¬ëª…ê³¼ ì •í™•íˆ ì¼ì¹˜</li><li>ìƒì„± ì‹œì (KST) í¬í•¨</li></ul></li><li><code>metadata.json</code><ul><li>raw/feature row ìˆ˜, null_rate, raw_valid ìƒì„¸ ê¸°ë¡</li></ul></li><li>Raw vs Feature<ul><li>Airflow ë¡œê·¸(rows/null_rate)ì™€
S3 íŒŒì¼(metadata.json)ê³¼
CSV ì‹¤ë°ì´í„°ê°€ <strong>ëª¨ë‘ ë™ì¼</strong></li></ul></li></ul><p><strong>ğŸ‘‰ ê²°ë¡ :</strong> <strong>ìŠ¤í‚¤ë§ˆ/ë©”íƒ€ë°ì´í„°/í’ˆì§ˆ 3ì¤‘ ê²€ì¦ìœ¼ë¡œ ì•ˆì •ì„±ì„ í™•ë³´</strong>í•©ë‹ˆë‹¤.</p><hr><h2 id=4-grafana-ê´€ì¸¡-logs--pipeline-runs>4ï¸âƒ£ Grafana ê´€ì¸¡ (Logs + Pipeline Runs)<a hidden class=anchor aria-hidden=true href=#4-grafana-ê´€ì¸¡-logs--pipeline-runs>#</a></h2><p><img alt=proof-04-grafana-dp-logs-runs.png loading=lazy src=/mlops-journey/images/proof-04-grafana-dp-logs-runs.png></p><p>ğŸ“¸ proof-04-grafana-dp-logs-runs.png</p><p><strong>í™•ì¸ í¬ì¸íŠ¸</strong></p><ul><li><code>[DP]</code> ë¡œê·¸ë¡œ ë‹¨ê³„ë³„ ì‹¤í–‰ íë¦„(time-ordered) í™•ì¸</li><li>summarize_run count íŒ¨ë„ë¡œ ì‹¤í–‰ ì‹œê°„ëŒ€Â·ë¹ˆë„ í™•ì¸</li><li>ë²„ì „ ì •ë³´ì™€ ì‹¤í–‰ íŒ¨í„´ì´ í•œ í™”ë©´ì— í‘œí˜„</li></ul><p><strong>ğŸ‘‰ ê²°ë¡ :</strong> <strong>ë¡œê·¸Â·ë©”íŠ¸ë¦­ ê¸°ë°˜ì˜ ìš´ì˜í˜• ê´€ì¸¡ì´ ì™„ì„±</strong>ë˜ì—ˆìŠµë‹ˆë‹¤.</p></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><p style=margin-top:1rem>Â© 2025 Keonho Ban | <a href=https://github.com/keonhoban target=_blank>GitHub</a> | <a href=mailto:keonho0510@naver.com>Email</a></p></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>